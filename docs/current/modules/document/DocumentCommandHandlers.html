<!DOCTYPE html>
<html lang="en">
  <head>
    <title>DocumentCommandHandlers - Brackets API</title>
    <link rel="stylesheet" href="../../assets/css/bootstrap.css">
    <link rel="stylesheet" href="../../assets/css/typeahead.js-bootstrap.css">
    <link rel="stylesheet" href="../../assets/css/font-awesome.css">
    <link rel="stylesheet" href="../../assets/css/prism.css">
    <link rel="stylesheet" href="../../assets/css/main.css">
    <!--[if IE 7]>
    <link rel="stylesheet" href="../assets/css/font-awesome-ie7.css">
    <![endif]-->
    <script type="text/javascript" src="../../assets/js/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="../../assets/js/bootstrap.js"></script>
    <script type="text/javascript" src="../../assets/js/typeahead.js"></script>
    <script type="text/javascript" src="../../assets/js/main.js"></script>
    <script src="http://use.edgefonts.net/source-sans-pro:n3,i3,n4,i4;source-code-pro.js"></script>

    <!-- Control the Flash of Unstyled Text (or FOUT) -->
    <style type="text/css">
        .wf-loading h1, .wf-loading h2, .wf-loading h3, .wf-loading h4,
        .wf-loading h5, .wf-loading h6, .wf-loading p, .wf-loading a {
            visibility: hidden;
        }
    </style>
    
    <script>
      window.moduleLevel = "../..";
    </script>
  </head>
  
  <body>
    <div class="row-fluid">
      <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
          <div class="container">
            <a class="brand" href="../../index.html">Brackets API</a>
            <div class="nav-collapse collapse">
              <ul class="nav">
                <li><a href="#dependencies">Dependencies</a></li>
                <li><a href="#variables">Variables</a></li>
                <li><a href="#functions">Functions</a></li>
                <li><a href="#classes">Classes</a></li>
              </ul>
            </div>
            <input class="typeahead" placeholder="Search..." type="text" >
          </div>
        </div>
      </div>    </div>
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">
          <div class="left-section">
            <h2 class="number-of-modules">Modules (207)</h2>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_"><i class="icon-folder-open"></i>[root]</a>
              </li>
            </ul>
            <ul id="package_" class="nav nav-list">
              <li><a href="../../modules/brackets.html">brackets</a></li>
              <li><a href="../../modules/dependencies.html">dependencies</a></li>
              <li><a href="../../modules/main.html">main</a></li>
              <li><a href="../../modules/strings.html">strings</a></li>
              <li><a href="../../modules/xorigin.html">xorigin</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_command"><i class="icon-folder-open"></i>command</a>
              </li>
            </ul>
            <ul id="package_command" class="nav nav-list">
              <li><a href="../../modules/command/CommandManager.html">CommandManager</a></li>
              <li><a href="../../modules/command/Commands.html">Commands</a></li>
              <li><a href="../../modules/command/DefaultMenus.html">DefaultMenus</a></li>
              <li><a href="../../modules/command/KeyBindingManager.html">KeyBindingManager</a></li>
              <li><a href="../../modules/command/Menus.html">Menus</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_document"><i class="icon-folder-open"></i>document</a>
              </li>
            </ul>
            <ul id="package_document" class="nav nav-list">
              <li><a href="../../modules/document/ChangedDocumentTracker.html">ChangedDocumentTracker</a></li>
              <li><a href="../../modules/document/Document.html">Document</a></li>
              <li><a href="../../modules/document/DocumentCommandHandlers.html">DocumentCommandHandlers</a></li>
              <li><a href="../../modules/document/DocumentManager.html">DocumentManager</a></li>
              <li><a href="../../modules/document/InMemoryFile.html">InMemoryFile</a></li>
              <li><a href="../../modules/document/TextRange.html">TextRange</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_editor"><i class="icon-folder-open"></i>editor</a>
              </li>
            </ul>
            <ul id="package_editor" class="nav nav-list">
              <li><a href="../../modules/editor/CodeHintList.html">CodeHintList</a></li>
              <li><a href="../../modules/editor/CodeHintManager.html">CodeHintManager</a></li>
              <li><a href="../../modules/editor/CSSInlineEditor.html">CSSInlineEditor</a></li>
              <li><a href="../../modules/editor/Editor.html">Editor</a></li>
              <li><a href="../../modules/editor/EditorCommandHandlers.html">EditorCommandHandlers</a></li>
              <li><a href="../../modules/editor/EditorManager.html">EditorManager</a></li>
              <li><a href="../../modules/editor/EditorOptionHandlers.html">EditorOptionHandlers</a></li>
              <li><a href="../../modules/editor/EditorStatusBar.html">EditorStatusBar</a></li>
              <li><a href="../../modules/editor/ImageViewer.html">ImageViewer</a></li>
              <li><a href="../../modules/editor/InlineTextEditor.html">InlineTextEditor</a></li>
              <li><a href="../../modules/editor/InlineWidget.html">InlineWidget</a></li>
              <li><a href="../../modules/editor/MultiRangeInlineEditor.html">MultiRangeInlineEditor</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_extensibility"><i class="icon-folder-open"></i>extensibility</a>
              </li>
            </ul>
            <ul id="package_extensibility" class="nav nav-list">
              <li><a href="../../modules/extensibility/ExtensionManager.html">ExtensionManager</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerDialog.html">ExtensionManagerDialog</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerView.html">ExtensionManagerView</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerViewModel.html">ExtensionManagerViewModel</a></li>
              <li><a href="../../modules/extensibility/InstallExtensionDialog.html">InstallExtensionDialog</a></li>
              <li><a href="../../modules/extensibility/Package.html">Package</a></li>
              <li><a href="../../modules/extensibility/registry_utils.html">registry_utils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_features"><i class="icon-folder-open"></i>features</a>
              </li>
            </ul>
            <ul id="package_features" class="nav nav-list">
              <li><a href="../../modules/features/FindReferencesManager.html">FindReferencesManager</a></li>
              <li><a href="../../modules/features/JumpToDefManager.html">JumpToDefManager</a></li>
              <li><a href="../../modules/features/ParameterHintsManager.html">ParameterHintsManager</a></li>
              <li><a href="../../modules/features/PriorityBasedRegistration.html">PriorityBasedRegistration</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_file"><i class="icon-folder-open"></i>file</a>
              </li>
            </ul>
            <ul id="package_file" class="nav nav-list">
              <li><a href="../../modules/file/FileUtils.html">FileUtils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem"><i class="icon-folder-open"></i>filesystem</a>
              </li>
            </ul>
            <ul id="package_filesystem" class="nav nav-list">
              <li><a href="../../modules/filesystem/Directory.html">Directory</a></li>
              <li><a href="../../modules/filesystem/File.html">File</a></li>
              <li><a href="../../modules/filesystem/FileIndex.html">FileIndex</a></li>
              <li><a href="../../modules/filesystem/FileSystem.html">FileSystem</a></li>
              <li><a href="../../modules/filesystem/FileSystemEntry.html">FileSystemEntry</a></li>
              <li><a href="../../modules/filesystem/FileSystemError.html">FileSystemError</a></li>
              <li><a href="../../modules/filesystem/FileSystemStats.html">FileSystemStats</a></li>
              <li><a href="../../modules/filesystem/WatchedRoot.html">WatchedRoot</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem_impls_appshell"><i class="icon-folder-open"></i>filesystem&#x2F;impls&#x2F;appshell</a>
              </li>
            </ul>
            <ul id="package_filesystem_impls_appshell" class="nav nav-list">
              <li><a href="../../modules/filesystem/impls/appshell/AppshellFileSystem.html">AppshellFileSystem</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem_impls_appshell_node"><i class="icon-folder-open"></i>filesystem&#x2F;impls&#x2F;appshell&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_filesystem_impls_appshell_node" class="nav nav-list">
              <li><a href="../../modules/filesystem/impls/appshell/node/ChokidarWatcher.html">ChokidarWatcher</a></li>
              <li><a href="../../modules/filesystem/impls/appshell/node/CSharpWatcher.html">CSharpWatcher</a></li>
              <li><a href="../../modules/filesystem/impls/appshell/node/FileWatcherDomain.html">FileWatcherDomain</a></li>
              <li><a href="../../modules/filesystem/impls/appshell/node/FileWatcherManager.html">FileWatcherManager</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_help"><i class="icon-folder-open"></i>help</a>
              </li>
            </ul>
            <ul id="package_help" class="nav nav-list">
              <li><a href="../../modules/help/HelpCommandHandlers.html">HelpCommandHandlers</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_JSUtils"><i class="icon-folder-open"></i>JSUtils</a>
              </li>
            </ul>
            <ul id="package_JSUtils" class="nav nav-list">
              <li><a href="../../modules/JSUtils/HintUtils.html">HintUtils</a></li>
              <li><a href="../../modules/JSUtils/MessageIds.html">MessageIds</a></li>
              <li><a href="../../modules/JSUtils/Preferences.html">Preferences</a></li>
              <li><a href="../../modules/JSUtils/ScopeManager.html">ScopeManager</a></li>
              <li><a href="../../modules/JSUtils/Session.html">Session</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_JSUtils_node"><i class="icon-folder-open"></i>JSUtils&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_JSUtils_node" class="nav nav-list">
              <li><a href="../../modules/JSUtils/node/ExtractFileContent.html">ExtractFileContent</a></li>
              <li><a href="../../modules/JSUtils/node/TernNodeDomain.html">TernNodeDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_language"><i class="icon-folder-open"></i>language</a>
              </li>
            </ul>
            <ul id="package_language" class="nav nav-list">
              <li><a href="../../modules/language/CodeInspection.html">CodeInspection</a></li>
              <li><a href="../../modules/language/CSSUtils.html">CSSUtils</a></li>
              <li><a href="../../modules/language/HTMLDOMDiff.html">HTMLDOMDiff</a></li>
              <li><a href="../../modules/language/HTMLInstrumentation.html">HTMLInstrumentation</a></li>
              <li><a href="../../modules/language/HTMLSimpleDOM.html">HTMLSimpleDOM</a></li>
              <li><a href="../../modules/language/HTMLTokenizer.html">HTMLTokenizer</a></li>
              <li><a href="../../modules/language/HTMLUtils.html">HTMLUtils</a></li>
              <li><a href="../../modules/language/JSONUtils.html">JSONUtils</a></li>
              <li><a href="../../modules/language/JSUtils.html">JSUtils</a></li>
              <li><a href="../../modules/language/LanguageManager.html">LanguageManager</a></li>
              <li><a href="../../modules/language/XMLUtils.html">XMLUtils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_languageTools"><i class="icon-folder-open"></i>languageTools</a>
              </li>
            </ul>
            <ul id="package_languageTools" class="nav nav-list">
              <li><a href="../../modules/languageTools/BracketsToNodeInterface.html">BracketsToNodeInterface</a></li>
              <li><a href="../../modules/languageTools/ClientLoader.html">ClientLoader</a></li>
              <li><a href="../../modules/languageTools/DefaultEventHandlers.html">DefaultEventHandlers</a></li>
              <li><a href="../../modules/languageTools/DefaultProviders.html">DefaultProviders</a></li>
              <li><a href="../../modules/languageTools/LanguageClientWrapper.html">LanguageClientWrapper</a></li>
              <li><a href="../../modules/languageTools/LanguageTools.html">LanguageTools</a></li>
              <li><a href="../../modules/languageTools/PathConverters.html">PathConverters</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_languageTools_LanguageClient"><i class="icon-folder-open"></i>languageTools&#x2F;LanguageClient</a>
              </li>
            </ul>
            <ul id="package_languageTools_LanguageClient" class="nav nav-list">
              <li><a href="../../modules/languageTools/LanguageClient/Connection.html">Connection</a></li>
              <li><a href="../../modules/languageTools/LanguageClient/LanguageClient.html">LanguageClient</a></li>
              <li><a href="../../modules/languageTools/LanguageClient/NodeToBracketsInterface.html">NodeToBracketsInterface</a></li>
              <li><a href="../../modules/languageTools/LanguageClient/ProtocolAdapter.html">ProtocolAdapter</a></li>
              <li><a href="../../modules/languageTools/LanguageClient/ServerUtils.html">ServerUtils</a></li>
              <li><a href="../../modules/languageTools/LanguageClient/Utils.html">Utils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_languageTools_node"><i class="icon-folder-open"></i>languageTools&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_languageTools_node" class="nav nav-list">
              <li><a href="../../modules/languageTools/node/RegisterLanguageClientInfo.html">RegisterLanguageClientInfo</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Agents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Agents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Agents" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Agents/ConsoleAgent.html">ConsoleAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/CSSAgent.html">CSSAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMAgent.html">DOMAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMHelpers.html">DOMHelpers</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMNode.html">DOMNode</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/EditAgent.html">EditAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/GotoAgent.html">GotoAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/HighlightAgent.html">HighlightAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/NetworkAgent.html">NetworkAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/RemoteAgent.html">RemoteAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/RemoteFunctions.html">RemoteFunctions</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/ScriptAgent.html">ScriptAgent</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Documents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Documents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Documents" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Documents/CSSDocument.html">CSSDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/CSSPreprocessorDocument.html">CSSPreprocessorDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/HTMLDocument.html">HTMLDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/JSDocument.html">JSDocument</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Inspector"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Inspector</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Inspector" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Inspector/Inspector.html">Inspector</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment"><i class="icon-folder-open"></i>LiveDevelopment</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/LiveDevelopment.html">LiveDevelopment</a></li>
              <li><a href="../../modules/LiveDevelopment/LiveDevelopmentUtils.html">LiveDevelopmentUtils</a></li>
              <li><a href="../../modules/LiveDevelopment/LiveDevMultiBrowser.html">LiveDevMultiBrowser</a></li>
              <li><a href="../../modules/LiveDevelopment/LiveDevServerManager.html">LiveDevServerManager</a></li>
              <li><a href="../../modules/LiveDevelopment/main.html">main</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_documents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;documents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_documents" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/documents/LiveCSSDocument.html">LiveCSSDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/documents/LiveDocument.html">LiveDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/documents/LiveHTMLDocument.html">LiveHTMLDocument</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_language"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;language</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_language" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/language/HTMLInstrumentation.html">HTMLInstrumentation</a></li>
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/language/HTMLSimpleDOM.html">HTMLSimpleDOM</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_launchers"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;launchers</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_launchers" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/launchers/Launcher.html">Launcher</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_launchers_node"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;launchers&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_launchers_node" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/launchers/node/LauncherDomain.html">LauncherDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_protocol"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;protocol</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_protocol" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/protocol/LiveDevProtocol.html">LiveDevProtocol</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_protocol_remote"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;protocol&#x2F;remote</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_protocol_remote" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/protocol/remote/DocumentObserver.html">DocumentObserver</a></li>
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/protocol/remote/LiveDevProtocolRemote.html">LiveDevProtocolRemote</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_transports_node"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;transports&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_transports_node" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/transports/node/NodeSocketTransportDomain.html">NodeSocketTransportDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_transports"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;transports</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_transports" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/transports/NodeSocketTransport.html">NodeSocketTransport</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_transports_remote"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;transports&#x2F;remote</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_transports_remote" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/transports/remote/NodeSocketTransportRemote.html">NodeSocketTransportRemote</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Servers"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Servers</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Servers" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Servers/BaseServer.html">BaseServer</a></li>
              <li><a href="../../modules/LiveDevelopment/Servers/FileServer.html">FileServer</a></li>
              <li><a href="../../modules/LiveDevelopment/Servers/UserServer.html">UserServer</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_transports_node"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;transports&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_transports_node" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/transports/node/WebSocketTransportDomain.html">WebSocketTransportDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_transports"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;transports</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_transports" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/transports/WebSocketTransport.html">WebSocketTransport</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_preferences"><i class="icon-folder-open"></i>preferences</a>
              </li>
            </ul>
            <ul id="package_preferences" class="nav nav-list">
              <li><a href="../../modules/preferences/PreferencesBase.html">PreferencesBase</a></li>
              <li><a href="../../modules/preferences/PreferencesDialogs.html">PreferencesDialogs</a></li>
              <li><a href="../../modules/preferences/PreferencesImpl.html">PreferencesImpl</a></li>
              <li><a href="../../modules/preferences/PreferencesManager.html">PreferencesManager</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_project"><i class="icon-folder-open"></i>project</a>
              </li>
            </ul>
            <ul id="package_project" class="nav nav-list">
              <li><a href="../../modules/project/FileSyncManager.html">FileSyncManager</a></li>
              <li><a href="../../modules/project/FileTreeView.html">FileTreeView</a></li>
              <li><a href="../../modules/project/FileTreeViewModel.html">FileTreeViewModel</a></li>
              <li><a href="../../modules/project/FileViewController.html">FileViewController</a></li>
              <li><a href="../../modules/project/ProjectManager.html">ProjectManager</a></li>
              <li><a href="../../modules/project/ProjectModel.html">ProjectModel</a></li>
              <li><a href="../../modules/project/SidebarView.html">SidebarView</a></li>
              <li><a href="../../modules/project/WorkingSetSort.html">WorkingSetSort</a></li>
              <li><a href="../../modules/project/WorkingSetView.html">WorkingSetView</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_search"><i class="icon-folder-open"></i>search</a>
              </li>
            </ul>
            <ul id="package_search" class="nav nav-list">
              <li><a href="../../modules/search/FileFilters.html">FileFilters</a></li>
              <li><a href="../../modules/search/FindBar.html">FindBar</a></li>
              <li><a href="../../modules/search/FindInFiles.html">FindInFiles</a></li>
              <li><a href="../../modules/search/FindInFilesUI.html">FindInFilesUI</a></li>
              <li><a href="../../modules/search/FindReplace.html">FindReplace</a></li>
              <li><a href="../../modules/search/FindUtils.html">FindUtils</a></li>
              <li><a href="../../modules/search/QuickOpen.html">QuickOpen</a></li>
              <li><a href="../../modules/search/QuickOpenHelper.html">QuickOpenHelper</a></li>
              <li><a href="../../modules/search/QuickSearchField.html">QuickSearchField</a></li>
              <li><a href="../../modules/search/ScrollTrackMarkers.html">ScrollTrackMarkers</a></li>
              <li><a href="../../modules/search/SearchModel.html">SearchModel</a></li>
              <li><a href="../../modules/search/SearchResultsView.html">SearchResultsView</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_search_node"><i class="icon-folder-open"></i>search&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_search_node" class="nav nav-list">
              <li><a href="../../modules/search/node/FindInFilesDomain.html">FindInFilesDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_utils"><i class="icon-folder-open"></i>utils</a>
              </li>
            </ul>
            <ul id="package_utils" class="nav nav-list">
              <li><a href="../../modules/utils/AnimationUtils.html">AnimationUtils</a></li>
              <li><a href="../../modules/utils/AppInit.html">AppInit</a></li>
              <li><a href="../../modules/utils/Async.html">Async</a></li>
              <li><a href="../../modules/utils/BuildInfoUtils.html">BuildInfoUtils</a></li>
              <li><a href="../../modules/utils/ColorUtils.html">ColorUtils</a></li>
              <li><a href="../../modules/utils/Compatibility.html">Compatibility</a></li>
              <li><a href="../../modules/utils/DeprecationWarning.html">DeprecationWarning</a></li>
              <li><a href="../../modules/utils/DragAndDrop.html">DragAndDrop</a></li>
              <li><a href="../../modules/utils/DropdownEventHandler.html">DropdownEventHandler</a></li>
              <li><a href="../../modules/utils/EventDispatcher.html">EventDispatcher</a></li>
              <li><a href="../../modules/utils/ExtensionLoader.html">ExtensionLoader</a></li>
              <li><a href="../../modules/utils/ExtensionUtils.html">ExtensionUtils</a></li>
              <li><a href="../../modules/utils/Global.html">Global</a></li>
              <li><a href="../../modules/utils/HealthLogger.html">HealthLogger</a></li>
              <li><a href="../../modules/utils/KeyEvent.html">KeyEvent</a></li>
              <li><a href="../../modules/utils/LocalizationUtils.html">LocalizationUtils</a></li>
              <li><a href="../../modules/utils/NativeApp.html">NativeApp</a></li>
              <li><a href="../../modules/utils/NodeConnection.html">NodeConnection</a></li>
              <li><a href="../../modules/utils/NodeDomain.html">NodeDomain</a></li>
              <li><a href="../../modules/utils/PerfUtils.html">PerfUtils</a></li>
              <li><a href="../../modules/utils/Resizer.html">Resizer</a></li>
              <li><a href="../../modules/utils/ShellAPI.html">ShellAPI</a></li>
              <li><a href="../../modules/utils/StringMatch.html">StringMatch</a></li>
              <li><a href="../../modules/utils/StringUtils.html">StringUtils</a></li>
              <li><a href="../../modules/utils/TokenUtils.html">TokenUtils</a></li>
              <li><a href="../../modules/utils/UpdateNotification.html">UpdateNotification</a></li>
              <li><a href="../../modules/utils/UrlParams.html">UrlParams</a></li>
              <li><a href="../../modules/utils/ValidationUtils.html">ValidationUtils</a></li>
              <li><a href="../../modules/utils/ViewUtils.html">ViewUtils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_view"><i class="icon-folder-open"></i>view</a>
              </li>
            </ul>
            <ul id="package_view" class="nav nav-list">
              <li><a href="../../modules/view/MainViewFactory.html">MainViewFactory</a></li>
              <li><a href="../../modules/view/MainViewManager.html">MainViewManager</a></li>
              <li><a href="../../modules/view/Pane.html">Pane</a></li>
              <li><a href="../../modules/view/ThemeManager.html">ThemeManager</a></li>
              <li><a href="../../modules/view/ThemeSettings.html">ThemeSettings</a></li>
              <li><a href="../../modules/view/ThemeView.html">ThemeView</a></li>
              <li><a href="../../modules/view/ViewCommandHandlers.html">ViewCommandHandlers</a></li>
              <li><a href="../../modules/view/ViewStateManager.html">ViewStateManager</a></li>
              <li><a href="../../modules/view/WorkspaceManager.html">WorkspaceManager</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_widgets"><i class="icon-folder-open"></i>widgets</a>
              </li>
            </ul>
            <ul id="package_widgets" class="nav nav-list">
              <li><a href="../../modules/widgets/bootstrap-alerts.html">bootstrap-alerts</a></li>
              <li><a href="../../modules/widgets/bootstrap-button.html">bootstrap-button</a></li>
              <li><a href="../../modules/widgets/bootstrap-dropdown.html">bootstrap-dropdown</a></li>
              <li><a href="../../modules/widgets/bootstrap-modal.html">bootstrap-modal</a></li>
              <li><a href="../../modules/widgets/bootstrap-popover.html">bootstrap-popover</a></li>
              <li><a href="../../modules/widgets/bootstrap-scrollspy.html">bootstrap-scrollspy</a></li>
              <li><a href="../../modules/widgets/bootstrap-tab.html">bootstrap-tab</a></li>
              <li><a href="../../modules/widgets/bootstrap-tooltip.html">bootstrap-tooltip</a></li>
              <li><a href="../../modules/widgets/bootstrap-twipsy-mod.html">bootstrap-twipsy-mod</a></li>
              <li><a href="../../modules/widgets/DefaultDialogs.html">DefaultDialogs</a></li>
              <li><a href="../../modules/widgets/Dialogs.html">Dialogs</a></li>
              <li><a href="../../modules/widgets/DropdownButton.html">DropdownButton</a></li>
              <li><a href="../../modules/widgets/infobar.html">infobar</a></li>
              <li><a href="../../modules/widgets/InlineMenu.html">InlineMenu</a></li>
              <li><a href="../../modules/widgets/ModalBar.html">ModalBar</a></li>
              <li><a href="../../modules/widgets/PopUpManager.html">PopUpManager</a></li>
              <li><a href="../../modules/widgets/StatusBar.html">StatusBar</a></li>
            </ul>
          </div>
        </div>
        <div class="module span9">
<h1>DocumentCommandHandlers</h1>


<section class="description">
    <h3>Description</h3>
    
    <div></div>
    
</section>

<section id="dependencies">
    <h3>Dependencies</h3>

    <ul class="nav nav-list">
        <li><a href="..&#x2F;../modules/utils/AppInit.html">AppInit</a></li>
        <li><a href="..&#x2F;../modules/utils/Async.html">Async</a></li>
        <li><a href="..&#x2F;../modules/command/CommandManager.html">CommandManager</a></li>
        <li><a href="..&#x2F;../modules/command/Commands.html">Commands</a></li>
        <li><a href="..&#x2F;../modules/widgets/DefaultDialogs.html">DefaultDialogs</a></li>
        <li><a href="..&#x2F;../modules/utils/DeprecationWarning.html">DeprecationWarning</a></li>
        <li><a href="..&#x2F;../modules/widgets/Dialogs.html">Dialogs</a></li>
        <li><a href="..&#x2F;../modules/document/DocumentManager.html">DocumentManager</a></li>
        <li><a href="..&#x2F;../modules/editor/EditorManager.html">EditorManager</a></li>
        <li><a href="..&#x2F;../modules/utils/EventDispatcher.html">EventDispatcher</a></li>
        <li><a href="..&#x2F;../modules/filesystem/FileSystem.html">FileSystem</a></li>
        <li><a href="..&#x2F;../modules/filesystem/FileSystemError.html">FileSystemError</a></li>
        <li><a href="..&#x2F;../modules/file/FileUtils.html">FileUtils</a></li>
        <li><a href="..&#x2F;../modules/project/FileViewController.html">FileViewController</a></li>
        <li><a href="..&#x2F;../modules/utils/HealthLogger.html">HealthLogger</a></li>
        <li><a href="..&#x2F;../modules/document/InMemoryFile.html">InMemoryFile</a></li>
        <li><a href="..&#x2F;../modules/LiveDevelopment/Inspector/Inspector.html">Inspector</a></li>
        <li><a href="..&#x2F;../modules/utils/KeyEvent.html">KeyEvent</a></li>
        <li><a href="..&#x2F;../modules/language/LanguageManager.html">LanguageManager</a></li>
        <li><a href="..&#x2F;../modules/thirdparty/lodash.html">lodash</a></li>
        <li><a href="..&#x2F;../modules/view/MainViewManager.html">MainViewManager</a></li>
        <li><a href="..&#x2F;../modules/command/Menus.html">Menus</a></li>
        <li><a href="..&#x2F;../modules/utils/PerfUtils.html">PerfUtils</a></li>
        <li><a href="..&#x2F;../modules/widgets/PopUpManager.html">PopUpManager</a></li>
        <li><a href="..&#x2F;../modules/preferences/PreferencesManager.html">PreferencesManager</a></li>
        <li><a href="..&#x2F;../modules/project/ProjectManager.html">ProjectManager</a></li>
        <li><a href="..&#x2F;../modules/widgets/StatusBar.html">StatusBar</a></li>
        <li><a href="..&#x2F;../modules/strings.html">strings</a></li>
        <li><a href="..&#x2F;../modules/utils/StringUtils.html">StringUtils</a></li>
        <li><a href="..&#x2F;../modules/utils/UrlParams.html">UrlParams</a></li>
        <li><a href="..&#x2F;../modules/view/WorkspaceManager.html">WorkspaceManager</a></li>
    </ul>

</section>
<section id="variables">
    
    <h3>Variables 
<label class="checkbox">
    <input class="toggle-public" type="checkbox"> Show Private Members
</label>    </h3>

<div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        APP_QUIT_CANCELLED 
        <a class="anchor" href="#-APP_QUIT_CANCELLED" id="-APP_QUIT_CANCELLED"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Event triggered when File Save is cancelled, when prompted to save dirty files</p>
</div>
    
<dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var APP_QUIT_CANCELLED = &quot;appQuitCancelled&quot;;</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        USER_CANCELED 
        <a class="anchor" href="#-USER_CANCELED" id="-USER_CANCELED"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Unique token used to indicate user-driven cancellation of Save As (as opposed to file IO error)</p>
</div>
    
<dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var USER_CANCELED = { userCanceled: true };

    PreferencesManager.definePreference(&quot;defaultExtension&quot;, &quot;string&quot;, &quot;&quot;, {
        excludeFromHints: true
    });
    EventDispatcher.makeEventDispatcher(exports);</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        WINDOW_TITLE_STRING_DOC 
        <a class="anchor" href="#-WINDOW_TITLE_STRING_DOC" id="-WINDOW_TITLE_STRING_DOC"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>String template for window title when a file is open.</p>
</div>
    
<dl>
    <dt>Type</dt>
    <dd>string</dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var WINDOW_TITLE_STRING_DOC = &quot;{0} ({1}) &quot; + _osDash + &quot; {2}&quot;;</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        WINDOW_TITLE_STRING_NO_DOC 
        <a class="anchor" href="#-WINDOW_TITLE_STRING_NO_DOC" id="-WINDOW_TITLE_STRING_NO_DOC"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>String template for window title when no file is open.</p>
</div>
    
<dl>
    <dt>Type</dt>
    <dd>string</dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var WINDOW_TITLE_STRING_NO_DOC = &quot;{0} &quot; + _osDash + &quot; {1}&quot;;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _$dirtydot 
        <a class="anchor" href="#-_$dirtydot" id="-_$dirtydot"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Container for dirty dot; must be an inline element</p>
</div>
    
<dl>
    <dt>Type</dt>
    <dd>jQueryObject</dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _$dirtydot = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _$title 
        <a class="anchor" href="#-_$title" id="-_$title"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Container for label shown above editor; must be an inline element</p>
</div>
    
<dl>
    <dt>Type</dt>
    <dd>jQueryObject</dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _$title = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _$titleContainerToolbar 
        <a class="anchor" href="#-_$titleContainerToolbar" id="-_$titleContainerToolbar"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Container for _$titleWrapper; if changing title changes this element&#39;s height, must kick editor to resize</p>
</div>
    
<dl>
    <dt>Type</dt>
    <dd>jQueryObject</dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _$titleContainerToolbar = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _$titleWrapper 
        <a class="anchor" href="#-_$titleWrapper" id="-_$titleWrapper"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Container for _$title; need not be an inline element</p>
</div>
    
<dl>
    <dt>Type</dt>
    <dd>jQueryObject</dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _$titleWrapper = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _addedNavKeyHandler 
        <a class="anchor" href="#-_addedNavKeyHandler" id="-_addedNavKeyHandler"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Are we already listening for a keyup to call detectDocumentNavEnd()?</p>
</div>
    
<dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _addedNavKeyHandler = false;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _currentTitlePath 
        <a class="anchor" href="#-_currentTitlePath" id="-_currentTitlePath"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Label shown above editor for current document: filename and potentially some of its path</p>
</div>
    
<dl>
    <dt>Type</dt>
    <dd>string</dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _currentTitlePath = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _defaultOpenDialogFullPath 
        <a class="anchor" href="#-_defaultOpenDialogFullPath" id="-_defaultOpenDialogFullPath"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _defaultOpenDialogFullPath = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _isReloading 
        <a class="anchor" href="#-_isReloading" id="-_isReloading"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>prevents reentrancy of browserReload()</p>
</div>
    
<dl>
    <dt>Type</dt>
    <dd>boolean</dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _isReloading = false;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _lastToolbarHeight 
        <a class="anchor" href="#-_lastToolbarHeight" id="-_lastToolbarHeight"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Last known height of _$titleContainerToolbar</p>
</div>
    
<dl>
    <dt>Type</dt>
    <dd>number</dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _lastToolbarHeight = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _nextUntitledIndexToUse 
        <a class="anchor" href="#-_nextUntitledIndexToUse" id="-_nextUntitledIndexToUse"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>index to use for next, new Untitled document</p>
</div>
    
<dl>
    <dt>Type</dt>
    <dd>number</dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _nextUntitledIndexToUse = 1;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _osDash 
        <a class="anchor" href="#-_osDash" id="-_osDash"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Determine the dash character for each platform. Use emdash on Mac
and a standard dash on all other platforms.</p>
</div>
    
<dl>
    <dt>Type</dt>
    <dd>string</dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _osDash = brackets.platform === &quot;mac&quot; ? &quot;\u2014&quot; : &quot;-&quot;;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _windowGoingAway 
        <a class="anchor" href="#-_windowGoingAway" id="-_windowGoingAway"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _windowGoingAway = false;</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        fileNewInProgress 
        <a class="anchor" href="#-fileNewInProgress" id="-fileNewInProgress"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Prevents re-entrancy into handleFileNewInProject()</p>
<p>handleFileNewInProject() first prompts the user to name a file and then asynchronously writes the file when the
filename field loses focus. This boolean prevent additional calls to handleFileNewInProject() when an existing
file creation call is outstanding</p>
</div>
    
<dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var fileNewInProgress = false;</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleFileSaveAs 
        <a class="anchor" href="#-handleFileSaveAs" id="-handleFileSaveAs"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>JSLint workaround for circular dependency</p>
</div>
    
<dl>
    <dt>Type</dt>
    <dd>function</dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var handleFileSaveAs;</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleReloadWithoutExts 
        <a class="anchor" href="#-handleReloadWithoutExts" id="-handleReloadWithoutExts"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Reload Without Extensions commnad handler *</p>
</div>
    
<dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var handleReloadWithoutExts = _.partial(handleReload, true);</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        isTestWindow 
        <a class="anchor" href="#-isTestWindow" id="-isTestWindow"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Attach a beforeunload handler to notify user about unsaved changes and URL redirection in CEF.
Prevents data loss in scenario reported under #13708
Make sure we don&#39;t attach this handler if the current window is actually a test window</p>
</div>
    
<dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">
    var isTestWindow = (new window.URLSearchParams(window.location.search || &quot;&quot;)).get(&quot;testEnvironment&quot;);
    if (!isTestWindow) {
        window.onbeforeunload = function(e) {
            var openDocs = DocumentManager.getAllOpenDocuments();

            &#x2F;&#x2F; Detect any unsaved changes
            openDocs = openDocs.filter(function(doc) {
                return doc &amp;&amp; doc.isDirty;
            });

            &#x2F;&#x2F; Ensure we are not in normal app-quit or reload workflow
            if (!_isReloading &amp;&amp; !_windowGoingAway) {
                if (openDocs.length &gt; 0) {
                    return Strings.WINDOW_UNLOAD_WARNING_WITH_UNSAVED_CHANGES;
                } else {
                    return Strings.WINDOW_UNLOAD_WARNING;
                }
            }
        };
    }</code></pre></div>
</section>

<section id="functions">

    <h3>Functions 
<label class="checkbox">
    <input class="toggle-public" type="checkbox"> Show Private Members
</label>    </h3>

<div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _closeList 
        <a class="anchor" href="#-_closeList" id="-_closeList"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        list
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">Array.&lt;File&gt;</span>
    </dt>
    <dd>the list of files to close</dd>
    <dt>
        promptOnly
        <span class="label label-info">boolean</span>
    </dt>
    <dd>true to just prompt for saving documents with actually closing them.</dd>
    <dt>
        _forceClose
        <span class="label label-info">boolean</span>
    </dt>
    <dd>Whether to force all the documents to close even if they have unsaved changes. For unit testing only.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">jQuery.Promise</span></dt>
    <dd>promise that is resolved or rejected when the function finishes.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _closeList(list, promptOnly, _forceClose) {
        var result      = new $.Deferred(),
            unsavedDocs = [];

        list.forEach(function (file) {
            var doc = DocumentManager.getOpenDocumentForPath(file.fullPath);
            if (doc &amp;&amp; doc.isDirty) {
                unsavedDocs.push(doc);
            }
        });

        if (unsavedDocs.length === 0 || _forceClose) {
            &#x2F;&#x2F; No unsaved changes or we want to ignore them, so we can proceed without a prompt
            result.resolve();

        } else if (unsavedDocs.length === 1) {
            &#x2F;&#x2F; Only one unsaved file: show the usual single-file-close confirmation UI
            var fileCloseArgs = { file: unsavedDocs[0].file, promptOnly: promptOnly, spawnedRequest: true };

            handleFileClose(fileCloseArgs).done(function () {
                &#x2F;&#x2F; still need to close any other, non-unsaved documents
                result.resolve();
            }).fail(function () {
                result.reject();
            });

        } else {
            &#x2F;&#x2F; Multiple unsaved files: show a single bulk prompt listing all files
            var message = Strings.SAVE_CLOSE_MULTI_MESSAGE + FileUtils.makeDialogFileList(_.map(unsavedDocs, _shortTitleForDocument));

            Dialogs.showModalDialog(
                DefaultDialogs.DIALOG_ID_SAVE_CLOSE,
                Strings.SAVE_CLOSE_TITLE,
                message,
                [
                    {
                        className : Dialogs.DIALOG_BTN_CLASS_LEFT,
                        id        : Dialogs.DIALOG_BTN_DONTSAVE,
                        text      : Strings.DONT_SAVE
                    },
                    {
                        className : Dialogs.DIALOG_BTN_CLASS_NORMAL,
                        id        : Dialogs.DIALOG_BTN_CANCEL,
                        text      : Strings.CANCEL
                    },
                    {
                        className : Dialogs.DIALOG_BTN_CLASS_PRIMARY,
                        id        : Dialogs.DIALOG_BTN_OK,
                        text      : Strings.SAVE
                    }
                ]
            )
                .done(function (id) {
                    if (id === Dialogs.DIALOG_BTN_CANCEL) {
                        dispatchAppQuitCancelledEvent();
                        result.reject();
                    } else if (id === Dialogs.DIALOG_BTN_OK) {
                        &#x2F;&#x2F; Save all unsaved files, then if that succeeds, close all
                        _saveFileList(list).done(function (listAfterSave) {
                            &#x2F;&#x2F; List of files after save may be different, if any were Untitled
                            result.resolve(listAfterSave);
                        }).fail(function () {
                            result.reject();
                        });
                    } else {
                        &#x2F;&#x2F; &quot;Don&#39;t Save&quot; case--we can just go ahead and close all files.
                        result.resolve();
                    }
                });
        }

        &#x2F;&#x2F; If all the unsaved-changes confirmations pan out above, then go ahead &amp; close all editors
        &#x2F;&#x2F; NOTE: this still happens before any done() handlers added by our caller, because jQ
        &#x2F;&#x2F; guarantees that handlers run in the order they are added.
        result.done(function (listAfterSave) {
            listAfterSave = listAfterSave || list;
            if (!promptOnly) {
                MainViewManager._closeList(MainViewManager.ALL_PANES, listAfterSave);
            }
        });

        return result.promise();
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _disableCache 
        <a class="anchor" href="#-_disableCache" id="-_disableCache"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Disables Brackets&#39; cache via the remote debugging protocol.</p>
</div>
    
<dl>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>A jQuery promise that will be resolved when the cache is disabled and be rejected in any other case</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _disableCache() {
        var result = new $.Deferred();

        if (brackets.inBrowser) {
            result.resolve();
        } else {
            brackets.app.getRemoteDebuggingPort(function (err, port){
                if ((!err) &amp;&amp; port &amp;&amp; port &gt; 0) {
                    Inspector.getDebuggableWindows(&quot;127.0.0.1&quot;, port)
                        .fail(result.reject)
                        .done(function (response) {
                            var page = response[0];
                            if (!page || !page.webSocketDebuggerUrl) {
                                result.reject();
                                return;
                            }
                            var _socket = new WebSocket(page.webSocketDebuggerUrl);
                            &#x2F;&#x2F; Disable the cache
                            _socket.onopen = function _onConnect() {
                                _socket.send(JSON.stringify({ id: 1, method: &quot;Network.setCacheDisabled&quot;, params: { &quot;cacheDisabled&quot;: true } }));
                            };
                            &#x2F;&#x2F; The first message will be the confirmation =&gt; disconnected to allow remote debugging of Brackets
                            _socket.onmessage = function _onMessage(e) {
                                _socket.close();
                                result.resolve();
                            };
                            &#x2F;&#x2F; In case of an error
                            _socket.onerror = result.reject;
                        });
                }
            });
        }

        return result.promise();
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _doOpen 
        <a class="anchor" href="#-_doOpen" id="-_doOpen"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        fullPath
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">string</span>
    </dt>
    <dd></dd>
    <dt>
        silent
        <span class="label label-optional">optional</span>
        <span class="label label-info">boolean</span>
    </dt>
    <dd>If true, don't show error message</dd>
    <dt>
        paneId,
        <span class="label label-optional">optional</span>
        <span class="label label-info">string</span>
    </dt>
    <dd>the id oi the pane in which to open the file. Can be undefined, a valid pane id or ACTIVE_PANE.</dd>
    <dt>
        options,
        <span class="label label-optional">optional</span>
        <span class="label label-info">{*}</span>
    </dt>
    <dd>command options</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>a jQuery promise that will either - be resolved with a file for the specified file path or - be rejected with FileSystemError if the file can not be read. If paneId is undefined, the ACTIVE_PANE constant</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _doOpen(fullPath, silent, paneId, options) {
        var result = new $.Deferred();

        &#x2F;&#x2F; workaround for https:&#x2F;&#x2F;github.com&#x2F;adobe&#x2F;brackets&#x2F;issues&#x2F;6001
        &#x2F;&#x2F; TODO should be removed once bug is closed.
        &#x2F;&#x2F; if we are already displaying a file do nothing but resolve immediately.
        &#x2F;&#x2F; this fixes timing issues in test cases.
        if (MainViewManager.getCurrentlyViewedPath(paneId || MainViewManager.ACTIVE_PANE) === fullPath) {
            result.resolve(MainViewManager.getCurrentlyViewedFile(paneId || MainViewManager.ACTIVE_PANE));
            return result.promise();
        }

        function _cleanup(fileError, fullFilePath) {
            if (fullFilePath) {
                &#x2F;&#x2F; For performance, we do lazy checking of file existence, so it may be in workingset
                MainViewManager._removeView(paneId, FileSystem.getFileForPath(fullFilePath));
                MainViewManager.focusActivePane();
            }
            result.reject(fileError);
        }
        function _showErrorAndCleanUp(fileError, fullFilePath) {
            if (silent) {
                _cleanup(fileError, fullFilePath);
            } else {
                showFileOpenError(fileError, fullFilePath).done(function () {
                    _cleanup(fileError, fullFilePath);
                });
            }
        }

        if (!fullPath) {
            throw new Error(&quot;_doOpen() called without fullPath&quot;);
        } else {
            var perfTimerName = PerfUtils.markStart(&quot;Open File:\t&quot; + fullPath);
            result.always(function () {
                PerfUtils.addMeasurement(perfTimerName);
            });

            var file = FileSystem.getFileForPath(fullPath);
            if (options &amp;&amp; options.encoding) {
                file._encoding = options.encoding;
            } else {
                var projectRoot = ProjectManager.getProjectRoot(),
                    context = {
                        location : {
                            scope: &quot;user&quot;,
                            layer: &quot;project&quot;,
                            layerID: projectRoot.fullPath
                        }
                    };
                var encoding = PreferencesManager.getViewState(&quot;encoding&quot;, context);
                if (encoding &amp;&amp; encoding[fullPath]) {
                    file._encoding = encoding[fullPath];
                }
            }
            MainViewManager._open(paneId, file, options)
                .done(function () {
                    result.resolve(file);
                })
                .fail(function (fileError) {
                    _showErrorAndCleanUp(fileError, fullPath);
                    result.reject();
                });
        }

        return result.promise();
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _doOpenWithOptionalPath 
        <a class="anchor" href="#-_doOpenWithOptionalPath" id="-_doOpenWithOptionalPath"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        fullPath
        <span class="label label-nullable">nullable</span>
        <span class="label label-info">string</span>
    </dt>
    <dd>The path of the file to open; if it's null we'll prompt for it</dd>
    <dt>
        silent
        <span class="label label-optional">optional</span>
        <span class="label label-info">boolean</span>
    </dt>
    <dd>If true, don't show error message</dd>
    <dt>
        paneId
        <span class="label label-optional">optional</span>
        <span class="label label-info">string</span>
    </dt>
    <dd>the pane in which to open the file. Can be undefined, a valid pane id or ACTIVE_PANE</dd>
    <dt>
        options
        <span class="label label-optional">optional</span>
        <span class="label label-info">{*}</span>
    </dt>
    <dd>options to pass to MainViewManager._open</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>a jQuery promise resolved with a Document object or rejected with an err</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _doOpenWithOptionalPath(fullPath, silent, paneId, options) {
        var result;
        paneId = paneId || MainViewManager.ACTIVE_PANE;
        if (!fullPath) {
            &#x2F;&#x2F; Create placeholder deferred
            result = new $.Deferred();

            &#x2F;&#x2F;first time through, default to the current project path
            if (!_defaultOpenDialogFullPath) {
                _defaultOpenDialogFullPath = ProjectManager.getProjectRoot().fullPath;
            }
            &#x2F;&#x2F; Prompt the user with a dialog
            FileSystem.showOpenDialog(true, false, Strings.OPEN_FILE, _defaultOpenDialogFullPath, null, function (err, paths) {
                if (!err) {
                    if (paths.length &gt; 0) {
                        &#x2F;&#x2F; Add all files to the workingset without verifying that
                        &#x2F;&#x2F; they still exist on disk (for faster opening)
                        var filesToOpen = [];

                        paths.forEach(function (path) {
                            filesToOpen.push(FileSystem.getFileForPath(path));
                        });
                        MainViewManager.addListToWorkingSet(paneId, filesToOpen);

                        _doOpen(paths[paths.length - 1], silent, paneId, options)
                            .done(function (file) {
                                _defaultOpenDialogFullPath =
                                    FileUtils.getDirectoryPath(
                                        MainViewManager.getCurrentlyViewedPath(paneId)
                                    );
                            })
                            &#x2F;&#x2F; Send the resulting document that was opened
                            .then(result.resolve, result.reject);
                    } else {
                        &#x2F;&#x2F; Reject if the user canceled the dialog
                        result.reject();
                    }
                }
            });
        } else {
            result = _doOpen(fullPath, silent, paneId, options);
        }

        return result.promise();
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _doRevert 
        <a class="anchor" href="#-_doRevert" id="-_doRevert"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Reverts the Document to the current contents of its file on disk. Discards any unsaved changes
in the Document.</p>
</div>
    
<dl>
    <dt>
        doc
        <span class="label label-info">Document</span>
    </dt>
    <dd></dd>
    <dt>
        suppressError
        <span class="label label-optional">optional</span>
        <span class="label label-info">boolean</span>
    </dt>
    <dd>If true, then a failure to read the file will be ignored and the resulting promise will be resolved rather than rejected.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>a Promise that's resolved when done, or (if suppressError is false) rejected with a FileSystemError if the file cannot be read (after showing an error dialog to the user).</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _doRevert(doc, suppressError) {
        var result = new $.Deferred();

        FileUtils.readAsText(doc.file)
            .done(function (text, readTimestamp) {
                doc.refreshText(text, readTimestamp);
                result.resolve();
            })
            .fail(function (error) {
                if (suppressError) {
                    result.resolve();
                } else {
                    showFileOpenError(error, doc.file.fullPath)
                        .done(function () {
                            result.reject(error);
                        });
                }
            });

        return result.promise();
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _doSaveAs 
        <a class="anchor" href="#-_doSaveAs" id="-_doSaveAs"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Opens the native OS save as dialog and saves document.
The original document is reverted in case it was dirty.
Text selection and cursor position from the original document
are preserved in the new document.
When saving to the original document the document is saved as if save was called.</p>
</div>
    
<dl>
    <dt>
        doc
        <span class="label label-info">Document</span>
    </dt>
    <dd></dd>
    <dt>
        settings
        <span class="label label-nullable">nullable</span>
        <span class="label label-info">{cursorPos:!Object, selection:!Object, scrollPos:!Object}</span>
    </dt>
    <dd>properties of the original document's editor that need to be carried over to the new document i.e. scrollPos, cursorPos and text selection</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>a promise that is resolved with the saved document's File. Rejected in case of IO error (after error dialog dismissed), or if the Save dialog was canceled.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _doSaveAs(doc, settings) {
        var origPath,
            saveAsDefaultPath,
            defaultName,
            result = new $.Deferred();

        function _doSaveAfterSaveDialog(path) {
            var newFile;

            &#x2F;&#x2F; Reconstruct old doc&#39;s editor&#39;s view state, &amp; finally resolve overall promise
            function _configureEditorAndResolve() {
                var editor = EditorManager.getActiveEditor();
                if (editor) {
                    if (settings) {
                        editor.setSelections(settings.selections);
                        editor.setScrollPos(settings.scrollPos.x, settings.scrollPos.y);
                    }
                }
                result.resolve(newFile);
            }

            &#x2F;&#x2F; Replace old document with new one in open editor &amp; workingset
            function openNewFile() {
                var fileOpenPromise;

                if (FileViewController.getFileSelectionFocus() === FileViewController.PROJECT_MANAGER) {
                    &#x2F;&#x2F; If selection is in the tree, leave workingset unchanged - even if orig file is in the list
                    fileOpenPromise = FileViewController
                        .openAndSelectDocument(path, FileViewController.PROJECT_MANAGER);
                } else {
                    &#x2F;&#x2F; If selection is in workingset, replace orig item in place with the new file
                    var info = MainViewManager.findInAllWorkingSets(doc.file.fullPath).shift();

                    &#x2F;&#x2F; Remove old file from workingset; no redraw yet since there&#39;s a pause before the new file is opened
                    MainViewManager._removeView(info.paneId, doc.file, true);

                    &#x2F;&#x2F; Add new file to workingset, and ensure we now redraw (even if index hasn&#39;t changed)
                    fileOpenPromise = handleFileAddToWorkingSetAndOpen({fullPath: path, paneId: info.paneId, index: info.index, forceRedraw: true});
                }

                &#x2F;&#x2F; always configure editor after file is opened
                fileOpenPromise.always(function () {
                    _configureEditorAndResolve();
                });
            }

            &#x2F;&#x2F; Same name as before - just do a regular Save
            if (path === origPath) {
                doSave(doc).then(result.resolve, result.reject);
                return;
            }

            doc.isSaving = true;    &#x2F;&#x2F; mark that we&#39;re saving the document

            &#x2F;&#x2F; First, write document&#39;s current text to new file
            if (doc.file._encoding &amp;&amp; doc.file._encoding !== &quot;UTF-8&quot;) {
                var projectRoot = ProjectManager.getProjectRoot(),
                    context = {
                        location : {
                            scope: &quot;user&quot;,
                            layer: &quot;project&quot;,
                            layerID: projectRoot.fullPath
                        }
                    };
                var encoding = PreferencesManager.getViewState(&quot;encoding&quot;, context);
                encoding[path] = doc.file._encoding;
                PreferencesManager.setViewState(&quot;encoding&quot;, encoding, context);
            }
            newFile = FileSystem.getFileForPath(path);
            newFile._encoding = doc.file._encoding;

            &#x2F;&#x2F; Save as warns you when you&#39;re about to overwrite a file, so we
            &#x2F;&#x2F; explicitly allow &quot;blind&quot; writes to the filesystem in this case,
            &#x2F;&#x2F; ignoring warnings about the contents being modified outside of
            &#x2F;&#x2F; the editor.
            FileUtils.writeText(newFile, doc.getText(true), true)
                .done(function () {
                    &#x2F;&#x2F; If there were unsaved changes before Save As, they don&#39;t stay with the old
                    &#x2F;&#x2F; file anymore - so must revert the old doc to match disk content.
                    &#x2F;&#x2F; Only do this if the doc was dirty: _doRevert on a file that is not dirty and
                    &#x2F;&#x2F; not in the workingset has the side effect of adding it to the workingset.
                    if (doc.isDirty &amp;&amp; !(doc.isUntitled())) {
                        &#x2F;&#x2F; if the file is dirty it must be in the workingset
                        &#x2F;&#x2F; _doRevert is side effect free in this case
                        _doRevert(doc).always(openNewFile);
                    } else {
                        openNewFile();
                    }
                    HealthLogger.fileSaved(doc);
                })
                .fail(function (error) {
                    _showSaveFileError(error, path)
                        .done(function () {
                            result.reject(error);
                        });
                })
                .always(function () {
                    &#x2F;&#x2F; mark that we&#39;re done saving the document
                    doc.isSaving = false;
                });
        }

        if (doc) {
            origPath = doc.file.fullPath;
            &#x2F;&#x2F; If the document is an untitled document, we should default to project root.
            if (doc.isUntitled()) {
                &#x2F;&#x2F; (Issue #4489) if we&#39;re saving an untitled document, go ahead and switch to this document
                &#x2F;&#x2F;   in the editor, so that if we&#39;re, for example, saving several files (ie. Save All),
                &#x2F;&#x2F;   then the user can visually tell which document we&#39;re currently prompting them to save.
                var info = MainViewManager.findInAllWorkingSets(origPath).shift();

                if (info) {
                    MainViewManager._open(info.paneId, doc.file);
                }

                &#x2F;&#x2F; If the document is untitled, default to project root.
                saveAsDefaultPath = ProjectManager.getProjectRoot().fullPath;
            } else {
                saveAsDefaultPath = FileUtils.getDirectoryPath(origPath);
            }
            defaultName = FileUtils.getBaseName(origPath);
            var file = FileSystem.getFileForPath(origPath);
            if (file instanceof InMemoryFile) {
                var language = LanguageManager.getLanguageForPath(origPath);
                if (language) {
                    var fileExtensions = language.getFileExtensions();
                    if (fileExtensions &amp;&amp; fileExtensions.length &gt; 0) {
                        defaultName += &quot;.&quot; + fileExtensions[0];
                    }
                }
            }
            FileSystem.showSaveDialog(Strings.SAVE_FILE_AS, saveAsDefaultPath, defaultName, function (err, selectedPath) {
                if (!err) {
                    if (selectedPath) {
                        _doSaveAfterSaveDialog(selectedPath);
                    } else {
                        dispatchAppQuitCancelledEvent();
                        result.reject(USER_CANCELED);
                    }
                } else {
                    result.reject(err);
                }
            });
        } else {
            result.reject();
        }
        return result.promise();
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _getUntitledFileSuggestion 
        <a class="anchor" href="#-_getUntitledFileSuggestion" id="-_getUntitledFileSuggestion"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        dir
        <span class="label label-info">Directory</span>
    </dt>
    <dd>The directory to use</dd>
    <dt>
        baseFileName
        <span class="label label-info">string</span>
    </dt>
    <dd>The base to start with, "-n" will get appended to make unique</dd>
    <dt>
        isFolder
        <span class="label label-info">boolean</span>
    </dt>
    <dd>True if the suggestion is for a folder name</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>a jQuery promise that will be resolved with a unique name starting with the given base name</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _getUntitledFileSuggestion(dir, baseFileName, isFolder) {
        var suggestedName   = baseFileName + &quot;-&quot; + _nextUntitledIndexToUse++,
            deferred        = $.Deferred();

        if (_nextUntitledIndexToUse &gt; 9999) {
            &#x2F;&#x2F;we&#39;ve tried this enough
            deferred.reject();
        } else {
            var path = dir.fullPath + suggestedName,
                entry = isFolder ? FileSystem.getDirectoryForPath(path)
                                 : FileSystem.getFileForPath(path);

            entry.exists(function (err, exists) {
                if (err || exists) {
                    _getUntitledFileSuggestion(dir, baseFileName, isFolder)
                        .then(deferred.resolve, deferred.reject);
                } else {
                    deferred.resolve(suggestedName);
                }
            });
        }

        return deferred.promise();
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _handleNewItemInProject 
        <a class="anchor" href="#-_handleNewItemInProject" id="-_handleNewItemInProject"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Bottleneck function for creating new files and folders in the project tree.</p>
</div>
    
<dl>
    <dt>
        isFolder
        <span class="label label-info">boolean</span>
    </dt>
    <dd>true if creating a new folder, false if creating a new file</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _handleNewItemInProject(isFolder) {
        if (fileNewInProgress) {
            ProjectManager.forceFinishRename();
            return;
        }
        fileNewInProgress = true;

        &#x2F;&#x2F; Determine the directory to put the new file
        &#x2F;&#x2F; If a file is currently selected in the tree, put it next to it.
        &#x2F;&#x2F; If a directory is currently selected in the tree, put it in it.
        &#x2F;&#x2F; If an Untitled document is selected or nothing is selected in the tree, put it at the root of the project.
        var baseDirEntry,
            selected = ProjectManager.getFileTreeContext();
        if ((!selected) || (selected instanceof InMemoryFile)) {
            selected = ProjectManager.getProjectRoot();
        }

        if (selected.isFile) {
            baseDirEntry = FileSystem.getDirectoryForPath(selected.parentPath);
        }

        baseDirEntry = baseDirEntry || selected;

        &#x2F;&#x2F; Create the new node. The createNewItem function does all the heavy work
        &#x2F;&#x2F; of validating file name, creating the new file and selecting.
        function createWithSuggestedName(suggestedName) {
            return ProjectManager.createNewItem(baseDirEntry, suggestedName, false, isFolder)
                .always(function () { fileNewInProgress = false; });
        }

        return _getUntitledFileSuggestion(baseDirEntry, Strings.UNTITLED, isFolder)
            .then(createWithSuggestedName, createWithSuggestedName.bind(undefined, Strings.UNTITLED));
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _handleWindowGoingAway 
        <a class="anchor" href="#-_handleWindowGoingAway" id="-_handleWindowGoingAway"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        commandData
        <span class="label label-info">Object</span>
    </dt>
    <dd>(not referenced)</dd>
    <dt>
        postCloseHandler
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">function()</span>
    </dt>
    <dd>called after close</dd>
    <dt>
        failHandler
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">function()</span>
    </dt>
    <dd>called when the save fails to cancel closing the window</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _handleWindowGoingAway(commandData, postCloseHandler, failHandler) {
        if (_windowGoingAway) {
            &#x2F;&#x2F;if we get called back while we&#39;re closing, then just return
            return (new $.Deferred()).reject().promise();
        }

        return CommandManager.execute(Commands.FILE_CLOSE_ALL, { promptOnly: true })
            .done(function () {
                _windowGoingAway = true;

                &#x2F;&#x2F; Give everyone a chance to save their state - but don&#39;t let any problems block
                &#x2F;&#x2F; us from quitting
                try {
                    ProjectManager.trigger(&quot;beforeAppClose&quot;);
                } catch (ex) {
                    console.error(ex);
                }

                postCloseHandler();
            })
            .fail(function () {
                _windowGoingAway = false;
                if (failHandler) {
                    failHandler();
                }
            });
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>
        _parseDecoratedPath 
        <a class="anchor" href="#-_parseDecoratedPath" id="-_parseDecoratedPath"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        path
        <span class="label label-nullable">nullable</span>
        <span class="label label-info">string</span>
    </dt>
    <dd>a string of the form "fullpath[:lineNumber[:columnNumber]]"</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">{path: string,line: ?number,column: ?number}</span></dt>
    <dd></dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _parseDecoratedPath(path) {
        var result = {path: path, line: null, column: null};
        if (path) {
            &#x2F;&#x2F; If the path has a trailing :lineNumber and :columnNumber, strip
            &#x2F;&#x2F; these off and assign to result.line and result.column.
            var matchResult = &#x2F;(.+?):([0-9]+)(:([0-9]+))?$&#x2F;.exec(path);
            if (matchResult) {
                result.path = matchResult[1];
                if (matchResult[2]) {
                    result.line = parseInt(matchResult[2], 10);
                }
                if (matchResult[4]) {
                    result.column = parseInt(matchResult[4], 10);
                }
            }
        }
        return result;
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _saveFileList 
        <a class="anchor" href="#-_saveFileList" id="-_saveFileList"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Saves all unsaved documents corresponding to &#39;fileList&#39;. Returns a Promise that will be resolved
once ALL the save operations have been completed. If ANY save operation fails, an error dialog is
immediately shown but after dismissing we continue saving the other files; after all files have
been processed, the Promise is rejected if any ONE save operation failed (the error given is the
first one encountered). If the user cancels any Save As dialog (for untitled files), the
Promise is immediately rejected.</p>
</div>
    
<dl>
    <dt>
        fileList
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">Array.&lt;File&gt;</span>
    </dt>
    <dd></dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">!$.Promise</span></dt>
    <dd>Resolved with {!Array.<File>}, which may differ from 'fileList' if any of the files were Unsaved documents. Or rejected with {?FileSystemError}.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _saveFileList(fileList) {
        &#x2F;&#x2F; Do in serial because doSave shows error UI for each file, and we don&#39;t want to stack
        &#x2F;&#x2F; multiple dialogs on top of each other
        var userCanceled = false,
            filesAfterSave = [];

        return Async.doSequentially(
            fileList,
            function (file) {
                &#x2F;&#x2F; Abort remaining saves if user canceled any Save As dialog
                if (userCanceled) {
                    return (new $.Deferred()).reject().promise();
                }

                var doc = DocumentManager.getOpenDocumentForPath(file.fullPath);
                if (doc) {
                    var savePromise = handleFileSave({doc: doc});
                    savePromise
                        .done(function (newFile) {
                            filesAfterSave.push(newFile);
                        })
                        .fail(function (error) {
                            if (error === USER_CANCELED) {
                                userCanceled = true;
                            }
                        });
                    return savePromise;
                } else {
                    &#x2F;&#x2F; workingset entry that was never actually opened - ignore
                    filesAfterSave.push(file);
                    return (new $.Deferred()).resolve().promise();
                }
            },
            false  &#x2F;&#x2F; if any save fails, continue trying to save other files anyway; then reject at end
        ).then(function () {
            return filesAfterSave;
        });
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _shortTitleForDocument 
        <a class="anchor" href="#-_shortTitleForDocument" id="-_shortTitleForDocument"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Returns a short title for a given document.</p>
</div>
    
<dl>
    <dt>
        doc
        <span class="label label-info">Document</span>
    </dt>
    <dd>the document to compute the short title for</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">string</span></dt>
    <dd>- a short title for doc.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _shortTitleForDocument(doc) {
        var fullPath = doc.file.fullPath;

        &#x2F;&#x2F; If the document is untitled then return the filename, (&quot;Untitled-n.ext&quot;);
        &#x2F;&#x2F; otherwise show the project-relative path if the file is inside the
        &#x2F;&#x2F; current project or the full absolute path if it&#39;s not in the project.
        if (doc.isUntitled()) {
            return fullPath.substring(fullPath.lastIndexOf(&quot;&#x2F;&quot;) + 1);
        } else {
            return ProjectManager.makeProjectRelativeIfPossible(fullPath);
        }
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _showSaveFileError 
        <a class="anchor" href="#-_showSaveFileError" id="-_showSaveFileError"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        name
        <span class="label label-info">string</span>
    </dt>
    <dd></dd>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd></dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">Dialog</span></dt>
    <dd></dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _showSaveFileError(name, path) {
        return Dialogs.showModalDialog(
            DefaultDialogs.DIALOG_ID_ERROR,
            Strings.ERROR_SAVING_FILE_TITLE,
            StringUtils.format(
                Strings.ERROR_SAVING_FILE,
                StringUtils.breakableUrl(path),
                FileUtils.getFileErrorString(name)
            )
        );
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _updateTitle 
        <a class="anchor" href="#-_updateTitle" id="-_updateTitle"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Updates the title bar with new file title or dirty indicator</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _updateTitle() {
        var currentDoc          = DocumentManager.getCurrentDocument(),
            windowTitle         = brackets.config.app_title,
            currentlyViewedFile = MainViewManager.getCurrentlyViewedFile(MainViewManager.ACTIVE_PANE),
            currentlyViewedPath = currentlyViewedFile &amp;&amp; currentlyViewedFile.fullPath,
            readOnlyString      = (currentlyViewedFile &amp;&amp; currentlyViewedFile.readOnly) ? &quot;[Read Only] - &quot; : &quot;&quot;;

        if (!brackets.nativeMenus) {
            if (currentlyViewedPath) {
                _$title.text(_currentTitlePath);
                _$title.attr(&quot;title&quot;, currentlyViewedPath);
                if (currentDoc) {
                    &#x2F;&#x2F; dirty dot is always in DOM so layout doesn&#39;t change, and visibility is toggled
                    _$dirtydot.css(&quot;visibility&quot;, (currentDoc.isDirty) ? &quot;visible&quot; : &quot;hidden&quot;);
                } else {
                    &#x2F;&#x2F; hide dirty dot if there is no document
                    _$dirtydot.css(&quot;visibility&quot;, &quot;hidden&quot;);
                }
            } else {
                _$title.text(&quot;&quot;);
                _$title.attr(&quot;title&quot;, &quot;&quot;);
                _$dirtydot.css(&quot;visibility&quot;, &quot;hidden&quot;);
            }

            &#x2F;&#x2F; Set _$titleWrapper to a fixed width just large enough to accommodate _$title. This seems equivalent to what
            &#x2F;&#x2F; the browser would do automatically, but the CSS trick we use for layout requires _$titleWrapper to have a
            &#x2F;&#x2F; fixed width set on it (see the &quot;#titlebar&quot; CSS rule for details).
            _$titleWrapper.css(&quot;width&quot;, &quot;&quot;);
            var newWidth = _$title.width();
            _$titleWrapper.css(&quot;width&quot;, newWidth);

            &#x2F;&#x2F; Changing the width of the title may cause the toolbar layout to change height, which needs to resize the
            &#x2F;&#x2F; editor beneath it (toolbar changing height due to window resize is already caught by EditorManager).
            var newToolbarHeight = _$titleContainerToolbar.height();
            if (_lastToolbarHeight !== newToolbarHeight) {
                _lastToolbarHeight = newToolbarHeight;
                WorkspaceManager.recomputeLayout();
            }
        }

        var projectRoot = ProjectManager.getProjectRoot();
        if (projectRoot) {
            var projectName = projectRoot.name;
            &#x2F;&#x2F; Construct shell&#x2F;browser window title, e.g. &quot;• index.html (myProject) — Brackets&quot;
            if (currentlyViewedPath) {
                windowTitle = StringUtils.format(WINDOW_TITLE_STRING_DOC, readOnlyString + _currentTitlePath, projectName, brackets.config.app_title);
                &#x2F;&#x2F; Display dirty dot when there are unsaved changes
                if (currentDoc &amp;&amp; currentDoc.isDirty) {
                    windowTitle = &quot;• &quot; + windowTitle;
                }
            } else {
                &#x2F;&#x2F; A document is not open
                windowTitle = StringUtils.format(WINDOW_TITLE_STRING_NO_DOC, projectName, brackets.config.app_title);
            }
        }
        window.document.title = windowTitle;
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        browserReload 
        <a class="anchor" href="#-browserReload" id="-browserReload"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Does a full reload of the browser window</p>
</div>
    
<dl>
    <dt>
        href
        <span class="label label-info">string</span>
    </dt>
    <dd>The url to reload into the window</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function browserReload(href) {
        if (_isReloading) {
            return;
        }

        _isReloading = true;

        return CommandManager.execute(Commands.FILE_CLOSE_ALL, { promptOnly: true }).done(function () {
            &#x2F;&#x2F; Give everyone a chance to save their state - but don&#39;t let any problems block
            &#x2F;&#x2F; us from quitting
            try {
                ProjectManager.trigger(&quot;beforeAppClose&quot;);
            } catch (ex) {
                console.error(ex);
            }

            &#x2F;&#x2F; Disable the cache to make reloads work
            _disableCache().always(function () {
                &#x2F;&#x2F; Remove all menus to assure every part of Brackets is reloaded
                _.forEach(Menus.getAllMenus(), function (value, key) {
                    Menus.removeMenu(key);
                });

                &#x2F;&#x2F; If there&#39;s a fragment in both URLs, setting location.href won&#39;t actually reload
                var fragment = href.indexOf(&quot;#&quot;);
                if (fragment !== -1) {
                    href = href.substr(0, fragment);
                }

                &#x2F;&#x2F; Defer for a more successful reload - issue #11539
                setTimeout(function () {
                    window.location.href = href;
                }, 1000);
            });
        }).fail(function () {
            _isReloading = false;
        });
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        detectDocumentNavEnd 
        <a class="anchor" href="#-detectDocumentNavEnd" id="-detectDocumentNavEnd"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>When the Ctrl key is released, if we were in the middle of a next/prev document navigation
sequence, now is the time to end it and update the MRU order. If we allowed the order to update
on every next/prev increment, the 1st &amp; 2nd entries would just switch places forever and we&#39;d
never get further down the list.</p>
</div>
    
<dl>
    <dt>
        event
        <span class="label label-info">jQueryEvent</span>
    </dt>
    <dd>Key-up event</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function detectDocumentNavEnd(event) {
        if (event.keyCode === KeyEvent.DOM_VK_CONTROL) {  &#x2F;&#x2F; Ctrl key
            MainViewManager.endTraversal();
            _addedNavKeyHandler = false;
            $(window.document.body).off(&quot;keyup&quot;, detectDocumentNavEnd);
        }
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        dispatchAppQuitCancelledEvent 
        <a class="anchor" href="#-dispatchAppQuitCancelledEvent" id="-dispatchAppQuitCancelledEvent"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Dispatches the app quit cancelled event</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function dispatchAppQuitCancelledEvent() {
        exports.trigger(exports.APP_QUIT_CANCELLED);
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        doSave 
        <a class="anchor" href="#-doSave" id="-doSave"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Saves a document to its existing path. Does NOT support untitled documents.</p>
</div>
    
<dl>
    <dt>
        docToSave
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">Document</span>
    </dt>
    <dd></dd>
    <dt>
        force
        <span class="label label-optional">optional</span>
        <span class="label label-info">boolean</span>
    </dt>
    <dd>Ignore CONTENTS_MODIFIED errors from the FileSystem</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>a promise that is resolved with the File of docToSave (to mirror the API of _doSaveAs()). Rejected in case of IO error (after error dialog dismissed).</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function doSave(docToSave, force) {
        var result = new $.Deferred(),
            file = docToSave.file;

        function handleError(error) {
            _showSaveFileError(error, file.fullPath)
                .done(function () {
                    result.reject(error);
                });
        }

        function handleContentsModified() {
            Dialogs.showModalDialog(
                DefaultDialogs.DIALOG_ID_ERROR,
                Strings.EXT_MODIFIED_TITLE,
                StringUtils.format(
                    Strings.EXT_MODIFIED_WARNING,
                    StringUtils.breakableUrl(docToSave.file.fullPath)
                ),
                [
                    {
                        className : Dialogs.DIALOG_BTN_CLASS_LEFT,
                        id        : Dialogs.DIALOG_BTN_SAVE_AS,
                        text      : Strings.SAVE_AS
                    },
                    {
                        className : Dialogs.DIALOG_BTN_CLASS_NORMAL,
                        id        : Dialogs.DIALOG_BTN_CANCEL,
                        text      : Strings.CANCEL
                    },
                    {
                        className : Dialogs.DIALOG_BTN_CLASS_PRIMARY,
                        id        : Dialogs.DIALOG_BTN_OK,
                        text      : Strings.SAVE_AND_OVERWRITE
                    }
                ]
            )
                .done(function (id) {
                    if (id === Dialogs.DIALOG_BTN_CANCEL) {
                        result.reject();
                    } else if (id === Dialogs.DIALOG_BTN_OK) {
                        &#x2F;&#x2F; Re-do the save, ignoring any CONTENTS_MODIFIED errors
                        doSave(docToSave, true).then(result.resolve, result.reject);
                    } else if (id === Dialogs.DIALOG_BTN_SAVE_AS) {
                        &#x2F;&#x2F; Let the user choose a different path at which to write the file
                        handleFileSaveAs({doc: docToSave}).then(result.resolve, result.reject);
                    }
                });
        }

        function trySave() {
            &#x2F;&#x2F; We don&#39;t want normalized line endings, so it&#39;s important to pass true to getText()
            FileUtils.writeText(file, docToSave.getText(true), force)
                .done(function () {
                    docToSave.notifySaved();
                    result.resolve(file);
                    HealthLogger.fileSaved(docToSave);
                })
                .fail(function (err) {
                    if (err === FileSystemError.CONTENTS_MODIFIED) {
                        handleContentsModified();
                    } else {
                        handleError(err);
                    }
                });
        }

        if (docToSave.isDirty) {
            if (docToSave.keepChangesTime) {
                &#x2F;&#x2F; The user has decided to keep conflicting changes in the editor. Check to make sure
                &#x2F;&#x2F; the file hasn&#39;t changed since they last decided to do that.
                docToSave.file.stat(function (err, stat) {
                    &#x2F;&#x2F; If the file has been deleted on disk, the stat will return an error, but that&#39;s fine since
                    &#x2F;&#x2F; that means there&#39;s no file to overwrite anyway, so the save will succeed without us having
                    &#x2F;&#x2F; to set force = true.
                    if (!err &amp;&amp; docToSave.keepChangesTime === stat.mtime.getTime()) {
                        &#x2F;&#x2F; OK, it&#39;s safe to overwrite the file even though we never reloaded the latest version,
                        &#x2F;&#x2F; since the user already said s&#x2F;he wanted to ignore the disk version.
                        force = true;
                    }
                    trySave();
                });
            } else {
                trySave();
            }
        } else {
            result.resolve(file);
        }
        result.always(function () {
            MainViewManager.focusActivePane();
        });
        return result.promise();
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        goNextPrevDoc 
        <a class="anchor" href="#-goNextPrevDoc" id="-goNextPrevDoc"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Navigate to the next/previous (MRU or list order) document. Don&#39;t update MRU order yet</p>
</div>
    
<dl>
    <dt>
        inc
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">number</span>
    </dt>
    <dd>Delta indicating in which direction we're going</dd>
    <dt>
        listOrder
        <span class="label label-nullable">nullable</span>
        <span class="label label-info">boolean</span>
    </dt>
    <dd>Whether to navigate using MRU or list order. Defaults to MRU order</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function goNextPrevDoc(inc, listOrder) {
        var result;
        if (listOrder) {
            result = MainViewManager.traverseToNextViewInListOrder(inc);
        } else {
            result = MainViewManager.traverseToNextViewByMRU(inc);
        }

        if (result) {
            var file = result.file,
                paneId = result.paneId;

            MainViewManager.beginTraversal();
            CommandManager.execute(Commands.FILE_OPEN, {fullPath: file.fullPath,
                                                        paneId: paneId });

            &#x2F;&#x2F; Listen for ending of Ctrl+Tab sequence
            if (!_addedNavKeyHandler) {
                _addedNavKeyHandler = true;
                $(window.document.body).keyup(detectDocumentNavEnd);
            }
        }
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        handleAbortQuit 
        <a class="anchor" href="#-handleAbortQuit" id="-handleAbortQuit"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleAbortQuit() {
        _windowGoingAway = false;
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        handleBeforeMenuPopup 
        <a class="anchor" href="#-handleBeforeMenuPopup" id="-handleBeforeMenuPopup"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleBeforeMenuPopup() {
        PopUpManager.trigger(&quot;beforeMenuPopup&quot;);
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleCurrentFileChange 
        <a class="anchor" href="#-handleCurrentFileChange" id="-handleCurrentFileChange"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Handles currentFileChange and filenameChanged events and updates the titlebar</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleCurrentFileChange() {
        var newFile = MainViewManager.getCurrentlyViewedFile(MainViewManager.ACTIVE_PANE);

        if (newFile) {
            var newDocument = DocumentManager.getOpenDocumentForPath(newFile.fullPath);

            if (newDocument) {
                _currentTitlePath = _shortTitleForDocument(newDocument);
            } else {
                _currentTitlePath = ProjectManager.makeProjectRelativeIfPossible(newFile.fullPath);
            }
        } else {
            _currentTitlePath = null;
        }

        &#x2F;&#x2F; Update title text &amp; &quot;dirty dot&quot; display
        _updateTitle();
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleDirtyChange 
        <a class="anchor" href="#-handleDirtyChange" id="-handleDirtyChange"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Handles dirtyFlagChange event and updates the title bar if necessary</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleDirtyChange(event, changedDoc) {
        var currentDoc = DocumentManager.getCurrentDocument();

        if (currentDoc &amp;&amp; changedDoc.file.fullPath === currentDoc.file.fullPath) {
            _updateTitle();
        }
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleDocumentOpen 
        <a class="anchor" href="#-handleDocumentOpen" id="-handleDocumentOpen"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Opens the given file, makes it the current file, does NOT add it to the workingset</p>
</div>
    
<dl>
    <dt>
        commandData
        <span class="label label-info">FileCommandData</span>
    </dt>
    <dd>fullPath: File to open; silent: optional flag to suppress error messages; paneId: optional PaneId (defaults to active pane)</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>a jQuery promise that will be resolved with @type {Document}</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleDocumentOpen(commandData) {
        var result = new $.Deferred();
        handleFileOpen(commandData)
            .done(function (file) {
                &#x2F;&#x2F; if we succeeded with an open file
                &#x2F;&#x2F;  then we need to resolve that to a document.
                &#x2F;&#x2F;  getOpenDocumentForPath will return null if there isn&#39;t a
                &#x2F;&#x2F;  supporting document for that file (e.g. an image)
                var doc = DocumentManager.getOpenDocumentForPath(file.fullPath);
                result.resolve(doc);
            })
            .fail(function (err) {
                result.reject(err);
            });

        return result.promise();

    }</code></pre></div><div class="member deprecated">

<span class="pull-right scope">
    
    
</span>
    <h4>
            <span class="label label-deprecated label-inverse">deprecated</span>
        handleFileAddToWorkingSet 
        <a class="anchor" href="#-handleFileAddToWorkingSet" id="-handleFileAddToWorkingSet"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        commandData
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">PaneCommandData</span>
    </dt>
    <dd>record with the following properties: fullPath: File to open; index: optional index to position in workingset (defaults to last); silent: optional flag to suppress error messages; forceRedraw: flag to force the working set view redraw; paneId: optional PaneId (defaults to active pane)</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>a jQuery promise that will be resolved with @type {File}</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileAddToWorkingSet(commandData) {
        &#x2F;&#x2F; This is a legacy deprecated command that
        &#x2F;&#x2F;  will use the new command and resolve with a document
        &#x2F;&#x2F;  as the legacy command would only support.
        DeprecationWarning.deprecationWarning(&quot;Commands.FILE_ADD_TO_WORKING_SET has been deprecated.  Use Commands.CMD_ADD_TO_WORKINGSET_AND_OPEN instead.&quot;);
        var result = new $.Deferred();

        handleFileAddToWorkingSetAndOpen(commandData)
            .done(function (file) {
                &#x2F;&#x2F; if we succeeded with an open file
                &#x2F;&#x2F;  then we need to resolve that to a document.
                &#x2F;&#x2F;  getOpenDocumentForPath will return null if there isn&#39;t a
                &#x2F;&#x2F;  supporting document for that file (e.g. an image)
                var doc = DocumentManager.getOpenDocumentForPath(file.fullPath);
                result.resolve(doc);
            })
            .fail(function (err) {
                result.reject(err);
            });

        return result.promise();
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleFileAddToWorkingSetAndOpen 
        <a class="anchor" href="#-handleFileAddToWorkingSetAndOpen" id="-handleFileAddToWorkingSetAndOpen"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Opens the given file, makes it the current file, AND adds it to the workingset</p>
</div>
    
<dl>
    <dt>
        commandData
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">PaneCommandData</span>
    </dt>
    <dd>record with the following properties: fullPath: File to open; index: optional index to position in workingset (defaults to last); silent: optional flag to suppress error messages; forceRedraw: flag to force the working set view redraw; paneId: optional PaneId (defaults to active pane)</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>a jQuery promise that will be resolved with a @type {File}</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileAddToWorkingSetAndOpen(commandData) {
        return handleFileOpen(commandData).done(function (file) {
            var paneId = (commandData &amp;&amp; commandData.paneId) || MainViewManager.ACTIVE_PANE;
            MainViewManager.addToWorkingSet(paneId, file, commandData.index, commandData.forceRedraw);
            HealthLogger.fileOpened(file.fullPath, true);
        });
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleFileClose 
        <a class="anchor" href="#-handleFileClose" id="-handleFileClose"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Closes the specified file: removes it from the workingset, and closes the main editor if one
is open. Prompts user about saving changes first, if document is dirty.</p>
</div>
    
<dl>
    <dt>
        commandData
        <span class="label label-nullable">nullable</span>
        <span class="label label-info">{file: File, promptOnly:boolean}</span>
    </dt>
    <dd>Optional bag of arguments: file - File to close; assumes the current document if not specified. promptOnly - If true, only displays the relevant confirmation UI and does NOT actually close the document. This is useful when chaining file-close together with other user prompts that may be cancelable. _forceClose - If true, closes the document without prompting even if there are unsaved changes. Only for use in unit tests.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>a promise that is resolved when the file is closed, or if no file is open. FUTURE: should we reject the promise if no file is open?</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileClose(commandData) {
        var file,
            promptOnly,
            _forceClose,
            _spawnedRequest,
            paneId = MainViewManager.ACTIVE_PANE;

        if (commandData) {
            file        = commandData.file;
            promptOnly  = commandData.promptOnly;
            _forceClose = commandData._forceClose;
            paneId      = commandData.paneId || paneId;
            _spawnedRequest = commandData.spawnedRequest || false;
        }

        &#x2F;&#x2F; utility function for handleFileClose: closes document &amp; removes from workingset
        function doClose(file) {
            if (!promptOnly) {
                MainViewManager._close(paneId, file);
                HealthLogger.fileClosed(file);
            }
        }

        var result = new $.Deferred(), promise = result.promise();

        &#x2F;&#x2F; Default to current document if doc is null
        if (!file) {
            file = MainViewManager.getCurrentlyViewedFile(MainViewManager.ACTIVE_PANE);
        }

        &#x2F;&#x2F; No-op if called when nothing is open; TODO: (issue #273) should command be grayed out instead?
        if (!file) {
            result.resolve();
            return promise;
        }

        var doc = DocumentManager.getOpenDocumentForPath(file.fullPath);

        if (doc &amp;&amp; doc.isDirty &amp;&amp; !_forceClose &amp;&amp; (MainViewManager.isExclusiveToPane(doc.file, paneId) || _spawnedRequest)) {
            &#x2F;&#x2F; Document is dirty: prompt to save changes before closing if only the document is exclusively
            &#x2F;&#x2F; listed in the requested pane or this is part of a list close request
            var filename = FileUtils.getBaseName(doc.file.fullPath);

            Dialogs.showModalDialog(
                DefaultDialogs.DIALOG_ID_SAVE_CLOSE,
                Strings.SAVE_CLOSE_TITLE,
                StringUtils.format(
                    Strings.SAVE_CLOSE_MESSAGE,
                    StringUtils.breakableUrl(filename)
                ),
                [
                    {
                        className : Dialogs.DIALOG_BTN_CLASS_LEFT,
                        id        : Dialogs.DIALOG_BTN_DONTSAVE,
                        text      : Strings.DONT_SAVE
                    },
                    {
                        className : Dialogs.DIALOG_BTN_CLASS_NORMAL,
                        id        : Dialogs.DIALOG_BTN_CANCEL,
                        text      : Strings.CANCEL
                    },
                    {
                        className : Dialogs.DIALOG_BTN_CLASS_PRIMARY,
                        id        : Dialogs.DIALOG_BTN_OK,
                        text      : Strings.SAVE
                    }
                ]
            )
                .done(function (id) {
                    if (id === Dialogs.DIALOG_BTN_CANCEL) {
                        dispatchAppQuitCancelledEvent();
                        result.reject();
                    } else if (id === Dialogs.DIALOG_BTN_OK) {
                        &#x2F;&#x2F; &quot;Save&quot; case: wait until we confirm save has succeeded before closing
                        handleFileSave({doc: doc})
                            .done(function (newFile) {
                                doClose(newFile);
                                result.resolve();
                            })
                            .fail(function () {
                                result.reject();
                            });
                    } else {
                        &#x2F;&#x2F; &quot;Don&#39;t Save&quot; case: even though we&#39;re closing the main editor, other views of
                        &#x2F;&#x2F; the Document may remain in the UI. So we need to revert the Document to a clean
                        &#x2F;&#x2F; copy of whatever&#39;s on disk.
                        doClose(file);

                        &#x2F;&#x2F; Only reload from disk if we&#39;ve executed the Close for real.
                        if (promptOnly) {
                            result.resolve();
                        } else {
                            &#x2F;&#x2F; Even if there are no listeners attached to the document at this point, we want
                            &#x2F;&#x2F; to do the revert anyway, because clients who are listening to the global documentChange
                            &#x2F;&#x2F; event from the Document module (rather than attaching to the document directly),
                            &#x2F;&#x2F; such as the Find in Files panel, should get a change event. However, in that case,
                            &#x2F;&#x2F; we want to ignore errors during the revert, since we don&#39;t want a failed revert
                            &#x2F;&#x2F; to throw a dialog if the document isn&#39;t actually open in the UI.
                            var suppressError = !DocumentManager.getOpenDocumentForPath(file.fullPath);
                            _doRevert(doc, suppressError)
                                .then(result.resolve, result.reject);
                        }
                    }
                });
            result.always(function () {
                MainViewManager.focusActivePane();
            });
        } else {
            &#x2F;&#x2F; File is not open, or IS open but Document not dirty: close immediately
            doClose(file);
            MainViewManager.focusActivePane();
            result.resolve();
        }
        return promise;
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleFileCloseAll 
        <a class="anchor" href="#-handleFileCloseAll" id="-handleFileCloseAll"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Closes all open files; equivalent to calling handleFileClose() for each document, except
that unsaved changes are confirmed once, in bulk.</p>
</div>
    
<dl>
    <dt>
        If
        <span class="label label-nullable">nullable</span>
        <span class="label label-info">{promptOnly: boolean, _forceClose: boolean}</span>
    </dt>
    <dd>promptOnly is true, only displays the relevant confirmation UI and does NOT actually close any documents. This is useful when chaining close-all together with other user prompts that may be cancelable. If _forceClose is true, forces the files to close with no confirmation even if dirty. Should only be used for unit test cleanup.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>a promise that is resolved when all files are closed</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileCloseAll(commandData) {
        return _closeList(MainViewManager.getAllOpenFiles(),
                                    (commandData &amp;&amp; commandData.promptOnly), (commandData &amp;&amp; commandData._forceClose));
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleFileCloseList 
        <a class="anchor" href="#-handleFileCloseList" id="-handleFileCloseList"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Closes a list of open files; equivalent to calling handleFileClose() for each document, except
that unsaved changes are confirmed once, in bulk.</p>
</div>
    
<dl>
    <dt>
        If
        <span class="label label-nullable">nullable</span>
        <span class="label label-info">{promptOnly: boolean, _forceClose: boolean}</span>
    </dt>
    <dd>promptOnly is true, only displays the relevant confirmation UI and does NOT actually close any documents. This is useful when chaining close-all together with other user prompts that may be cancelable. If _forceClose is true, forces the files to close with no confirmation even if dirty. Should only be used for unit test cleanup.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>a promise that is resolved when all files are closed</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileCloseList(commandData) {
        return _closeList(commandData.fileList);
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleFileCloseWindow 
        <a class="anchor" href="#-handleFileCloseWindow" id="-handleFileCloseWindow"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Confirms any unsaved changes, then closes the window</p>
</div>
    
<dl>
    <dt>
        command
        <span class="label label-info">Object</span>
    </dt>
    <dd>data</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileCloseWindow(commandData) {
        return _handleWindowGoingAway(
            commandData,
            function () {
                window.close();
            },
            function () {
                &#x2F;&#x2F; if fail, tell the app to abort any pending quit operation.
                brackets.app.abortQuit();
            }
        );
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleFileDelete 
        <a class="anchor" href="#-handleFileDelete" id="-handleFileDelete"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Delete file command handler  *</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileDelete() {
        var entry = ProjectManager.getSelectedItem();
        Dialogs.showModalDialog(
            DefaultDialogs.DIALOG_ID_EXT_DELETED,
            Strings.CONFIRM_DELETE_TITLE,
            StringUtils.format(
                entry.isFile ? Strings.CONFIRM_FILE_DELETE : Strings.CONFIRM_FOLDER_DELETE,
                StringUtils.breakableUrl(entry.name)
            ),
            [
                {
                    className : Dialogs.DIALOG_BTN_CLASS_NORMAL,
                    id        : Dialogs.DIALOG_BTN_CANCEL,
                    text      : Strings.CANCEL
                },
                {
                    className : Dialogs.DIALOG_BTN_CLASS_PRIMARY,
                    id        : Dialogs.DIALOG_BTN_OK,
                    text      : Strings.DELETE
                }
            ]
        )
            .done(function (id) {
                if (id === Dialogs.DIALOG_BTN_OK) {
                    ProjectManager.deleteItem(entry);
                }
            });
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleFileNew 
        <a class="anchor" href="#-handleFileNew" id="-handleFileNew"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Create a new untitled document in the workingset, and make it the current document.
Promise is resolved (synchronously) with the newly-created Document.</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileNew() {
        &#x2F;&#x2F;var defaultExtension = PreferencesManager.get(&quot;defaultExtension&quot;);
        &#x2F;&#x2F;if (defaultExtension) {
        &#x2F;&#x2F;    defaultExtension = &quot;.&quot; + defaultExtension;
        &#x2F;&#x2F;}
        var defaultExtension = &quot;&quot;;  &#x2F;&#x2F; disable preference setting for now

        var doc = DocumentManager.createUntitledDocument(_nextUntitledIndexToUse++, defaultExtension);
        MainViewManager._edit(MainViewManager.ACTIVE_PANE, doc);

        HealthLogger.sendAnalyticsData(
            HealthLogger.commonStrings.USAGE +
            HealthLogger.commonStrings.FILE_OPEN +
            HealthLogger.commonStrings.FILE_NEW,
            HealthLogger.commonStrings.USAGE,
            HealthLogger.commonStrings.FILE_OPEN,
            HealthLogger.commonStrings.FILE_NEW
        );

        return new $.Deferred().resolve(doc).promise();
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleFileNewInProject 
        <a class="anchor" href="#-handleFileNewInProject" id="-handleFileNewInProject"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Create a new file in the project tree.</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileNewInProject() {
        _handleNewItemInProject(false);
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleFileOpen 
        <a class="anchor" href="#-handleFileOpen" id="-handleFileOpen"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Opens the given file and makes it the current file. Does NOT add it to the workingset.</p>
</div>
    
<dl>
    <dt>
        commandData
        <span class="label label-optional">optional</span>
        <span class="label label-info">FileCommandData</span>
    </dt>
    <dd>record with the following properties: fullPath: File to open; silent: optional flag to suppress error messages; paneId: optional PaneId (defaults to active pane)</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>a jQuery promise that will be resolved with a file object</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileOpen(commandData) {
        var fileInfo = _parseDecoratedPath(commandData ? commandData.fullPath : null),
            silent = (commandData &amp;&amp; commandData.silent) || false,
            paneId = (commandData &amp;&amp; commandData.paneId) || MainViewManager.ACTIVE_PANE,
            result = new $.Deferred();

        _doOpenWithOptionalPath(fileInfo.path, silent, paneId, commandData &amp;&amp; commandData.options)
            .done(function (file) {
                HealthLogger.fileOpened(file._path, false, file._encoding);
                if (!commandData || !commandData.options || !commandData.options.noPaneActivate) {
                    MainViewManager.setActivePaneId(paneId);
                }

                &#x2F;&#x2F; If a line and column number were given, position the editor accordingly.
                if (fileInfo.line !== null) {
                    if (fileInfo.column === null || (fileInfo.column &lt;= 0)) {
                        fileInfo.column = 1;
                    }

                    &#x2F;&#x2F; setCursorPos expects line&#x2F;column numbers as 0-origin, so we subtract 1
                    EditorManager.getCurrentFullEditor().setCursorPos(fileInfo.line - 1,
                                                                      fileInfo.column - 1,
                                                                      true);
                }

                result.resolve(file);
            })
            .fail(function (err) {
                result.reject(err);
            });

        return result;
        &#x2F;&#x2F; Testing notes: here are some recommended manual tests for handleFileOpen, on Macintosh.
        &#x2F;&#x2F; Do all tests with brackets already running, and also with brackets not already running.
        &#x2F;&#x2F;
        &#x2F;&#x2F; drag a file onto brackets icon in desktop (this uses undecorated paths)
        &#x2F;&#x2F; drag a file onto brackets icon in taskbar (this uses undecorated paths)
        &#x2F;&#x2F; open a file from brackets sidebar (this uses undecorated paths)
        &#x2F;&#x2F; from command line: .....&#x2F;Brackets.app&#x2F;Contents path         - where &#39;path&#39; is undecorated
        &#x2F;&#x2F; from command line: .....&#x2F;Brackets.app path                  - where &#39;path&#39; has the form &quot;path:line&quot;
        &#x2F;&#x2F; from command line: .....&#x2F;Brackets.app path                  - where &#39;path&#39; has the form &quot;path:line:column&quot;
        &#x2F;&#x2F; from command line: open -a .....&#x2F;Brackets.app path          - where &#39;path&#39; is undecorated
        &#x2F;&#x2F; do &quot;View Source&quot; from Adobe Scout version 1.2 or newer (this will use decorated paths of the form &quot;path:line:column&quot;)
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleFileQuit 
        <a class="anchor" href="#-handleFileQuit" id="-handleFileQuit"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Closes the window, then quits the app</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileQuit(commandData) {
        return _handleWindowGoingAway(
            commandData,
            function () {
                brackets.app.quit();
            },
            function () {
                &#x2F;&#x2F; if fail, don&#39;t exit: user canceled (or asked us to save changes first, but we failed to do so)
                brackets.app.abortQuit();
            }
        );
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleFileRename 
        <a class="anchor" href="#-handleFileRename" id="-handleFileRename"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Show a textfield to rename whatever is currently selected in the sidebar (or current doc if nothing else selected)</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileRename() {
        &#x2F;&#x2F; Prefer selected sidebar item (which could be a folder)
        var entry = ProjectManager.getContext();
        if (!entry) {
            &#x2F;&#x2F; Else use current file (not selected in ProjectManager if not visible in tree or workingset)
            entry = MainViewManager.getCurrentlyViewedFile();
        }
        if (entry) {
            ProjectManager.renameItemInline(entry);
        }
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleFileSave 
        <a class="anchor" href="#-handleFileSave" id="-handleFileSave"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Saves the given file. If no file specified, assumes the current document.</p>
</div>
    
<dl>
    <dt>
        commandData
        <span class="label label-nullable">nullable</span>
        <span class="label label-info">{doc: ?Document}</span>
    </dt>
    <dd>Document to close, or null</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>resolved with the saved document's File (which MAY DIFFER from the doc passed in, if the doc was untitled). Rejected in case of IO error (after error dialog dismissed), or if doc was untitled and the Save dialog was canceled (will be rejected with USER_CANCELED object).</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileSave(commandData) {
        var activeEditor = EditorManager.getActiveEditor(),
            activeDoc = activeEditor &amp;&amp; activeEditor.document,
            doc = (commandData &amp;&amp; commandData.doc) || activeDoc,
            settings;

        if (doc &amp;&amp; !doc.isSaving) {
            if (doc.isUntitled()) {
                if (doc === activeDoc) {
                    settings = {
                        selections: activeEditor.getSelections(),
                        scrollPos: activeEditor.getScrollPos()
                    };
                }

                return _doSaveAs(doc, settings);
            } else {
                return doSave(doc);
            }
        }

        return $.Deferred().reject().promise();
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleFileSaveAll 
        <a class="anchor" href="#-handleFileSaveAll" id="-handleFileSaveAll"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Saves all unsaved documents.</p>
</div>
    
<dl>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>a promise that is resolved once ALL the saves have been completed; or rejected after all operations completed if any ONE of them failed.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileSaveAll() {
        return saveAll();
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleGoNextDoc 
        <a class="anchor" href="#-handleGoNextDoc" id="-handleGoNextDoc"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Next Doc command handler (MRU order) *</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleGoNextDoc() {
        goNextPrevDoc(+1);
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleGoNextDocListOrder 
        <a class="anchor" href="#-handleGoNextDocListOrder" id="-handleGoNextDocListOrder"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Next Doc command handler (list order) *</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleGoNextDocListOrder() {
        goNextPrevDoc(+1, true);
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleGoPrevDoc 
        <a class="anchor" href="#-handleGoPrevDoc" id="-handleGoPrevDoc"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Previous Doc command handler (MRU order) *</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleGoPrevDoc() {
        goNextPrevDoc(-1);
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleGoPrevDocListOrder 
        <a class="anchor" href="#-handleGoPrevDocListOrder" id="-handleGoPrevDocListOrder"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Previous Doc command handler (list order) *</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleGoPrevDocListOrder() {
        goNextPrevDoc(-1, true);
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleNewFolderInProject 
        <a class="anchor" href="#-handleNewFolderInProject" id="-handleNewFolderInProject"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Create a new folder in the project tree.</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleNewFolderInProject() {
        _handleNewItemInProject(true);
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleReload 
        <a class="anchor" href="#-handleReload" id="-handleReload"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Restarts brackets Handler</p>
</div>
    
<dl>
    <dt>
        loadWithoutExtensions
        <span class="label label-optional">optional</span>
        <span class="label label-info">boolean</span>
    </dt>
    <dd>true to restart without extensions, otherwise extensions are loadeed as it is durning a typical boot</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleReload(loadWithoutExtensions) {
        var href    = window.location.href,
            params  = new UrlParams();

        &#x2F;&#x2F; Make sure the Reload Without User Extensions parameter is removed
        params.parse();

        if (loadWithoutExtensions) {
            if (!params.get(&quot;reloadWithoutUserExts&quot;)) {
                params.put(&quot;reloadWithoutUserExts&quot;, true);
            }
        } else {
            if (params.get(&quot;reloadWithoutUserExts&quot;)) {
                params.remove(&quot;reloadWithoutUserExts&quot;);
            }
        }

        if (href.indexOf(&quot;?&quot;) !== -1) {
            href = href.substring(0, href.indexOf(&quot;?&quot;));
        }

        if (!params.isEmpty()) {
            href += &quot;?&quot; + params.toString();
        }

        &#x2F;&#x2F; Give Mac native menus extra time to update shortcut highlighting.
        &#x2F;&#x2F; Prevents the menu highlighting from getting messed up after reload.
        window.setTimeout(function () {
            browserReload(href);
        }, 100);
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleShowInOS 
        <a class="anchor" href="#-handleShowInOS" id="-handleShowInOS"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Show the selected sidebar (tree or workingset) item in Finder/Explorer</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleShowInOS() {
        var entry = ProjectManager.getSelectedItem();
        if (entry) {
            brackets.app.showOSFolder(entry.fullPath, function (err) {
                if (err) {
                    console.error(&quot;Error showing &#39;&quot; + entry.fullPath + &quot;&#39; in OS folder:&quot;, err);
                }
            });
        }
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleShowInTree 
        <a class="anchor" href="#-handleShowInTree" id="-handleShowInTree"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Show in File Tree command handler *</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleShowInTree() {
        ProjectManager.showInTree(MainViewManager.getCurrentlyViewedFile(MainViewManager.ACTIVE_PANE));
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        saveAll 
        <a class="anchor" href="#-saveAll" id="-saveAll"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Saves all unsaved documents. See _saveFileList() for details on the semantics.</p>
</div>
    
<dl>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd></dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function saveAll() {
        return _saveFileList(MainViewManager.getWorkingSet(MainViewManager.ALL_PANES));
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        showFileOpenError 
        <a class="anchor" href="#-showFileOpenError" id="-showFileOpenError"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Shows an error dialog indicating that the given file could not be opened due to the given error</p>
</div>
    
<dl>
    <dt>
        name
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">FileSystemError</span>
    </dt>
    <dd></dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">!Dialog</span></dt>
    <dd></dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function showFileOpenError(name, path) {
        return Dialogs.showModalDialog(
            DefaultDialogs.DIALOG_ID_ERROR,
            Strings.ERROR_OPENING_FILE_TITLE,
            StringUtils.format(
                Strings.ERROR_OPENING_FILE,
                StringUtils.breakableUrl(path),
                FileUtils.getFileErrorString(name)
            )
        );
    }</code></pre></div>
</section>

        </div>
      </div>
    </div>

    <script type="text/javascript" src="../../assets/js/prism.js"></script>
  </body>
</html>
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>StringMatch - Brackets API</title>
    <link rel="stylesheet" href="../../assets/css/bootstrap.css">
    <link rel="stylesheet" href="../../assets/css/typeahead.js-bootstrap.css">
    <link rel="stylesheet" href="../../assets/css/font-awesome.css">
    <link rel="stylesheet" href="../../assets/css/prism.css">
    <link rel="stylesheet" href="../../assets/css/main.css">
    <!--[if IE 7]>
    <link rel="stylesheet" href="../assets/css/font-awesome-ie7.css">
    <![endif]-->
    <script type="text/javascript" src="../../assets/js/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="../../assets/js/bootstrap.js"></script>
    <script type="text/javascript" src="../../assets/js/typeahead.js"></script>
    <script type="text/javascript" src="../../assets/js/main.js"></script>
    <script src="http://use.edgefonts.net/source-sans-pro:n3,i3,n4,i4;source-code-pro.js"></script>

    <!-- Control the Flash of Unstyled Text (or FOUT) -->
    <style type="text/css">
        .wf-loading h1, .wf-loading h2, .wf-loading h3, .wf-loading h4,
        .wf-loading h5, .wf-loading h6, .wf-loading p, .wf-loading a {
            visibility: hidden;
        }
    </style>
    
    <script>
      window.moduleLevel = "../..";
    </script>
  </head>
  
  <body>
    <div class="row-fluid">
      <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
          <div class="container">
            <a class="brand" href="../../index.html">Brackets API</a>
            <div class="nav-collapse collapse">
              <ul class="nav">
                <li><a href="#dependencies">Dependencies</a></li>
                <li><a href="#variables">Variables</a></li>
                <li><a href="#functions">Functions</a></li>
                <li><a href="#classes">Classes</a></li>
              </ul>
            </div>
            <input class="typeahead" placeholder="Search..." type="text" >
          </div>
        </div>
      </div>    </div>
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">
          <div class="left-section">
            <h2 class="number-of-modules">Modules (151)</h2>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_"><i class="icon-folder-open"></i>[root]</a>
              </li>
            </ul>
            <ul id="package_" class="nav nav-list">
              <li><a href="../../modules/brackets.html">brackets</a></li>
              <li><a href="../../modules/dependencies.html">dependencies</a></li>
              <li><a href="../../modules/main.html">main</a></li>
              <li><a href="../../modules/strings.html">strings</a></li>
              <li><a href="../../modules/xorigin.html">xorigin</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_command"><i class="icon-folder-open"></i>command</a>
              </li>
            </ul>
            <ul id="package_command" class="nav nav-list">
              <li><a href="../../modules/command/CommandManager.html">CommandManager</a></li>
              <li><a href="../../modules/command/Commands.html">Commands</a></li>
              <li><a href="../../modules/command/DefaultMenus.html">DefaultMenus</a></li>
              <li><a href="../../modules/command/KeyBindingManager.html">KeyBindingManager</a></li>
              <li><a href="../../modules/command/Menus.html">Menus</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_document"><i class="icon-folder-open"></i>document</a>
              </li>
            </ul>
            <ul id="package_document" class="nav nav-list">
              <li><a href="../../modules/document/ChangedDocumentTracker.html">ChangedDocumentTracker</a></li>
              <li><a href="../../modules/document/Document.html">Document</a></li>
              <li><a href="../../modules/document/DocumentCommandHandlers.html">DocumentCommandHandlers</a></li>
              <li><a href="../../modules/document/DocumentManager.html">DocumentManager</a></li>
              <li><a href="../../modules/document/InMemoryFile.html">InMemoryFile</a></li>
              <li><a href="../../modules/document/TextRange.html">TextRange</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_editor"><i class="icon-folder-open"></i>editor</a>
              </li>
            </ul>
            <ul id="package_editor" class="nav nav-list">
              <li><a href="../../modules/editor/CodeHintList.html">CodeHintList</a></li>
              <li><a href="../../modules/editor/CodeHintManager.html">CodeHintManager</a></li>
              <li><a href="../../modules/editor/CSSInlineEditor.html">CSSInlineEditor</a></li>
              <li><a href="../../modules/editor/Editor.html">Editor</a></li>
              <li><a href="../../modules/editor/EditorCommandHandlers.html">EditorCommandHandlers</a></li>
              <li><a href="../../modules/editor/EditorManager.html">EditorManager</a></li>
              <li><a href="../../modules/editor/EditorOptionHandlers.html">EditorOptionHandlers</a></li>
              <li><a href="../../modules/editor/EditorStatusBar.html">EditorStatusBar</a></li>
              <li><a href="../../modules/editor/ImageViewer.html">ImageViewer</a></li>
              <li><a href="../../modules/editor/InlineTextEditor.html">InlineTextEditor</a></li>
              <li><a href="../../modules/editor/InlineWidget.html">InlineWidget</a></li>
              <li><a href="../../modules/editor/MultiRangeInlineEditor.html">MultiRangeInlineEditor</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_extensibility"><i class="icon-folder-open"></i>extensibility</a>
              </li>
            </ul>
            <ul id="package_extensibility" class="nav nav-list">
              <li><a href="../../modules/extensibility/ExtensionManager.html">ExtensionManager</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerDialog.html">ExtensionManagerDialog</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerView.html">ExtensionManagerView</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerViewModel.html">ExtensionManagerViewModel</a></li>
              <li><a href="../../modules/extensibility/InstallExtensionDialog.html">InstallExtensionDialog</a></li>
              <li><a href="../../modules/extensibility/Package.html">Package</a></li>
              <li><a href="../../modules/extensibility/registry_utils.html">registry_utils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_file"><i class="icon-folder-open"></i>file</a>
              </li>
            </ul>
            <ul id="package_file" class="nav nav-list">
              <li><a href="../../modules/file/FileUtils.html">FileUtils</a></li>
              <li><a href="../../modules/file/NativeFileError.html">NativeFileError</a></li>
              <li><a href="../../modules/file/NativeFileSystem.html">NativeFileSystem</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem"><i class="icon-folder-open"></i>filesystem</a>
              </li>
            </ul>
            <ul id="package_filesystem" class="nav nav-list">
              <li><a href="../../modules/filesystem/Directory.html">Directory</a></li>
              <li><a href="../../modules/filesystem/File.html">File</a></li>
              <li><a href="../../modules/filesystem/FileIndex.html">FileIndex</a></li>
              <li><a href="../../modules/filesystem/FileSystem.html">FileSystem</a></li>
              <li><a href="../../modules/filesystem/FileSystemEntry.html">FileSystemEntry</a></li>
              <li><a href="../../modules/filesystem/FileSystemError.html">FileSystemError</a></li>
              <li><a href="../../modules/filesystem/FileSystemStats.html">FileSystemStats</a></li>
              <li><a href="../../modules/filesystem/WatchedRoot.html">WatchedRoot</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem_impls_appshell"><i class="icon-folder-open"></i>filesystem&#x2F;impls&#x2F;appshell</a>
              </li>
            </ul>
            <ul id="package_filesystem_impls_appshell" class="nav nav-list">
              <li><a href="../../modules/filesystem/impls/appshell/AppshellFileSystem.html">AppshellFileSystem</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem_impls_appshell_node"><i class="icon-folder-open"></i>filesystem&#x2F;impls&#x2F;appshell&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_filesystem_impls_appshell_node" class="nav nav-list">
              <li><a href="../../modules/filesystem/impls/appshell/node/FileWatcherDomain.html">FileWatcherDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_help"><i class="icon-folder-open"></i>help</a>
              </li>
            </ul>
            <ul id="package_help" class="nav nav-list">
              <li><a href="../../modules/help/HelpCommandHandlers.html">HelpCommandHandlers</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_language"><i class="icon-folder-open"></i>language</a>
              </li>
            </ul>
            <ul id="package_language" class="nav nav-list">
              <li><a href="../../modules/language/CodeInspection.html">CodeInspection</a></li>
              <li><a href="../../modules/language/CSSUtils.html">CSSUtils</a></li>
              <li><a href="../../modules/language/HTMLDOMDiff.html">HTMLDOMDiff</a></li>
              <li><a href="../../modules/language/HTMLInstrumentation.html">HTMLInstrumentation</a></li>
              <li><a href="../../modules/language/HTMLSimpleDOM.html">HTMLSimpleDOM</a></li>
              <li><a href="../../modules/language/HTMLTokenizer.html">HTMLTokenizer</a></li>
              <li><a href="../../modules/language/HTMLUtils.html">HTMLUtils</a></li>
              <li><a href="../../modules/language/JSUtils.html">JSUtils</a></li>
              <li><a href="../../modules/language/LanguageManager.html">LanguageManager</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Agents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Agents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Agents" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Agents/ConsoleAgent.html">ConsoleAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/CSSAgent.html">CSSAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMAgent.html">DOMAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMHelpers.html">DOMHelpers</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMNode.html">DOMNode</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/EditAgent.html">EditAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/GotoAgent.html">GotoAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/HighlightAgent.html">HighlightAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/NetworkAgent.html">NetworkAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/RemoteAgent.html">RemoteAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/RemoteFunctions.html">RemoteFunctions</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/ScriptAgent.html">ScriptAgent</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Documents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Documents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Documents" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Documents/CSSDocument.html">CSSDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/CSSPreprocessorDocument.html">CSSPreprocessorDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/HTMLDocument.html">HTMLDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/JSDocument.html">JSDocument</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Inspector"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Inspector</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Inspector" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Inspector/Inspector.html">Inspector</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment"><i class="icon-folder-open"></i>LiveDevelopment</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/LiveDevelopment.html">LiveDevelopment</a></li>
              <li><a href="../../modules/LiveDevelopment/LiveDevServerManager.html">LiveDevServerManager</a></li>
              <li><a href="../../modules/LiveDevelopment/main.html">main</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Servers"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Servers</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Servers" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Servers/BaseServer.html">BaseServer</a></li>
              <li><a href="../../modules/LiveDevelopment/Servers/FileServer.html">FileServer</a></li>
              <li><a href="../../modules/LiveDevelopment/Servers/UserServer.html">UserServer</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_preferences"><i class="icon-folder-open"></i>preferences</a>
              </li>
            </ul>
            <ul id="package_preferences" class="nav nav-list">
              <li><a href="../../modules/preferences/PreferencesBase.html">PreferencesBase</a></li>
              <li><a href="../../modules/preferences/PreferencesDialogs.html">PreferencesDialogs</a></li>
              <li><a href="../../modules/preferences/PreferencesImpl.html">PreferencesImpl</a></li>
              <li><a href="../../modules/preferences/PreferencesManager.html">PreferencesManager</a></li>
              <li><a href="../../modules/preferences/PreferenceStorage.html">PreferenceStorage</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_project"><i class="icon-folder-open"></i>project</a>
              </li>
            </ul>
            <ul id="package_project" class="nav nav-list">
              <li><a href="../../modules/project/FileIndexManager.html">FileIndexManager</a></li>
              <li><a href="../../modules/project/FileSyncManager.html">FileSyncManager</a></li>
              <li><a href="../../modules/project/FileViewController.html">FileViewController</a></li>
              <li><a href="../../modules/project/ProjectManager.html">ProjectManager</a></li>
              <li><a href="../../modules/project/SidebarView.html">SidebarView</a></li>
              <li><a href="../../modules/project/WorkingSetSort.html">WorkingSetSort</a></li>
              <li><a href="../../modules/project/WorkingSetView.html">WorkingSetView</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_search"><i class="icon-folder-open"></i>search</a>
              </li>
            </ul>
            <ul id="package_search" class="nav nav-list">
              <li><a href="../../modules/search/FileFilters.html">FileFilters</a></li>
              <li><a href="../../modules/search/FindBar.html">FindBar</a></li>
              <li><a href="../../modules/search/FindInFiles.html">FindInFiles</a></li>
              <li><a href="../../modules/search/FindInFilesUI.html">FindInFilesUI</a></li>
              <li><a href="../../modules/search/FindReplace.html">FindReplace</a></li>
              <li><a href="../../modules/search/FindUtils.html">FindUtils</a></li>
              <li><a href="../../modules/search/QuickOpen.html">QuickOpen</a></li>
              <li><a href="../../modules/search/ScrollTrackMarkers.html">ScrollTrackMarkers</a></li>
              <li><a href="../../modules/search/SearchModel.html">SearchModel</a></li>
              <li><a href="../../modules/search/SearchResultsView.html">SearchResultsView</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_utils"><i class="icon-folder-open"></i>utils</a>
              </li>
            </ul>
            <ul id="package_utils" class="nav nav-list">
              <li><a href="../../modules/utils/AnimationUtils.html">AnimationUtils</a></li>
              <li><a href="../../modules/utils/AppInit.html">AppInit</a></li>
              <li><a href="../../modules/utils/Async.html">Async</a></li>
              <li><a href="../../modules/utils/BuildInfoUtils.html">BuildInfoUtils</a></li>
              <li><a href="../../modules/utils/CollectionUtils.html">CollectionUtils</a></li>
              <li><a href="../../modules/utils/ColorUtils.html">ColorUtils</a></li>
              <li><a href="../../modules/utils/Compatibility.html">Compatibility</a></li>
              <li><a href="../../modules/utils/DeprecationWarning.html">DeprecationWarning</a></li>
              <li><a href="../../modules/utils/DragAndDrop.html">DragAndDrop</a></li>
              <li><a href="../../modules/utils/DropdownEventHandler.html">DropdownEventHandler</a></li>
              <li><a href="../../modules/utils/ExtensionLoader.html">ExtensionLoader</a></li>
              <li><a href="../../modules/utils/ExtensionUtils.html">ExtensionUtils</a></li>
              <li><a href="../../modules/utils/Global.html">Global</a></li>
              <li><a href="../../modules/utils/KeyEvent.html">KeyEvent</a></li>
              <li><a href="../../modules/utils/LocalizationUtils.html">LocalizationUtils</a></li>
              <li><a href="../../modules/utils/NativeApp.html">NativeApp</a></li>
              <li><a href="../../modules/utils/NodeConnection.html">NodeConnection</a></li>
              <li><a href="../../modules/utils/NodeDomain.html">NodeDomain</a></li>
              <li><a href="../../modules/utils/PerfUtils.html">PerfUtils</a></li>
              <li><a href="../../modules/utils/Resizer.html">Resizer</a></li>
              <li><a href="../../modules/utils/ShellAPI.html">ShellAPI</a></li>
              <li><a href="../../modules/utils/StringMatch.html">StringMatch</a></li>
              <li><a href="../../modules/utils/StringUtils.html">StringUtils</a></li>
              <li><a href="../../modules/utils/TokenUtils.html">TokenUtils</a></li>
              <li><a href="../../modules/utils/UpdateNotification.html">UpdateNotification</a></li>
              <li><a href="../../modules/utils/UrlParams.html">UrlParams</a></li>
              <li><a href="../../modules/utils/ValidationUtils.html">ValidationUtils</a></li>
              <li><a href="../../modules/utils/ViewUtils.html">ViewUtils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_view"><i class="icon-folder-open"></i>view</a>
              </li>
            </ul>
            <ul id="package_view" class="nav nav-list">
              <li><a href="../../modules/view/PanelManager.html">PanelManager</a></li>
              <li><a href="../../modules/view/ThemeManager.html">ThemeManager</a></li>
              <li><a href="../../modules/view/ThemeSettings.html">ThemeSettings</a></li>
              <li><a href="../../modules/view/ThemeView.html">ThemeView</a></li>
              <li><a href="../../modules/view/ViewCommandHandlers.html">ViewCommandHandlers</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_widgets"><i class="icon-folder-open"></i>widgets</a>
              </li>
            </ul>
            <ul id="package_widgets" class="nav nav-list">
              <li><a href="../../modules/widgets/bootstrap-alerts.html">bootstrap-alerts</a></li>
              <li><a href="../../modules/widgets/bootstrap-button.html">bootstrap-button</a></li>
              <li><a href="../../modules/widgets/bootstrap-dropdown.html">bootstrap-dropdown</a></li>
              <li><a href="../../modules/widgets/bootstrap-modal.html">bootstrap-modal</a></li>
              <li><a href="../../modules/widgets/bootstrap-popover.html">bootstrap-popover</a></li>
              <li><a href="../../modules/widgets/bootstrap-scrollspy.html">bootstrap-scrollspy</a></li>
              <li><a href="../../modules/widgets/bootstrap-tab.html">bootstrap-tab</a></li>
              <li><a href="../../modules/widgets/bootstrap-tooltip.html">bootstrap-tooltip</a></li>
              <li><a href="../../modules/widgets/bootstrap-twipsy-mod.html">bootstrap-twipsy-mod</a></li>
              <li><a href="../../modules/widgets/DefaultDialogs.html">DefaultDialogs</a></li>
              <li><a href="../../modules/widgets/Dialogs.html">Dialogs</a></li>
              <li><a href="../../modules/widgets/DropdownButton.html">DropdownButton</a></li>
              <li><a href="../../modules/widgets/ModalBar.html">ModalBar</a></li>
              <li><a href="../../modules/widgets/PopUpManager.html">PopUpManager</a></li>
              <li><a href="../../modules/widgets/StatusBar.html">StatusBar</a></li>
            </ul>
          </div>
        </div>
        <div class="module span9">
<h1>StringMatch</h1>


<section class="description">
    <h3>Description</h3>
    
    <div></div>
    
</section>

<section id="dependencies">
    <h3>Dependencies</h3>

    <ul class="nav nav-list">
        <li><a href="..&#x2F;../modules/thirdparty/lodash.html">lodash</a></li>
    </ul>

</section>

<section id="functions">

    <h3>Functions 
<label class="checkbox">
    <input class="toggle-public" type="checkbox"> Show Private Members
</label>    </h3>

<div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        SearchResult 
        <a class="anchor" href="#-SearchResult" id="-SearchResult"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Object representing a search result with associated metadata (added as extra ad hoc fields)</p>
</div>
    
<dl>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function SearchResult(label) {
        this.label = label;
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        StringMatcher 
        <a class="anchor" href="#-StringMatcher" id="-StringMatcher"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>A StringMatcher provides an interface to the stringMatch function with built-in
caching. You should use a StringMatcher for the lifetime of queries over a
single data set.</p>
<p>You are free to store other data on this object to assist in higher-level caching.
(This object&#39;s caches are all stored in &quot;_&quot; prefixed properties.)</p>
</div>
    
<dl>
    <dt>
        options
        <span class="label label-info">{preferPrefixMatches:?boolean,segmentedSearch:?boolean}</span>
    </dt>
    <dd>to control search behavior. preferPrefixMatches puts an exact case-insensitive prefix match ahead of all other matches, even short-circuiting the match logic. This option implies segmentedSearch=false. segmentedSearch treats segments of the string specially.</dd>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function StringMatcher(options) {
        this.options = options;
        this.reset();
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>
        _computeRangesAndScore 
        <a class="anchor" href="#-_computeRangesAndScore" id="-_computeRangesAndScore"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Converts a list of matches into a form suitable for returning from stringMatch.</p>
</div>
    
<dl>
    <dt>
        matchList
        <span class="label label-info">Array.&lt;SpecialMatch,NormalMatch&gt;</span>
    </dt>
    <dd>to convert</dd>
    <dt>
        original
        <span class="label label-info">string</span>
    </dt>
    <dd>string</dd>
    <dt>
        character
        <span class="label label-info">int</span>
    </dt>
    <dd>index where last segment begins</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">{ranges:Array.&lt;{text:string,matched:boolean,includesLastSegment:boolean}&gt;,matchGoodness:int,scoreDebug: Object}</span>
</dt>
    <dd>matched ranges and score</dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _computeRangesAndScore(matchList, str, lastSegmentStart) {
        var matchCounter;
        var ranges = [];
        var lastMatchIndex = -1;
        var lastSegmentScore = 0;
        var currentRangeStartedOnSpecial = false;
        
        var score = 0;
        var scoreDebug;
        if (DEBUG_SCORES) {
            scoreDebug = {
                special: 0,
                match: 0,
                lastSegment: 0,
                beginning: 0,
                lengthDeduction: 0,
                consecutive: 0,
                notStartingOnSpecial: 0
            };
        }
        
        var currentRange = null;
        
        &#x2F;&#x2F; Records the current range and adds any additional ranges required to
        &#x2F;&#x2F; get to character index c. This function is called before starting a new range
        &#x2F;&#x2F; or returning from the function.
        function closeRangeGap(c) {
            &#x2F;&#x2F; Close the current range
            if (currentRange) {
                currentRange.includesLastSegment = lastMatchIndex &gt;= lastSegmentStart;
                if (currentRange.matched &amp;&amp; currentRange.includesLastSegment) {
                    if (DEBUG_SCORES) {
                        scoreDebug.lastSegment += lastSegmentScore * LAST_SEGMENT_BOOST;
                    }
                    score += lastSegmentScore * LAST_SEGMENT_BOOST;
                }
                
                if (currentRange.matched &amp;&amp; !currentRangeStartedOnSpecial) {
                    if (DEBUG_SCORES) {
                        scoreDebug.notStartingOnSpecial -= NOT_STARTING_ON_SPECIAL_PENALTY;
                    }
                    score -= NOT_STARTING_ON_SPECIAL_PENALTY;
                }
                ranges.push(currentRange);
            }
            
            &#x2F;&#x2F; If there was space between the new range and the last,
            &#x2F;&#x2F; add a new unmatched range before the new range can be added.
            if (lastMatchIndex + 1 &lt; c) {
                ranges.push({
                    text: str.substring(lastMatchIndex + 1, c),
                    matched: false,
                    includesLastSegment: c &gt; lastSegmentStart
                });
            }
            currentRange = null;
            lastSegmentScore = 0;
        }
        
        &#x2F;&#x2F; In some cases (see the use of this variable below), we accelerate the
        &#x2F;&#x2F; bonus the more consecutive matches there are.
        var numConsecutive = 0;
        
        &#x2F;&#x2F; Adds a matched character to the appropriate range
        function addMatch(match) {
            &#x2F;&#x2F; Pull off the character index
            var c = match.index;
            var newPoints = 0;
            
            &#x2F;&#x2F; A match means that we need to do some scoring bookkeeping.
            &#x2F;&#x2F; Start with points added for any match
            if (DEBUG_SCORES) {
                scoreDebug.match += MATCH_POINTS;
            }
            newPoints += MATCH_POINTS;
            
            &#x2F;&#x2F; A bonus is given for characters that match at the beginning
            &#x2F;&#x2F; of the filename
            if (c === lastSegmentStart) {
                if (DEBUG_SCORES) {
                    scoreDebug.beginning += BEGINNING_OF_NAME_POINTS;
                }
                newPoints += BEGINNING_OF_NAME_POINTS;
            }
            
            &#x2F;&#x2F; If the new character immediately follows the last matched character,
            &#x2F;&#x2F; we award the consecutive matches bonus. The check for score &gt; 0
            &#x2F;&#x2F; handles the initial value of lastMatchIndex which is used for
            &#x2F;&#x2F; constructing ranges but we don&#39;t yet have a true match.
            if (score &gt; 0 &amp;&amp; lastMatchIndex + 1 === c) {
                &#x2F;&#x2F; Continue boosting for each additional match at the beginning
                &#x2F;&#x2F; of the name
                if (c - numConsecutive === lastSegmentStart) {
                    if (DEBUG_SCORES) {
                        scoreDebug.beginning += BEGINNING_OF_NAME_POINTS;
                    }
                    newPoints += BEGINNING_OF_NAME_POINTS;
                }
                
                numConsecutive++;
                
                var boost = CONSECUTIVE_MATCHES_POINTS * numConsecutive;
                
                &#x2F;&#x2F; Consecutive matches that started on a special are a
                &#x2F;&#x2F; good indicator of intent, so we award an added bonus there.
                if (currentRangeStartedOnSpecial) {
                    boost = boost * 2;
                }
                
                if (DEBUG_SCORES) {
                    scoreDebug.consecutive += boost;
                }
                newPoints += boost;
            } else {
                numConsecutive = 1;
            }
            
            &#x2F;&#x2F; add points for &quot;special&quot; character matches
            if (match instanceof SpecialMatch) {
                if (DEBUG_SCORES) {
                    scoreDebug.special += SPECIAL_POINTS;
                }
                newPoints += SPECIAL_POINTS;
            }
            
            score += newPoints;
            
            &#x2F;&#x2F; points accumulated in the last segment get an extra bonus
            if (c &gt;= lastSegmentStart) {
                lastSegmentScore += newPoints;
            }
            
            &#x2F;&#x2F; if the last range wasn&#39;t a match or there&#39;s a gap, we need to close off
            &#x2F;&#x2F; the range to start a new one.
            if ((currentRange &amp;&amp; !currentRange.matched) || c &gt; lastMatchIndex + 1) {
                closeRangeGap(c);
            }
            lastMatchIndex = c;
            
            &#x2F;&#x2F; set up a new match range or add to the current one
            if (!currentRange) {
                currentRange = {
                    text: str[c],
                    matched: true
                };
                
                &#x2F;&#x2F; Check to see if this new matched range is starting on a special
                &#x2F;&#x2F; character. We penalize those ranges that don&#39;t, because most
                &#x2F;&#x2F; people will search on the logical boundaries of the name
                currentRangeStartedOnSpecial = match instanceof SpecialMatch;
            } else {
                currentRange.text += str[c];
            }
        }
        
        &#x2F;&#x2F; scan through the matches, adding each one in turn
        for (matchCounter = 0; matchCounter &lt; matchList.length; matchCounter++) {
            var match = matchList[matchCounter];
            addMatch(match);
        }
        
        &#x2F;&#x2F; add a range for the last part of the string
        closeRangeGap(str.length);
        
        &#x2F;&#x2F; shorter strings that match are often better than longer ones
        var lengthPenalty = -1 * Math.round(str.length * DEDUCTION_FOR_LENGTH);
        if (DEBUG_SCORES) {
            scoreDebug.lengthDeduction = lengthPenalty;
        }
        score = score + lengthPenalty;

        var result = {
            ranges: ranges,
            matchGoodness: score
        };
        
        if (DEBUG_SCORES) {
            result.scoreDebug = scoreDebug;
        }
        return result;
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>
        _generateMatchList 
        <a class="anchor" href="#-_generateMatchList" id="-_generateMatchList"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Finds the best matches between the query and the string. The query is
compared with str (usually a lower case string with a lower case
query).</p>
<p>Generally speaking, this function tries to find &quot;special&quot; characters
(see findSpecialCharacters above) first. Failing that, it starts scanning
the &quot;normal&quot; characters. Sometimes, it will find a special character that matches
but then not be able to match the rest of the query. In cases like that, the
search will backtrack and try to find matches for the whole query earlier in the
string.</p>
<p>A contrived example will help illustrate how the searching and backtracking works. It&#39;s a bit long,
but it illustrates different pieces of the algorithm which can be tricky. Let&#39;s say that we&#39;re
searching the string &quot;AzzBzzCzdzezzDgxgEF&quot; for &quot;abcdex&quot;.</p>
<p>To start with, it will match &quot;abcde&quot; from the query to &quot;A B C D E&quot; in the string (the spaces 
represent gaps in the matched part of the string), because those are all &quot;special characters&quot;.
However, the &quot;x&quot; in the query doesn&#39;t match the &quot;F&quot; which is the only character left in the
string.</p>
<p>Backtracking kicks in. The &quot;E&quot; is pulled off of the match list.
deadBranches[4] is set to the &quot;g&quot; before the &quot;E&quot;. This means that for the 5th
query character (the &quot;e&quot;) we know that we don&#39;t have a match beyond that point in the string.</p>
<p>To resume searching, the backtrack function looks at the previous match (the &quot;D&quot;) and starts
searching in character-by-character (ANY_MATCH) mode right after that. It fails to find an
&quot;e&quot; before it gets to deadBranches[4], so it has to backtrack again.</p>
<p>This time, the &quot;D&quot; is pulled off the match list.
deadBranches[3] is set to the &quot;z&quot; before the &quot;D&quot;, because we know that for the &quot;dex&quot; part of the
query, we can&#39;t make it work past the &quot;D&quot;. We&#39;ll resume searching with the &quot;z&quot; after the &quot;C&quot;.</p>
<p>Doing an ANY_MATCH search, we find the &quot;d&quot;. We then start searching specials for &quot;e&quot;, but we
stop before we get to &quot;E&quot; because deadBranches[4] tells us that&#39;s a dead end. So, we switch
to ANY_MATCH and find the &quot;e&quot;.</p>
<p>Finally, we search for the &quot;x&quot;. We don&#39;t find a special that matches, so we start an ANY_MATCH
search. Then we find the &quot;x&quot;, and we have a successful match.</p>
<p>Here are some notes on how the algorithm works:</p>
<ul>
<li><p>We only backtrack() when we&#39;re exhausted both special AND normal forward searches past that point, 
for the query remainder we currently have.  For a different query remainder, we may well get further 
along - hence deadBranches[] being dependent on queryCounter; but in order to get a different query 
remainder, we must give up one or more current matches by backtracking.</p>
</li>
<li><p>Normal &quot;any char&quot; forward search is a superset of special matching mode -- anything that would have 
been matched in special mode <em>could</em> also be matched by normal mode. In practice, however,
any special characters that could have matched would be picked up first by the specials matching
code.</p>
</li>
<li><p>backtrack() always goes at least as far back as str[deadBranches[queryCounter]-1] before allowing 
forward searching to resume</p>
</li>
<li><p>When <code>deadBranches[queryCounter] = strCounter</code> it means if we&#39;re still trying to match 
<code>queryStr[queryCounter]</code> and we get to <code>str[strCounter]</code>, there&#39;s no way we can match the 
remainer of <code>queryStr</code> with the remainder of <code>str</code> -- either using specials-only or 
full any-char matching.</p>
</li>
<li><p>We know this because deadBranches[] is set in backtrack(), and we don&#39;t get to backtrack() unless 
either:</p>
<ol>
<li>We&#39;ve already exhausted both special AND normal forward searches past that point
(i.e. backtrack() due to <code>strCounter &gt;= str.length</code>, yet <code>queryCounter &lt; query.length</code>)</li>
<li>We stopped searching further forward due to a previously set deadBranches[] value
(i.e. backtrack() due to <code>strCounter &gt; deadBranches[queryCounter]</code>, yet 
<code>queryCounter &lt; query.length</code>)</li>
</ol>
</li>
</ul>
</div>
    
<dl>
    <dt>
        query
        <span class="label label-info">string</span>
    </dt>
    <dd>the search string (generally lower cased)</dd>
    <dt>
        str
        <span class="label label-info">string</span>
    </dt>
    <dd>the string to compare with (generally lower cased)</dd>
    <dt>
        specials
        <span class="label label-info">Array</span>
    </dt>
    <dd>list of special indexes in str (from findSpecialCharacters)</dd>
    <dt>
        startingSpecial
        <span class="label label-info">int</span>
    </dt>
    <dd>index into specials array to start scanning with</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">Array.&lt;SpecialMatch,NormalMatch&gt;</span>
</dt>
    <dd>matched indexes or null if no matches possible</dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _generateMatchList(query, str, specials, startingSpecial) {
        var result = [];
        
        &#x2F;&#x2F; used to keep track of which special character we&#39;re testing now
        var specialsCounter = startingSpecial;
        
        &#x2F;&#x2F; strCounter and queryCounter are the indexes used for pulling characters
        &#x2F;&#x2F; off of the str&#x2F;compareStr and query.
        var strCounter = specials[startingSpecial];
        var queryCounter;
        
        &#x2F;&#x2F; the search branches out between special characters and normal characters
        &#x2F;&#x2F; that are found via consecutive character scanning. In the process of
        &#x2F;&#x2F; performing these scans, we discover that parts of the query will not match
        &#x2F;&#x2F; beyond a given point in the string. We keep track of that information
        &#x2F;&#x2F; in deadBranches, which has a slot for each character in the query.
        &#x2F;&#x2F; The value stored in the slot is the index into the string after which we
        &#x2F;&#x2F; are certain there is no match.
        var deadBranches = [];
        
        for (queryCounter = 0; queryCounter &lt; query.length; queryCounter++) {
            deadBranches[queryCounter] = Infinity;
        }
        
        queryCounter = 0;
        
        var state = SPECIALS_MATCH;
        
        &#x2F;&#x2F; Compares the current character from the query string against the
        &#x2F;&#x2F; special characters in str. Returns true if a match was found,
        &#x2F;&#x2F; false otherwise.
        function findMatchingSpecial() {
            &#x2F;&#x2F; used to loop through the specials
            var i;
            
            for (i = specialsCounter; i &lt; specials.length; i++) {
                &#x2F;&#x2F; short circuit this search when we know there are no matches following
                if (specials[i] &gt;= deadBranches[queryCounter]) {
                    break;
                }
                
                &#x2F;&#x2F; First, ensure that we&#39;re not comparing specials that
                &#x2F;&#x2F; come earlier in the string than our current search position.
                &#x2F;&#x2F; This can happen when the string position changes elsewhere.
                if (specials[i] &lt; strCounter) {
                    specialsCounter = i;
                } else if (query[queryCounter] === str[specials[i]]) {
                    &#x2F;&#x2F; we have a match! do the required tracking
                    specialsCounter = i;
                    queryCounter++;
                    strCounter = specials[i];
                    result.push(new SpecialMatch(strCounter++));
                    return true;
                }
            }
            
            return false;
        }
        
        &#x2F;&#x2F; This function implements the backtracking that is done when we fail to find
        &#x2F;&#x2F; a match with the query using the &quot;search for specials first&quot; approach.
        &#x2F;&#x2F;
        &#x2F;&#x2F; returns false when it is not able to backtrack successfully
        function backtrack() {
            
            &#x2F;&#x2F; The idea is to pull matches off of our match list, rolling back
            &#x2F;&#x2F; characters from the query. We pay special attention to the special
            &#x2F;&#x2F; characters since they are searched first.
            while (result.length &gt; 0) {
                var item = result.pop();
                
                &#x2F;&#x2F; nothing in the list? there&#39;s no possible match then.
                if (!item) {
                    return false;
                }
                
                &#x2F;&#x2F; we pulled off a match, which means that we need to put a character
                &#x2F;&#x2F; back into our query. strCounter is going to be set once we&#39;ve pulled
                &#x2F;&#x2F; off the right special character and know where we&#39;re going to restart
                &#x2F;&#x2F; searching from.
                queryCounter--;
                
                if (item instanceof SpecialMatch) {
                    &#x2F;&#x2F; pulled off a special, which means we need to make that special available
                    &#x2F;&#x2F; for matching again
                    specialsCounter--;
                    
                    &#x2F;&#x2F; check to see if we&#39;ve gone back as far as we need to
                    if (item.index &lt; deadBranches[queryCounter]) {
                        &#x2F;&#x2F; we now know that this part of the query does not match beyond this
                        &#x2F;&#x2F; point
                        deadBranches[queryCounter] = item.index - 1;
                        
                        &#x2F;&#x2F; since we failed with the specials along this track, we&#39;re
                        &#x2F;&#x2F; going to reset to looking for matches consecutively.
                        state = ANY_MATCH;
                        
                        &#x2F;&#x2F; we figure out where to start looking based on the new
                        &#x2F;&#x2F; last item in the list. If there isn&#39;t anything else
                        &#x2F;&#x2F; in the match list, we&#39;ll start over at the starting special
                        &#x2F;&#x2F; (which is generally the beginning of the string, or the
                        &#x2F;&#x2F; beginning of the last segment of the string)
                        item = result[result.length - 1];
                        if (!item) {
                            strCounter = specials[startingSpecial] + 1;
                            return true;
                        }
                        strCounter = item.index + 1;
                        return true;
                    }
                }
            }
            return false;
        }
        
        while (true) {
            
            &#x2F;&#x2F; keep looping until we&#39;ve either exhausted the query or the string
            while (queryCounter &lt; query.length &amp;&amp; strCounter &lt; str.length &amp;&amp; strCounter &lt;= deadBranches[queryCounter]) {
                if (state === SPECIALS_MATCH) {
                    if (!findMatchingSpecial()) {
                        state = ANY_MATCH;
                    }
                }
                
                if (state === ANY_MATCH) {
                    &#x2F;&#x2F; we look character by character for matches
                    if (query[queryCounter] === str[strCounter]) {
                        &#x2F;&#x2F; got a match! record it, and switch back to searching specials
                        queryCounter++;
                        result.push(new NormalMatch(strCounter++));
                        state = SPECIALS_MATCH;
                    } else {
                        &#x2F;&#x2F; no match, keep looking
                        strCounter++;
                    }
                }
            }
            
            &#x2F;&#x2F; if we&#39;ve finished the query, or we haven&#39;t finished the query but we have no
            &#x2F;&#x2F; more backtracking we can do, then we&#39;re all done searching.
            if (queryCounter &gt;= query.length || (queryCounter &lt; query.length &amp;&amp; !backtrack())) {
                break;
            }
        }
        
        &#x2F;&#x2F; return null when we don&#39;t find anything
        if (queryCounter &lt; query.length || result.length === 0) {
            return null;
        }
        return result;
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>
        _lastSegmentSearch 
        <a class="anchor" href="#-_lastSegmentSearch" id="-_lastSegmentSearch"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Seek out the best match in the last segment (generally the filename). 
Matches in the filename are preferred, but the query entered could match
any part of the path. So, we find the best match we can get in the filename
and then allow for searching the rest of the string with any characters that
are left from the beginning of the query.</p>
<p>The parameters and return value are the same as for getMatchRanges,
except this function is always working on the last segment and the
result can optionally include a remainder, which is the characters
at the beginning of the query which did not match in the last segment.</p>
</div>
    
<dl>
    <dt>
        query
        <span class="label label-info">string</span>
    </dt>
    <dd>the search string (generally lower cased)</dd>
    <dt>
        str
        <span class="label label-info">string</span>
    </dt>
    <dd>the string to compare with (generally lower cased)</dd>
    <dt>
        specials
        <span class="label label-info">Array</span>
    </dt>
    <dd>list of special indexes in str (from findSpecialCharacters)</dd>
    <dt>
        startingSpecial
        <span class="label label-info">int</span>
    </dt>
    <dd>index into specials array to start scanning with</dd>
    <dt>
        lastSegmentStart
        <span class="label label-info">boolean</span>
    </dt>
    <dd>which character does the last segment start at</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">{remainder:int,matchList:Array.&lt;SpecialMatch,NormalMatch&gt;}</span>
</dt>
    <dd>matched indexes or null if no matches possible</dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _lastSegmentSearch(query, str, specials, startingSpecial, lastSegmentStart) {
        var queryCounter, matchList;
        
        &#x2F;&#x2F; It&#39;s possible that the query is longer than the last segment.
        &#x2F;&#x2F; If so, we can chop off the bit that we know couldn&#39;t possibly be there.
        var remainder = &quot;&quot;;
        var extraCharacters = specials[startingSpecial] + query.length - str.length;

        if (extraCharacters &gt; 0) {
            remainder = query.substring(0, extraCharacters);
            query = query.substring(extraCharacters);
        }
        
        for (queryCounter = 0; queryCounter &lt; query.length; queryCounter++) {
            matchList = _generateMatchList(query.substring(queryCounter),
                                     str, specials, startingSpecial);
            
            &#x2F;&#x2F; if we&#39;ve got a match *or* there are no segments in this string, we&#39;re done
            if (matchList || startingSpecial === 0) {
                break;
            }
        }
        
        if (queryCounter === query.length || !matchList) {
            return null;
        } else {
            return {
                remainder: remainder + query.substring(0, queryCounter),
                matchList: matchList
            };
        }
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _prefixMatchResult 
        <a class="anchor" href="#-_prefixMatchResult" id="-_prefixMatchResult"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>If we short circuit normal matching to produce a prefix match,
this function will generate the appropriate SearchResult.
This function assumes that the prefix match check has already
been performed.</p>
</div>
    
<dl>
    <dt>
        str
        <span class="label label-info">string</span>
    </dt>
    <dd>The string with the prefix match for the query</dd>
    <dt>
        query
        <span class="label label-info">string</span>
    </dt>
    <dd>The query that matched the beginning of str</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">{ranges:Array.&lt;{text:string,matched:boolean,includesLastSegment:boolean}&gt;,matchGoodness:int,scoreDebug: Object}</span>
</dt>
    <dd>ranges has a matching range for beginning of str and a non-matching range for the end of the str the score is -Number.MAX_VALUE in all cases</dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _prefixMatchResult(str, query) {
        var result = new SearchResult(str);
        result.matchGoodness = -Number.MAX_VALUE;
        if (DEBUG_SCORES) {
            result.scoreDebug = {
                beginning: Number.MAX_VALUE
            };
        }
        result.stringRanges = [{
            text: str.substr(0, query.length),
            matched: true,
            includesLastSegment: true
        }];
        if (str.length &gt; query.length) {
            result.stringRanges.push({
                text: str.substring(query.length),
                matched: false,
                includesLastSegment: true
            });
        }
        return result;
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>
        _wholeStringSearch 
        <a class="anchor" href="#-_wholeStringSearch" id="-_wholeStringSearch"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Implements the top-level search algorithm. Search the last segment first,
then search the rest of the string with the remainder.</p>
<p>The parameters and return value are the same as for getMatchRanges.</p>
</div>
    
<dl>
    <dt>
        query
        <span class="label label-info">string</span>
    </dt>
    <dd>the search string (will be searched lower case)</dd>
    <dt>
        compareStr
        <span class="label label-info">string</span>
    </dt>
    <dd>the lower-cased string to search</dd>
    <dt>
        specials
        <span class="label label-info">Array</span>
    </dt>
    <dd>list of special indexes in str (from findSpecialCharacters)</dd>
    <dt>
        lastSegmentSpecialsIndex
        <span class="label label-info">int</span>
    </dt>
    <dd>index into specials array to start scanning with</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">Array.&lt;SpecialMatch,NormalMatch&gt;</span>
</dt>
    <dd>matched indexes or null if no matches possible</dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _wholeStringSearch(query, compareStr, specials, lastSegmentSpecialsIndex) {
        var lastSegmentStart = specials[lastSegmentSpecialsIndex];
        var result;
        var matchList;
        
        result = _lastSegmentSearch(query, compareStr, specials, lastSegmentSpecialsIndex, lastSegmentStart);
        
        if (result) {
            matchList = result.matchList;
            
            &#x2F;&#x2F; Do we have more query characters that did not fit?
            if (result.remainder) {
                &#x2F;&#x2F; Scan with the remainder only through the beginning of the last segment
                var remainderMatchList = _generateMatchList(result.remainder,
                                              compareStr.substring(0, lastSegmentStart),
                                              specials.slice(0, lastSegmentSpecialsIndex), 0);
                
                if (remainderMatchList) {
                    &#x2F;&#x2F; add the new matched ranges to the beginning of the set of ranges we had
                    matchList.unshift.apply(matchList, remainderMatchList);
                } else {
                    &#x2F;&#x2F; no match
                    return null;
                }
            }
        } else {
            &#x2F;&#x2F; No match in the last segment, so we start over searching the whole
            &#x2F;&#x2F; string
            matchList = _generateMatchList(query, compareStr, specials, 0);
        }
        
        return matchList;
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        basicMatchSort 
        <a class="anchor" href="#-basicMatchSort" id="-basicMatchSort"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Sorts search results generated by stringMatch(): results are sorted into several
tiers based on how well they matched the search query, then sorted alphabetically
within each tier.</p>
</div>
    
<dl>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function basicMatchSort(searchResults) {
        multiFieldSort(searchResults, { matchGoodness: 0, label: 1 });
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        findSpecialCharacters 
        <a class="anchor" href="#-findSpecialCharacters" id="-findSpecialCharacters"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Identifies the &quot;special&quot; characters in the given string.
Special characters for matching purposes are:</p>
<ul>
<li>the first character</li>
<li>&quot;/&quot; and the character following the &quot;/&quot;</li>
<li>&quot;_&quot;, &quot;.&quot; and &quot;-&quot; and the character following it</li>
<li>an uppercase character that follows a lowercase one (think camelCase)</li>
</ul>
<p>The returned object contains an array called &quot;specials&quot;. This array is
a list of indexes into the original string where all of the special
characters are. It also has a property &quot;lastSegmentSpecialsIndex&quot; which
is an index into the specials array that denotes which location is the
beginning of the last path segment. (This is used to allow scanning of
the last segment&#39;s specials separately.)</p>
</div>
    
<dl>
    <dt>
        input
        <span class="label label-info">string</span>
    </dt>
    <dd>string to break apart (e.g. filename that is being searched)</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">{specials:Array.&lt;number&gt;,lastSegmentSpecialsIndex:number}</span>
</dt>
    <dd></dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function findSpecialCharacters(str) {
        var i, c;
        
        &#x2F;&#x2F; the beginning of the string is always special
        var specials = [0];
        
        &#x2F;&#x2F; lastSegmentSpecialsIndex starts off with the assumption that
        &#x2F;&#x2F; there are no segments
        var lastSegmentSpecialsIndex = 0;
        
        &#x2F;&#x2F; used to track down the camelCase changeovers
        var lastWasLowerCase = false;
        
        for (i = 0; i &lt; str.length; i++) {
            c = str[i];
            if (c === &quot;&#x2F;&quot;) {
                &#x2F;&#x2F; new segment means this character and the next are special
                specials.push(i++);
                specials.push(i);
                lastSegmentSpecialsIndex = specials.length - 1;
                lastWasLowerCase = false;
            } else if (c === &quot;.&quot; || c === &quot;-&quot; || c === &quot;_&quot;) {
                &#x2F;&#x2F; _, . and - are separators so they are
                &#x2F;&#x2F; special and so is the next character
                specials.push(i++);
                specials.push(i);
                lastWasLowerCase = false;
            } else if (c.toUpperCase() === c) {
                &#x2F;&#x2F; this is the check for camelCase changeovers
                if (lastWasLowerCase) {
                    specials.push(i);
                }
                lastWasLowerCase = false;
            } else {
                lastWasLowerCase = true;
            }
        }
        return {
            specials: specials,
            lastSegmentSpecialsIndex: lastSegmentSpecialsIndex
        };
    }
    
    &#x2F;&#x2F; states used during the scanning of the string
    var SPECIALS_MATCH = 0;
    var ANY_MATCH = 1;
    
    &#x2F;&#x2F; Scores can be hard to make sense of. The DEBUG_SCORES flag
    &#x2F;&#x2F; provides a way to peek into the parts that made up a score.
    &#x2F;&#x2F; This flag is used for manual debugging and in the unit tests only.
    var DEBUG_SCORES = false;
    function _setDebugScores(ds) {
        DEBUG_SCORES = ds;
    }
    
    &#x2F;&#x2F; Constants for scoring
    var SPECIAL_POINTS = 35;
    var MATCH_POINTS = 10;
    var LAST_SEGMENT_BOOST = 1;
    var BEGINNING_OF_NAME_POINTS = 10;
    var DEDUCTION_FOR_LENGTH = 0.2;
    var CONSECUTIVE_MATCHES_POINTS = 7;
    var NOT_STARTING_ON_SPECIAL_PENALTY = 25;
    
    &#x2F;&#x2F; Used in match lists to designate matches of &quot;special&quot; characters (see
    &#x2F;&#x2F; findSpecialCharacters above
    function SpecialMatch(index) {
        this.index = index;
    }
    
    &#x2F;&#x2F; Used in match lists to designate any matched characters that are not special
    function NormalMatch(index) {
        this.index = index;
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        multiFieldSort 
        <a class="anchor" href="#-multiFieldSort" id="-multiFieldSort"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Sorts an array of SearchResult objects on a primary field, followed by secondary fields
in case of ties. &#39;fieldSpec&#39; provides the priority order for fields, where the first entry is the primary field, for example:
     multiFieldSort(bugList, [ &quot;milestone&quot;, &quot;severity&quot; ]);
Would sort a bug list by milestone, and within each milestone sort bugs by severity.</p>
<p>fieldSpec can also include comparator functions of the form normally used by the sort()
function.</p>
<p>Any fields that have a string value are compared case-insensitively. Fields used should be
present on all SearchResult objects (no optional/undefined fields).</p>
</div>
    
<dl>
    <dt>
        searchResults
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">Array.&lt;SearchResult&gt;</span>
    </dt>
    <dd></dd>
    <dt>
        fieldSpec
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">Array.&lt;string, function&gt;</span>
    </dt>
    <dd></dd>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function multiFieldSort(searchResults, fieldSpec) {
        &#x2F;&#x2F; Move field names into an array, with primary field first
        var comparisons;
        if (Array.isArray(fieldSpec)) {
            comparisons = fieldSpec;
        } else {
            &#x2F;&#x2F; TODO Deprecate this form of calling this function
            comparisons = [];
            _.forEach(fieldSpec, function (priority, key) {
                comparisons[priority] = key;
            });
        }
        
        searchResults.sort(function (a, b) {
            var priority;
            for (priority = 0; priority &lt; comparisons.length; priority++) {
                var comparison = comparisons[priority];
                if (typeof comparison === &quot;function&quot;) {
                    var result = comparison(a, b);
                    if (result) {
                        return result;
                    }
                } else {
                    var valueA = a[comparison];
                    var valueB = b[comparison];
                    if (typeof valueA === &quot;string&quot;) {
                        valueA = valueA.toLowerCase();
                        valueB = valueB.toLowerCase();
                    }
                    
                    if (valueA &lt; valueB) {
                        return -1;
                    } else if (valueA &gt; valueB) {
                        return 1;
                    }
                }
                &#x2F;&#x2F; otherwise, move on to next sort priority
            }
            return 0; &#x2F;&#x2F; all sort fields are equal
        });
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        stringMatch 
        <a class="anchor" href="#-stringMatch" id="-stringMatch"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Match str against the query using the QuickOpen algorithm provided by
the functions above. The general idea is to prefer matches of &quot;special&quot; characters and,
optionally, matches that occur in the &quot;last segment&quot; (generally, the filename). stringMatch
will try to provide the best match and produces a &quot;matchGoodness&quot; score
to allow for relative ranking.</p>
<p>The result object returned includes &quot;stringRanges&quot; which can be used to highlight
the matched portions of the string, in addition to the &quot;matchGoodness&quot;
mentioned above. If DEBUG_SCORES is true, scoreDebug is set on the result
to provide insight into the score.</p>
<p>The matching is done in a case-insensitive manner.</p>
</div>
    
<dl>
    <dt>
        str
        <span class="label label-info">string</span>
    </dt>
    <dd>The string to search</dd>
    <dt>
        query
        <span class="label label-info">string</span>
    </dt>
    <dd>The query string to find in string</dd>
    <dt>
        options
        <span class="label label-info">{preferPrefixMatches:?boolean,segmentedSearch:?boolean}</span>
    </dt>
    <dd>to control search behavior. preferPrefixMatches puts an exact case-insensitive prefix match ahead of all other matches, even short-circuiting the match logic. This option implies segmentedSearch=false. When segmentedSearch is true, the string is broken into segments by "/" characters and the last segment is searched first and matches there are scored higher.</dd>
    <dt>
        special
        <span class="label label-nullable">nullable</span>
        <span class="label label-info">Object</span>
    </dt>
    <dd>(optional) the specials data from findSpecialCharacters, if already known This is generally just used by StringMatcher for optimization.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">{ranges:Array.&lt;{text:string,matched:boolean,includesLastSegment:boolean}&gt;,matchGoodness:int,scoreDebug: Object}</span>
</dt>
    <dd>matched ranges and score</dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function stringMatch(str, query, options, special) {
        var result;
        
        options = options || {};
        
        &#x2F;&#x2F; No query? Short circuit the normal work done and just
        &#x2F;&#x2F; return a single range that covers the whole string.
        if (!query) {
            result = new SearchResult(str);
            result.matchGoodness = 0;
            if (DEBUG_SCORES) {
                result.scoreDebug = {};
            }
            result.stringRanges = [{
                text: str,
                matched: false,
                includesLastSegment: true
            }];
            return result;
        }
        
        &#x2F;&#x2F; comparisons are case insensitive, so switch to lower case here
        query = query.toLowerCase();
        var compareStr = str.toLowerCase();
        
        if (options.preferPrefixMatches) {
            options.segmentedSearch = false;
        }
        
        if (options.preferPrefixMatches &amp;&amp; compareStr.substr(0, query.length) === query) {
            return _prefixMatchResult(str, query);
        }
        
        &#x2F;&#x2F; Locate the special characters and then use orderedCompare to do the real
        &#x2F;&#x2F; work.
        if (!special) {
            special = findSpecialCharacters(str);
        }
        var lastSegmentStart, matchList;
        
        &#x2F;&#x2F; For strings that are not broken into multiple segments, we can potentially
        &#x2F;&#x2F; avoid some extra work
        if (options.segmentedSearch) {
            lastSegmentStart = special.specials[special.lastSegmentSpecialsIndex];
            matchList = _wholeStringSearch(query, compareStr, special.specials,
                              special.lastSegmentSpecialsIndex);
        } else {
            lastSegmentStart = 0;
            matchList = _generateMatchList(query, compareStr, special.specials,
                                           0);
        }
        
        &#x2F;&#x2F; If we get a match, turn this into a SearchResult as expected by the consumers
        &#x2F;&#x2F; of this API.
        if (matchList) {
            var compareData = _computeRangesAndScore(matchList, str, lastSegmentStart);
            result = new SearchResult(str);
            result.stringRanges = compareData.ranges;
            result.matchGoodness = -1 * compareData.matchGoodness;
            if (DEBUG_SCORES) {
                result.scoreDebug = compareData.scoreDebug;
            }
        }
        return result;
    }</code></pre></div>
</section>

        </div>
      </div>
    </div>

    <script type="text/javascript" src="../../assets/js/prism.js"></script>
  </body>
</html>
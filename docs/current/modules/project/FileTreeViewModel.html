<!DOCTYPE html>
<html lang="en">
  <head>
    <title>FileTreeViewModel - Brackets API</title>
    <link rel="stylesheet" href="../../assets/css/bootstrap.css">
    <link rel="stylesheet" href="../../assets/css/typeahead.js-bootstrap.css">
    <link rel="stylesheet" href="../../assets/css/font-awesome.css">
    <link rel="stylesheet" href="../../assets/css/prism.css">
    <link rel="stylesheet" href="../../assets/css/main.css">
    <!--[if IE 7]>
    <link rel="stylesheet" href="../assets/css/font-awesome-ie7.css">
    <![endif]-->
    <script type="text/javascript" src="../../assets/js/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="../../assets/js/bootstrap.js"></script>
    <script type="text/javascript" src="../../assets/js/typeahead.js"></script>
    <script type="text/javascript" src="../../assets/js/main.js"></script>
    <script src="http://use.edgefonts.net/source-sans-pro:n3,i3,n4,i4;source-code-pro.js"></script>

    <!-- Control the Flash of Unstyled Text (or FOUT) -->
    <style type="text/css">
        .wf-loading h1, .wf-loading h2, .wf-loading h3, .wf-loading h4,
        .wf-loading h5, .wf-loading h6, .wf-loading p, .wf-loading a {
            visibility: hidden;
        }
    </style>
    
    <script>
      window.moduleLevel = "../..";
    </script>
  </head>
  
  <body>
    <div class="row-fluid">
      <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
          <div class="container">
            <a class="brand" href="../../index.html">Brackets API</a>
            <div class="nav-collapse collapse">
              <ul class="nav">
                <li><a href="#dependencies">Dependencies</a></li>
                <li><a href="#variables">Variables</a></li>
                <li><a href="#functions">Functions</a></li>
                <li><a href="#classes">Classes</a></li>
              </ul>
            </div>
            <input class="typeahead" placeholder="Search..." type="text" >
          </div>
        </div>
      </div>    </div>
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">
          <div class="left-section">
            <h2 class="number-of-modules">Modules (177)</h2>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_"><i class="icon-folder-open"></i>[root]</a>
              </li>
            </ul>
            <ul id="package_" class="nav nav-list">
              <li><a href="../../modules/brackets.html">brackets</a></li>
              <li><a href="../../modules/dependencies.html">dependencies</a></li>
              <li><a href="../../modules/main.html">main</a></li>
              <li><a href="../../modules/strings.html">strings</a></li>
              <li><a href="../../modules/xorigin.html">xorigin</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_command"><i class="icon-folder-open"></i>command</a>
              </li>
            </ul>
            <ul id="package_command" class="nav nav-list">
              <li><a href="../../modules/command/CommandManager.html">CommandManager</a></li>
              <li><a href="../../modules/command/Commands.html">Commands</a></li>
              <li><a href="../../modules/command/DefaultMenus.html">DefaultMenus</a></li>
              <li><a href="../../modules/command/KeyBindingManager.html">KeyBindingManager</a></li>
              <li><a href="../../modules/command/Menus.html">Menus</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_document"><i class="icon-folder-open"></i>document</a>
              </li>
            </ul>
            <ul id="package_document" class="nav nav-list">
              <li><a href="../../modules/document/ChangedDocumentTracker.html">ChangedDocumentTracker</a></li>
              <li><a href="../../modules/document/Document.html">Document</a></li>
              <li><a href="../../modules/document/DocumentCommandHandlers.html">DocumentCommandHandlers</a></li>
              <li><a href="../../modules/document/DocumentManager.html">DocumentManager</a></li>
              <li><a href="../../modules/document/InMemoryFile.html">InMemoryFile</a></li>
              <li><a href="../../modules/document/TextRange.html">TextRange</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_editor"><i class="icon-folder-open"></i>editor</a>
              </li>
            </ul>
            <ul id="package_editor" class="nav nav-list">
              <li><a href="../../modules/editor/CodeHintList.html">CodeHintList</a></li>
              <li><a href="../../modules/editor/CodeHintManager.html">CodeHintManager</a></li>
              <li><a href="../../modules/editor/CSSInlineEditor.html">CSSInlineEditor</a></li>
              <li><a href="../../modules/editor/Editor.html">Editor</a></li>
              <li><a href="../../modules/editor/EditorCommandHandlers.html">EditorCommandHandlers</a></li>
              <li><a href="../../modules/editor/EditorManager.html">EditorManager</a></li>
              <li><a href="../../modules/editor/EditorOptionHandlers.html">EditorOptionHandlers</a></li>
              <li><a href="../../modules/editor/EditorStatusBar.html">EditorStatusBar</a></li>
              <li><a href="../../modules/editor/ImageViewer.html">ImageViewer</a></li>
              <li><a href="../../modules/editor/InlineTextEditor.html">InlineTextEditor</a></li>
              <li><a href="../../modules/editor/InlineWidget.html">InlineWidget</a></li>
              <li><a href="../../modules/editor/MultiRangeInlineEditor.html">MultiRangeInlineEditor</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_extensibility"><i class="icon-folder-open"></i>extensibility</a>
              </li>
            </ul>
            <ul id="package_extensibility" class="nav nav-list">
              <li><a href="../../modules/extensibility/ExtensionManager.html">ExtensionManager</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerDialog.html">ExtensionManagerDialog</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerView.html">ExtensionManagerView</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerViewModel.html">ExtensionManagerViewModel</a></li>
              <li><a href="../../modules/extensibility/InstallExtensionDialog.html">InstallExtensionDialog</a></li>
              <li><a href="../../modules/extensibility/Package.html">Package</a></li>
              <li><a href="../../modules/extensibility/registry_utils.html">registry_utils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_file"><i class="icon-folder-open"></i>file</a>
              </li>
            </ul>
            <ul id="package_file" class="nav nav-list">
              <li><a href="../../modules/file/FileUtils.html">FileUtils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem"><i class="icon-folder-open"></i>filesystem</a>
              </li>
            </ul>
            <ul id="package_filesystem" class="nav nav-list">
              <li><a href="../../modules/filesystem/Directory.html">Directory</a></li>
              <li><a href="../../modules/filesystem/File.html">File</a></li>
              <li><a href="../../modules/filesystem/FileIndex.html">FileIndex</a></li>
              <li><a href="../../modules/filesystem/FileSystem.html">FileSystem</a></li>
              <li><a href="../../modules/filesystem/FileSystemEntry.html">FileSystemEntry</a></li>
              <li><a href="../../modules/filesystem/FileSystemError.html">FileSystemError</a></li>
              <li><a href="../../modules/filesystem/FileSystemStats.html">FileSystemStats</a></li>
              <li><a href="../../modules/filesystem/WatchedRoot.html">WatchedRoot</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem_impls_appshell"><i class="icon-folder-open"></i>filesystem&#x2F;impls&#x2F;appshell</a>
              </li>
            </ul>
            <ul id="package_filesystem_impls_appshell" class="nav nav-list">
              <li><a href="../../modules/filesystem/impls/appshell/AppshellFileSystem.html">AppshellFileSystem</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem_impls_appshell_node"><i class="icon-folder-open"></i>filesystem&#x2F;impls&#x2F;appshell&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_filesystem_impls_appshell_node" class="nav nav-list">
              <li><a href="../../modules/filesystem/impls/appshell/node/FileWatcherDomain.html">FileWatcherDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_help"><i class="icon-folder-open"></i>help</a>
              </li>
            </ul>
            <ul id="package_help" class="nav nav-list">
              <li><a href="../../modules/help/HelpCommandHandlers.html">HelpCommandHandlers</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_language"><i class="icon-folder-open"></i>language</a>
              </li>
            </ul>
            <ul id="package_language" class="nav nav-list">
              <li><a href="../../modules/language/CodeInspection.html">CodeInspection</a></li>
              <li><a href="../../modules/language/CSSUtils.html">CSSUtils</a></li>
              <li><a href="../../modules/language/HTMLDOMDiff.html">HTMLDOMDiff</a></li>
              <li><a href="../../modules/language/HTMLInstrumentation.html">HTMLInstrumentation</a></li>
              <li><a href="../../modules/language/HTMLSimpleDOM.html">HTMLSimpleDOM</a></li>
              <li><a href="../../modules/language/HTMLTokenizer.html">HTMLTokenizer</a></li>
              <li><a href="../../modules/language/HTMLUtils.html">HTMLUtils</a></li>
              <li><a href="../../modules/language/JSONUtils.html">JSONUtils</a></li>
              <li><a href="../../modules/language/JSUtils.html">JSUtils</a></li>
              <li><a href="../../modules/language/LanguageManager.html">LanguageManager</a></li>
              <li><a href="../../modules/language/XMLUtils.html">XMLUtils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Agents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Agents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Agents" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Agents/ConsoleAgent.html">ConsoleAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/CSSAgent.html">CSSAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMAgent.html">DOMAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMHelpers.html">DOMHelpers</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMNode.html">DOMNode</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/EditAgent.html">EditAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/GotoAgent.html">GotoAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/HighlightAgent.html">HighlightAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/NetworkAgent.html">NetworkAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/RemoteAgent.html">RemoteAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/RemoteFunctions.html">RemoteFunctions</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/ScriptAgent.html">ScriptAgent</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Documents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Documents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Documents" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Documents/CSSDocument.html">CSSDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/CSSPreprocessorDocument.html">CSSPreprocessorDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/HTMLDocument.html">HTMLDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/JSDocument.html">JSDocument</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Inspector"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Inspector</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Inspector" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Inspector/Inspector.html">Inspector</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment"><i class="icon-folder-open"></i>LiveDevelopment</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/LiveDevelopment.html">LiveDevelopment</a></li>
              <li><a href="../../modules/LiveDevelopment/LiveDevelopmentUtils.html">LiveDevelopmentUtils</a></li>
              <li><a href="../../modules/LiveDevelopment/LiveDevMultiBrowser.html">LiveDevMultiBrowser</a></li>
              <li><a href="../../modules/LiveDevelopment/LiveDevServerManager.html">LiveDevServerManager</a></li>
              <li><a href="../../modules/LiveDevelopment/main.html">main</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_documents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;documents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_documents" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/documents/LiveCSSDocument.html">LiveCSSDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/documents/LiveDocument.html">LiveDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/documents/LiveHTMLDocument.html">LiveHTMLDocument</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_language"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;language</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_language" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/language/HTMLInstrumentation.html">HTMLInstrumentation</a></li>
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/language/HTMLSimpleDOM.html">HTMLSimpleDOM</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_launchers"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;launchers</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_launchers" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/launchers/Launcher.html">Launcher</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_launchers_node"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;launchers&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_launchers_node" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/launchers/node/LauncherDomain.html">LauncherDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_protocol"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;protocol</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_protocol" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/protocol/LiveDevProtocol.html">LiveDevProtocol</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_protocol_remote"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;protocol&#x2F;remote</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_protocol_remote" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/protocol/remote/DocumentObserver.html">DocumentObserver</a></li>
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/protocol/remote/LiveDevProtocolRemote.html">LiveDevProtocolRemote</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_transports_node"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;transports&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_transports_node" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/transports/node/NodeSocketTransportDomain.html">NodeSocketTransportDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_transports"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;transports</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_transports" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/transports/NodeSocketTransport.html">NodeSocketTransport</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_transports_remote"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;transports&#x2F;remote</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_transports_remote" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/transports/remote/NodeSocketTransportRemote.html">NodeSocketTransportRemote</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Servers"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Servers</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Servers" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Servers/BaseServer.html">BaseServer</a></li>
              <li><a href="../../modules/LiveDevelopment/Servers/FileServer.html">FileServer</a></li>
              <li><a href="../../modules/LiveDevelopment/Servers/UserServer.html">UserServer</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_preferences"><i class="icon-folder-open"></i>preferences</a>
              </li>
            </ul>
            <ul id="package_preferences" class="nav nav-list">
              <li><a href="../../modules/preferences/PreferencesBase.html">PreferencesBase</a></li>
              <li><a href="../../modules/preferences/PreferencesDialogs.html">PreferencesDialogs</a></li>
              <li><a href="../../modules/preferences/PreferencesImpl.html">PreferencesImpl</a></li>
              <li><a href="../../modules/preferences/PreferencesManager.html">PreferencesManager</a></li>
              <li><a href="../../modules/preferences/PreferenceStorage.html">PreferenceStorage</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_project"><i class="icon-folder-open"></i>project</a>
              </li>
            </ul>
            <ul id="package_project" class="nav nav-list">
              <li><a href="../../modules/project/FileSyncManager.html">FileSyncManager</a></li>
              <li><a href="../../modules/project/FileTreeView.html">FileTreeView</a></li>
              <li><a href="../../modules/project/FileTreeViewModel.html">FileTreeViewModel</a></li>
              <li><a href="../../modules/project/FileViewController.html">FileViewController</a></li>
              <li><a href="../../modules/project/ProjectManager.html">ProjectManager</a></li>
              <li><a href="../../modules/project/ProjectModel.html">ProjectModel</a></li>
              <li><a href="../../modules/project/SidebarView.html">SidebarView</a></li>
              <li><a href="../../modules/project/WorkingSetSort.html">WorkingSetSort</a></li>
              <li><a href="../../modules/project/WorkingSetView.html">WorkingSetView</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_search"><i class="icon-folder-open"></i>search</a>
              </li>
            </ul>
            <ul id="package_search" class="nav nav-list">
              <li><a href="../../modules/search/FileFilters.html">FileFilters</a></li>
              <li><a href="../../modules/search/FindBar.html">FindBar</a></li>
              <li><a href="../../modules/search/FindInFiles.html">FindInFiles</a></li>
              <li><a href="../../modules/search/FindInFilesUI.html">FindInFilesUI</a></li>
              <li><a href="../../modules/search/FindReplace.html">FindReplace</a></li>
              <li><a href="../../modules/search/FindUtils.html">FindUtils</a></li>
              <li><a href="../../modules/search/QuickOpen.html">QuickOpen</a></li>
              <li><a href="../../modules/search/QuickOpenHelper.html">QuickOpenHelper</a></li>
              <li><a href="../../modules/search/QuickSearchField.html">QuickSearchField</a></li>
              <li><a href="../../modules/search/ScrollTrackMarkers.html">ScrollTrackMarkers</a></li>
              <li><a href="../../modules/search/SearchModel.html">SearchModel</a></li>
              <li><a href="../../modules/search/SearchResultsView.html">SearchResultsView</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_search_node"><i class="icon-folder-open"></i>search&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_search_node" class="nav nav-list">
              <li><a href="../../modules/search/node/FindInFilesDomain.html">FindInFilesDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_utils"><i class="icon-folder-open"></i>utils</a>
              </li>
            </ul>
            <ul id="package_utils" class="nav nav-list">
              <li><a href="../../modules/utils/AnimationUtils.html">AnimationUtils</a></li>
              <li><a href="../../modules/utils/AppInit.html">AppInit</a></li>
              <li><a href="../../modules/utils/Async.html">Async</a></li>
              <li><a href="../../modules/utils/BuildInfoUtils.html">BuildInfoUtils</a></li>
              <li><a href="../../modules/utils/ColorUtils.html">ColorUtils</a></li>
              <li><a href="../../modules/utils/Compatibility.html">Compatibility</a></li>
              <li><a href="../../modules/utils/DeprecationWarning.html">DeprecationWarning</a></li>
              <li><a href="../../modules/utils/DragAndDrop.html">DragAndDrop</a></li>
              <li><a href="../../modules/utils/DropdownEventHandler.html">DropdownEventHandler</a></li>
              <li><a href="../../modules/utils/EventDispatcher.html">EventDispatcher</a></li>
              <li><a href="../../modules/utils/ExtensionLoader.html">ExtensionLoader</a></li>
              <li><a href="../../modules/utils/ExtensionUtils.html">ExtensionUtils</a></li>
              <li><a href="../../modules/utils/Global.html">Global</a></li>
              <li><a href="../../modules/utils/HealthLogger.html">HealthLogger</a></li>
              <li><a href="../../modules/utils/KeyEvent.html">KeyEvent</a></li>
              <li><a href="../../modules/utils/LocalizationUtils.html">LocalizationUtils</a></li>
              <li><a href="../../modules/utils/NativeApp.html">NativeApp</a></li>
              <li><a href="../../modules/utils/NodeConnection.html">NodeConnection</a></li>
              <li><a href="../../modules/utils/NodeDomain.html">NodeDomain</a></li>
              <li><a href="../../modules/utils/PerfUtils.html">PerfUtils</a></li>
              <li><a href="../../modules/utils/Resizer.html">Resizer</a></li>
              <li><a href="../../modules/utils/ShellAPI.html">ShellAPI</a></li>
              <li><a href="../../modules/utils/StringMatch.html">StringMatch</a></li>
              <li><a href="../../modules/utils/StringUtils.html">StringUtils</a></li>
              <li><a href="../../modules/utils/TokenUtils.html">TokenUtils</a></li>
              <li><a href="../../modules/utils/UpdateNotification.html">UpdateNotification</a></li>
              <li><a href="../../modules/utils/UrlParams.html">UrlParams</a></li>
              <li><a href="../../modules/utils/ValidationUtils.html">ValidationUtils</a></li>
              <li><a href="../../modules/utils/ViewUtils.html">ViewUtils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_view"><i class="icon-folder-open"></i>view</a>
              </li>
            </ul>
            <ul id="package_view" class="nav nav-list">
              <li><a href="../../modules/view/MainViewFactory.html">MainViewFactory</a></li>
              <li><a href="../../modules/view/MainViewManager.html">MainViewManager</a></li>
              <li><a href="../../modules/view/Pane.html">Pane</a></li>
              <li><a href="../../modules/view/PanelManager.html">PanelManager</a></li>
              <li><a href="../../modules/view/ThemeManager.html">ThemeManager</a></li>
              <li><a href="../../modules/view/ThemeSettings.html">ThemeSettings</a></li>
              <li><a href="../../modules/view/ThemeView.html">ThemeView</a></li>
              <li><a href="../../modules/view/ViewCommandHandlers.html">ViewCommandHandlers</a></li>
              <li><a href="../../modules/view/ViewStateManager.html">ViewStateManager</a></li>
              <li><a href="../../modules/view/WorkspaceManager.html">WorkspaceManager</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_widgets"><i class="icon-folder-open"></i>widgets</a>
              </li>
            </ul>
            <ul id="package_widgets" class="nav nav-list">
              <li><a href="../../modules/widgets/bootstrap-alerts.html">bootstrap-alerts</a></li>
              <li><a href="../../modules/widgets/bootstrap-button.html">bootstrap-button</a></li>
              <li><a href="../../modules/widgets/bootstrap-dropdown.html">bootstrap-dropdown</a></li>
              <li><a href="../../modules/widgets/bootstrap-modal.html">bootstrap-modal</a></li>
              <li><a href="../../modules/widgets/bootstrap-popover.html">bootstrap-popover</a></li>
              <li><a href="../../modules/widgets/bootstrap-scrollspy.html">bootstrap-scrollspy</a></li>
              <li><a href="../../modules/widgets/bootstrap-tab.html">bootstrap-tab</a></li>
              <li><a href="../../modules/widgets/bootstrap-tooltip.html">bootstrap-tooltip</a></li>
              <li><a href="../../modules/widgets/bootstrap-twipsy-mod.html">bootstrap-twipsy-mod</a></li>
              <li><a href="../../modules/widgets/DefaultDialogs.html">DefaultDialogs</a></li>
              <li><a href="../../modules/widgets/Dialogs.html">Dialogs</a></li>
              <li><a href="../../modules/widgets/DropdownButton.html">DropdownButton</a></li>
              <li><a href="../../modules/widgets/ModalBar.html">ModalBar</a></li>
              <li><a href="../../modules/widgets/PopUpManager.html">PopUpManager</a></li>
              <li><a href="../../modules/widgets/StatusBar.html">StatusBar</a></li>
            </ul>
          </div>
        </div>
        <div class="module span9">
<h1>FileTreeViewModel</h1>


<section class="description">
    <h3>Description</h3>
    
    <div><p>The view model (or a Store in the Flux terminology) used by the file tree.</p>
<p>Many of the view model&#39;s methods are implemented by pure functions, which can be
helpful for composability. Many of the methods commit the new treeData and send a
change event when they&#39;re done whereas the functions do not do this.</p>
</div>
    
</section>

<section id="dependencies">
    <h3>Dependencies</h3>

    <ul class="nav nav-list">
        <li><a href="..&#x2F;../modules/utils/EventDispatcher.html">EventDispatcher</a></li>
        <li><a href="..&#x2F;../modules/file/FileUtils.html">FileUtils</a></li>
        <li><a href="..&#x2F;../modules/thirdparty/immutable.html">immutable</a></li>
        <li><a href="..&#x2F;../modules/thirdparty/lodash.html">lodash</a></li>
    </ul>

</section>

<section id="functions">

    <h3>Functions 
<label class="checkbox">
    <input class="toggle-public" type="checkbox"> Show Private Members
</label>    </h3>

<div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _addNewEntries 
        <a class="anchor" href="#-_addNewEntries" id="-_addNewEntries"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        treeData
        <span class="label label-info">Immutable.Map</span>
    </dt>
    <dd></dd>
    <dt>
        added
        <span class="label label-info">Array.&lt;string&gt;</span>
    </dt>
    <dd>list of new project-relative file paths</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">Immutable.Map</span>
</dt>
    <dd>revised treeData</dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _addNewEntries(treeData, added) {
        added.forEach(function (filePath) {
            var isFolder = _.last(filePath) === &quot;&#x2F;&quot;;

            filePath = isFolder ? filePath.substr(0, filePath.length - 1) : filePath;

            var parentPath = FileUtils.getDirectoryPath(filePath),
                parentObjectPath = _filePathToObjectPath(treeData, parentPath),
                basename = FileUtils.getBaseName(filePath);

            if (parentObjectPath) {
                &#x2F;&#x2F; Verify that the children are loaded
                var childrenPath = _.clone(parentObjectPath);
                childrenPath.push(&quot;children&quot;);
                if (treeData.getIn(childrenPath) === null) {
                    return;
                }

                treeData = _createPlaceholder(treeData, parentPath, basename, isFolder, {
                    notInCreateMode: true,
                    doNotOpen: true
                });
            }
        });

        return treeData;
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _addTimestamp 
        <a class="anchor" href="#-_addTimestamp" id="-_addTimestamp"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _addTimestamp(item) {
        return item.set(&quot;_timestamp&quot;, new Date().getTime());
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _closeSubtree 
        <a class="anchor" href="#-_closeSubtree" id="-_closeSubtree"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Closes a subtree path, given by an object path.</p>
</div>
    
<dl>
    <dt>
        directory
        <span class="label label-info">Immutable.Map</span>
    </dt>
    <dd>Current directory</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">Immutable.Map</span>
</dt>
    <dd>new directory</dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _closeSubtree(directory) {
        directory = directory.delete(&quot;open&quot;);

        var children = directory.get(&quot;children&quot;);
        if (children) {
            children.keySeq().forEach(function (name) {
                var subdir = children.get(name);
                if (!isFile(subdir)) {
                    subdir = _closeSubtree(subdir);
                    children = children.set(name, subdir);
                }
            });
        }

        directory = directory.set(&quot;children&quot;, children);
        return directory;
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _createIntermediateDirectories 
        <a class="anchor" href="#-_createIntermediateDirectories" id="-_createIntermediateDirectories"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        treeData
        <span class="label label-info">Immutable.Map</span>
    </dt>
    <dd></dd>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>Path to the final directory to be added in the tree</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">{treeData: Immutable.Map,objectPath: Array.&lt;string&gt;}</span>
</dt>
    <dd>updated treeData and object path to the created object</dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _createIntermediateDirectories(treeData, path) {
        var objectPath = [],
            result = {
                objectPath: objectPath,
                treeData: treeData
            },
            treePointer = treeData;

        if (path === &quot;&quot;) {
            return result;
        }

        var parts = path.split(&quot;&#x2F;&quot;),
            part = parts.shift(),
            node;

        while (part) {
            if (treePointer === null) {
                return null;
            }
            node = treePointer.get(part);
            objectPath.push(part);

            &#x2F;&#x2F; This directory is missing, so create it.
            if (node === undefined) {
                treeData = treeData.updateIn(objectPath, _createNotFullyLoadedDirectory);
                node = treeData.getIn(objectPath);
            }

            part = parts.shift();
            if (part) {
                treePointer = node.get(&quot;children&quot;);

                if (treePointer) {
                    objectPath.push(&quot;children&quot;);
                } else {

                    &#x2F;&#x2F; The directory is there, but the directory hasn&#39;t been loaded.
                    &#x2F;&#x2F; Update the directory to be a `notFullyLoaded` directory.
                    treeData = treeData.updateIn(objectPath, _createNotFullyLoadedDirectory);
                    objectPath.push(&quot;children&quot;);
                    treePointer = treeData.getIn(objectPath);
                }
            }
        }

        result.treeData = treeData;
        return result;
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _createNotFullyLoadedDirectory 
        <a class="anchor" href="#-_createNotFullyLoadedDirectory" id="-_createNotFullyLoadedDirectory"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        directory
        <span class="label label-optional">optional</span>
        <span class="label label-info">Immutable.Map</span>
    </dt>
    <dd>Directory entry to update</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">Immutable.Map</span>
</dt>
    <dd>New or updated directory object</dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _createNotFullyLoadedDirectory(directory) {
        if (!directory) {
            return Immutable.Map({
                notFullyLoaded: true,
                children: Immutable.Map()
            });
        }
        return directory.merge({
            notFullyLoaded: true,
            children: Immutable.Map()
        });
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>
        _createPlaceholder 
        <a class="anchor" href="#-_createPlaceholder" id="-_createPlaceholder"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _createPlaceholder(treeData, basedir, name, isFolder, options) {
        options = options || {};
        var parentPath = _filePathToObjectPath(treeData, basedir);

        if (!parentPath) {
            return;
        }

        var newObject = {
        };

        if (!options.notInCreateMode) {
            newObject.creating = true;
        }

        if (isFolder) {
            &#x2F;&#x2F; If we&#39;re creating a folder, then we know it&#39;s empty.
            &#x2F;&#x2F; But if we&#39;re not in create mode, (we&#39;re adding a folder based on an
            &#x2F;&#x2F; FS event), we don&#39;t know anything about the new directory&#39;s children.
            if (options.notInCreateMode) {
                newObject.children = null;
            } else {
                newObject.children = Immutable.Map();
            }
        }

        var newFile = Immutable.Map(newObject);

        if (!options.doNotOpen) {
            treeData = _openPath(treeData, basedir);
        }
        if (parentPath.length &gt; 0) {
            var childrenPath = _.clone(parentPath);
            childrenPath.push(&quot;children&quot;);

            treeData = treeData.updateIn(childrenPath, function (children) {
                return children.set(name, newFile);
            });
        } else {
            treeData = treeData.set(name, newFile);
        }
        return treeData;
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _deleteAtPath 
        <a class="anchor" href="#-_deleteAtPath" id="-_deleteAtPath"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _deleteAtPath(treeData, path) {
        var objectPath = _filePathToObjectPath(treeData, path);

        if (!objectPath) {
            return;
        }

        var originalName = _.last(objectPath);

        &#x2F;&#x2F; Back up to the parent directory
        objectPath.pop();

        treeData = treeData.updateIn(objectPath, function (directory) {
            directory = directory.delete(originalName);
            return directory;
        });

        return treeData;
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>
        _filePathToObjectPath 
        <a class="anchor" href="#-_filePathToObjectPath" id="-_filePathToObjectPath"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        treeData
        <span class="label label-info">Immutable.Map</span>
    </dt>
    <dd></dd>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>project relative path to the file or directory. Can include trailing slash.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">Array.&lt;string&gt;,null</span>
</dt>
    <dd>Returns null if the path can't be found in the tree, otherwise an array of strings representing the path through the object.</dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _filePathToObjectPath(treeData, path) {
        if (path === null) {
            return null;
        } else if (path === &quot;&quot;) {
            return [];
        }

        var parts = path.split(&quot;&#x2F;&quot;),
            part = parts.shift(),
            result = [],
            node;

        &#x2F;&#x2F; Step through the parts of the path and the treeData object simultaneously
        while (part) {
            &#x2F;&#x2F; We hit the end of the tree without finding our object, so return null
            if (!treeData) {
                return null;
            }

            node = treeData.get(part);

            &#x2F;&#x2F; The name represented by `part` isn&#39;t in the tree, so return null.
            if (node === undefined) {
                return null;
            }

            &#x2F;&#x2F; We&#39;ve verified this part, so store it.
            result.push(part);

            &#x2F;&#x2F; Pull the next part of the path
            part = parts.shift();

            &#x2F;&#x2F; If we haven&#39;t passed the end of the path string, then the object we&#39;ve got in hand
            &#x2F;&#x2F; *should* be a directory. Confirm that and add `children` to the path to move down
            &#x2F;&#x2F; to the next directory level.
            if (part) {
                treeData = node.get(&quot;children&quot;);
                if (treeData) {
                    result.push(&quot;children&quot;);
                }
            }
        }

        return result;
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _getChildDirectories 
        <a class="anchor" href="#-_getChildDirectories" id="-_getChildDirectories"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _getChildDirectories(treeData, projectRootPath) {
        var childDirectories = [];

        function addNodesAtDepth(treeData, parent, depth) {
            if (!treeData) {
                return;
            }

            treeData.forEach(function (value, key) {
                if (!isFile(value)) {
                    var directoryPath = key + &quot;&#x2F;&quot;;

                    childDirectories.push(directoryPath);
                }
            });
        }

        &#x2F;&#x2F; start at the top of the tree and the first array element
        addNodesAtDepth(treeData, projectRootPath, 0);
        return childDirectories;
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _getOpenNodes 
        <a class="anchor" href="#-_getOpenNodes" id="-_getOpenNodes"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _getOpenNodes(treeData, projectRootPath) {
        var openNodes = [];

        function addNodesAtDepth(treeData, parent, depth) {
            if (!treeData) {
                return;
            }

            treeData.forEach(function (value, key) {
                if (isFile(value)) {
                    return;
                }

                var directoryPath = parent + key + &quot;&#x2F;&quot;;

                if (value.get(&quot;open&quot;)) {
                    var nodeList = openNodes[depth];
                    if (!nodeList) {
                        nodeList = openNodes[depth] = [];
                    }
                    nodeList.push(directoryPath);
                    addNodesAtDepth(value.get(&quot;children&quot;), directoryPath, depth + 1);
                }
            });
        }

        &#x2F;&#x2F; start at the top of the tree and the first array element
        addNodesAtDepth(treeData, projectRootPath, 0);
        return openNodes;
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>
        _isFilePathVisible 
        <a class="anchor" href="#-_isFilePathVisible" id="-_isFilePathVisible"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _isFilePathVisible(treeData, path) {
        if (path === null) {
            return null;
        } else if (path === &quot;&quot;) {
            return true;
        }

        var parts = path.split(&quot;&#x2F;&quot;),
            part = parts.shift(),
            result = [],
            node;

        while (part) {
            if (treeData === null) {
                return false;
            }
            node = treeData.get(part);
            if (node === undefined) {
                return null;
            }
            result.push(part);
            part = parts.shift();
            if (part) {
                if (!node.get(&quot;open&quot;)) {
                    return false;
                }
                treeData = node.get(&quot;children&quot;);
                if (treeData) {
                    result.push(&quot;children&quot;);
                }
            }
        }

        return true;
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _markAsChanged 
        <a class="anchor" href="#-_markAsChanged" id="-_markAsChanged"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        treeData
        <span class="label label-info">Immutable.Map</span>
    </dt>
    <dd></dd>
    <dt>
        changed
        <span class="label label-info">Array.&lt;string&gt;</span>
    </dt>
    <dd>list of changed project-relative file paths</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">Immutable.Map</span>
</dt>
    <dd>revised treeData</dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _markAsChanged(treeData, changed) {
        changed.forEach(function (filePath) {
            var objectPath = _filePathToObjectPath(treeData, filePath);
            if (objectPath) {
                treeData = treeData.updateIn(objectPath, _addTimestamp);
            }
        });
        return treeData;
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _mergeContentsIntoChildren 
        <a class="anchor" href="#-_mergeContentsIntoChildren" id="-_mergeContentsIntoChildren"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        children
        <span class="label label-info">Immutable.Map</span>
    </dt>
    <dd>current children in the directory</dd>
    <dt>
        contents
        <span class="label label-info">Array.&lt;FileSystemEntry&gt;</span>
    </dt>
    <dd>FileSystemEntry objects currently in the directory</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">Immutable.Map</span>
</dt>
    <dd>updated children</dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _mergeContentsIntoChildren(children, contents) {

        &#x2F;&#x2F; We keep track of the names we&#39;ve seen among the current directory entries to make
        &#x2F;&#x2F; it easy to spot the names that we *haven&#39;t* seen (in other words, files that have
        &#x2F;&#x2F; been deleted).
        var keysSeen = [];

        children = children.withMutations(function (children) {

            &#x2F;&#x2F; Loop through the directory entries
            contents.forEach(function (entry) {
                keysSeen.push(entry.name);

                var match = children.get(entry.name);
                if (match) {
                    &#x2F;&#x2F; Confirm that a name that used to represent a file and now represents a
                    &#x2F;&#x2F; directory (or vice versa) isn&#39;t what we&#39;ve encountered here. If we have
                    &#x2F;&#x2F; hit this situation, pretend the current child of treeData doesn&#39;t exist
                    &#x2F;&#x2F; so we can replace it.
                    var matchIsFile = isFile(match);
                    if (matchIsFile !== entry.isFile) {
                        match = undefined;
                    }
                }

                &#x2F;&#x2F; We&#39;ve got a new entry that we need to add.
                if (!match) {
                    if (entry.isFile) {
                        children.set(entry.name, Immutable.Map());
                    } else {
                        children.set(entry.name, Immutable.Map({
                            children: null
                        }));
                    }
                }
            });

            &#x2F;&#x2F; Look at the list of names that we currently have in the treeData that no longer
            &#x2F;&#x2F; appear in the directory and delete those.
            var currentEntries = children.keySeq().toJS(),
                deletedEntries = _.difference(currentEntries, keysSeen);

            deletedEntries.forEach(function (name) {
                children.delete(name);
            });
        });
        return children;
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _moveMarker 
        <a class="anchor" href="#-_moveMarker" id="-_moveMarker"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _moveMarker(treeData, markerName, oldPath, newPath) {
        var objectPath;

        if (newPath) {
            objectPath = _filePathToObjectPath(treeData, newPath);
        }

        var newTreeData = treeData;

        if (oldPath &amp;&amp; oldPath !== newPath) {
            var lastObjectPath = _filePathToObjectPath(treeData, oldPath);
            if (lastObjectPath) {
                newTreeData = newTreeData.updateIn(lastObjectPath, function (entry) {
                    return entry.delete(markerName);
                });
            }
        }

        if (newPath &amp;&amp; objectPath &amp;&amp; objectPath.length !== 0) {
            newTreeData = newTreeData.updateIn(objectPath, function (entry) {
                return entry.set(markerName, true);
            });
        }

        return newTreeData;
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _openPath 
        <a class="anchor" href="#-_openPath" id="-_openPath"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        treeData
        <span class="label label-info">Immutable.Map</span>
    </dt>
    <dd></dd>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>Path to open</dd>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _openPath(treeData, path) {
        var objectPath = _filePathToObjectPath(treeData, path);

        function setOpen(node) {
            return node.set(&quot;open&quot;, true);
        }

        while (objectPath &amp;&amp; objectPath.length) {
            var node = treeData.getIn(objectPath);
            if (isFile(node)) {
                objectPath.pop();
            } else {
                if (!node.get(&quot;open&quot;)) {
                    treeData = treeData.updateIn(objectPath, setOpen);
                }
                objectPath.pop();
                if (objectPath.length) {
                    objectPath.pop();
                }
            }
        }

        return treeData;
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _setDirectoryOpen 
        <a class="anchor" href="#-_setDirectoryOpen" id="-_setDirectoryOpen"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _setDirectoryOpen(treeData, path, open) {
        var objectPath = _filePathToObjectPath(treeData, path),
            directory = treeData.getIn(objectPath);

        if (!objectPath) {
            return {
                needsLoading: true,
                treeData: treeData
            };
        }

        if (isFile(directory)) {
            return;
        }

        var alreadyOpen = directory.get(&quot;open&quot;) === true;

        if ((alreadyOpen &amp;&amp; open) || (!alreadyOpen &amp;&amp; !open)) {
            return;
        }

        treeData = treeData.updateIn(objectPath, function (directory) {
            if (open) {
                return directory.set(&quot;open&quot;, true);
            } else {
                return directory.delete(&quot;open&quot;);
            }
        });

        if (open &amp;&amp; (directory.get(&quot;children&quot;) === null || directory.get(&quot;notFullyLoaded&quot;))) {
            return {
                needsLoading: true,
                treeData: treeData
            };
        }
        return {
            needsLoading: false,
            treeData: treeData
        };
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _setIn 
        <a class="anchor" href="#-_setIn" id="-_setIn"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        treeData
        <span class="label label-info">Immutable.Map</span>
    </dt>
    <dd></dd>
    <dt>
        objectPath
        <span class="label label-info">Array.&lt;string&gt;</span>
    </dt>
    <dd>path to object that should be replaced</dd>
    <dt>
        newValue
        <span class="label label-info">Immutable.Map</span>
    </dt>
    <dd>new value to provide at that path</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">Immutable.Map</span>
</dt>
    <dd>updated treeData</dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _setIn(treeData, objectPath, newValue) {
        return treeData.updateIn(objectPath, function (oldValue) {
            return newValue;
        });
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        isFile 
        <a class="anchor" href="#-isFile" id="-isFile"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Determine if an entry from the treeData map is a file.</p>
</div>
    
<dl>
    <dt>
        entry
        <span class="label label-info">Immutable.Map</span>
    </dt>
    <dd>entry to test</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">boolean</span>
</dt>
    <dd>true if this is a file and not a directory</dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function isFile(entry) {
        return entry.get(&quot;children&quot;) === undefined;
    }</code></pre></div>
</section>

<section id="classes">
    
    <h2>Classes</h2>

    <div class="well">
        <div class="member public">
            
            <span class="pull-right scope">Constructor</span>
            
            <h4>
                FileTreeViewModel
                
            </h4>
            
            <em></em>
            
            <dl>
            </dl>
          

            <button class="btn btn-small show-code">Show code</button>
            <pre class="code language-javascript"><code class="language-javascript">    function FileTreeViewModel() {
        &#x2F;&#x2F; For convenience in callbacks, make a bound version of this method so that we can
        &#x2F;&#x2F; just refer to it as this._commit when passing in a callback.
        this._commit = this._commit.bind(this);
    }
    EventDispatcher.makeEventDispatcher(FileTreeViewModel.prototype);</code></pre>
        </div>
        
        <section class="properties ">

            <h3>Properties 
<label class="checkbox">
    <input class="toggle-public" type="checkbox"> Show Private Members
</label>            </h3>

<div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _selectionViewInfo 
        <a class="anchor" href="#FileTreeViewModel-_selectionViewInfo" id="FileTreeViewModel-_selectionViewInfo"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>Type</dt>
    <dd>Immutable.Map</dd>
    <dt>Private</dt>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype._selectionViewInfo = Immutable.Map({
        width: 0,
        scrollTop: 0,
        scrollLeft: 0,
        offsetTop: 0,
        hasContext: false,
        hasSelection: false
    });

    Object.defineProperty(FileTreeViewModel.prototype, &quot;selectionViewInfo&quot;, {
        get: function () {
            return this._selectionViewInfo;
        }
    });</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _treeData 
        <a class="anchor" href="#FileTreeViewModel-_treeData" id="FileTreeViewModel-_treeData"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>Type</dt>
    <dd>Immutable.Map</dd>
    <dt>Private</dt>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype._treeData = Immutable.Map();

    Object.defineProperty(FileTreeViewModel.prototype, &quot;treeData&quot;, {
        get: function () {
            return this._treeData;
        }
    });</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        sortDirectoriesFirst 
        <a class="anchor" href="#FileTreeViewModel-sortDirectoriesFirst" id="FileTreeViewModel-sortDirectoriesFirst"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>Type</dt>
    <dd>boolean</dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype.sortDirectoriesFirst = false;</code></pre></div>
        </section>

        <section class="methods">

            <h3>Methods 
<label class="checkbox">
    <input class="toggle-public" type="checkbox"> Show Private Members
</label>            </h3>

<div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _commit 
        <a class="anchor" href="#FileTreeViewModel-_commit" id="FileTreeViewModel-_commit"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        treeData
        <span class="label label-nullable">nullable</span>
        <span class="label label-info">Immutable.Map</span>
    </dt>
    <dd>new treeData state</dd>
    <dt>
        selectionViewInfo
        <span class="label label-nullable">nullable</span>
        <span class="label label-info">Immutable.Map</span>
    </dt>
    <dd>updated information for the selection/context bars</dd>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype._commit = function (treeData, selectionViewInfo) {
        var changed = false;
        if (treeData &amp;&amp; treeData !== this._treeData) {
            this._treeData = treeData;
            changed = true;
        }

        if (selectionViewInfo &amp;&amp; selectionViewInfo !== this._selectionViewInfo) {
            this._selectionViewInfo = selectionViewInfo;
            changed = true;
        }
        if (changed) {
            this.trigger(EVENT_CHANGE);
        }
    };</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _getObject 
        <a class="anchor" href="#FileTreeViewModel-_getObject" id="FileTreeViewModel-_getObject"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Returns the object at the given file path.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>Path to the object</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">Immutable.Map=</span>
</dt>
    <dd>directory or file object from the tree. Null if it's not found.</dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype._getObject = function (path) {
        var objectPath = _filePathToObjectPath(this._treeData, path);
        if (!objectPath) {
            return null;
        }
        return this._treeData.getIn(objectPath);
    };</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _rootChanged 
        <a class="anchor" href="#FileTreeViewModel-_rootChanged" id="FileTreeViewModel-_rootChanged"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype._rootChanged = function () {
        this._treeData = Immutable.Map();
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        closeSubtree 
        <a class="anchor" href="#FileTreeViewModel-closeSubtree" id="FileTreeViewModel-closeSubtree"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Closes the directory at path and recursively closes all of its children.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>Path of subtree to close</dd>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype.closeSubtree = function (path) {
        var treeData = this._treeData,
            subtreePath = _filePathToObjectPath(treeData, path);

        if (!subtreePath) {
            return;
        }

        var directory = treeData.getIn(subtreePath);

        directory = _closeSubtree(directory);
        treeData = _setIn(treeData, subtreePath, directory);
        this._commit(treeData);
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        createPlaceholder 
        <a class="anchor" href="#FileTreeViewModel-createPlaceholder" id="FileTreeViewModel-createPlaceholder"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Creates a placeholder file or directory that appears in the tree so that the user
can provide a name for the new entry.</p>
</div>
    
<dl>
    <dt>
        basedir
        <span class="label label-info">string</span>
    </dt>
    <dd>Directory that contains the new file or folder</dd>
    <dt>
        name
        <span class="label label-info">string</span>
    </dt>
    <dd>Initial name to give the new entry</dd>
    <dt>
        isFolder
        <span class="label label-info">boolean</span>
    </dt>
    <dd>true if the entry being created is a folder</dd>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype.createPlaceholder = function (basedir, name, isFolder) {
        var treeData = _createPlaceholder(this._treeData, basedir, name, isFolder);
        this._commit(treeData);
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        deleteAtPath 
        <a class="anchor" href="#FileTreeViewModel-deleteAtPath" id="FileTreeViewModel-deleteAtPath"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Deletes the entry at the given path.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>Project-relative path to delete</dd>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype.deleteAtPath = function (path) {
        var treeData = _deleteAtPath(this._treeData, path);
        if (treeData) {
            this._commit(treeData);
        }
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        ensureDirectoryExists 
        <a class="anchor" href="#FileTreeViewModel-ensureDirectoryExists" id="FileTreeViewModel-ensureDirectoryExists"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Makes sure that the directory exists. This will create a directory object (unloaded)
if the directory does not already exist. A change message is also fired in that case.</p>
<p>This is useful for file system events which can refer to a directory that we don&#39;t
know about already.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>Project-relative path to the directory</dd>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype.ensureDirectoryExists = function (path) {
        var treeData          = this._treeData,
            pathWithoutSlash  = FileUtils.stripTrailingSlash(path),
            parentPath        = FileUtils.getDirectoryPath(pathWithoutSlash),
            name              = pathWithoutSlash.substr(parentPath.length),
            targetPath        = [];

        if (parentPath) {
            targetPath = _filePathToObjectPath(treeData, parentPath);
            if (!targetPath) {
                return;
            }
            targetPath.push(&quot;children&quot;);
            if (!treeData.getIn(targetPath)) {
                return;
            }
        }

        targetPath.push(name);

        if (treeData.getIn(targetPath)) {
            return;
        }

        treeData = _setIn(treeData, targetPath, Immutable.Map({
            children: null
        }));

        this._commit(treeData);
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getOpenNodes 
        <a class="anchor" href="#FileTreeViewModel-getOpenNodes" id="FileTreeViewModel-getOpenNodes"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Creates an array of arrays where each entry of the top-level array has an array
of paths that are at the same depth in the tree. All of the paths are full paths.</p>
<p>This is used for saving the current set of open nodes to the preferences system
for restoring on project open.</p>
</div>
    
<dl>
    <dt>
        projectRootPath
        <span class="label label-info">string</span>
    </dt>
    <dd>Full path to the project root</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">Array.&lt;Array.&lt;string&gt;&gt;</span>
</dt>
    <dd>Array of array of full paths, organized by depth in the tree.</dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype.getOpenNodes = function (projectRootPath) {
        return _getOpenNodes(this._treeData, projectRootPath);
    };

    FileTreeViewModel.prototype.getChildDirectories = function (parent) {
        var treeData = this._treeData,
            objectPath = _filePathToObjectPath(treeData, parent);

        if (!objectPath) {
            return;
        }

        var children;
        if (objectPath.length === 0) {
            &#x2F;&#x2F; this is the root of the tree
            children = this._treeData;
        } else {
            objectPath.push(&quot;children&quot;);
            children = this._treeData.getIn(objectPath);
        }

        return _getChildDirectories(children, parent);
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        isFilePathVisible 
        <a class="anchor" href="#FileTreeViewModel-isFilePathVisible" id="FileTreeViewModel-isFilePathVisible"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Determines if a given file path is visible within the tree.</p>
<p>For detailed documentation on how the loop works, see <code>_filePathToObjectPath</code> which
follows the same pattern. This differs from that function in that this one checks for
the open state of directories and has a different return value.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>project relative file path</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">boolean,null</span>
</dt>
    <dd>true if the given path is currently visible in the tree, null if the given path is not present in the tree.</dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype.isFilePathVisible = function (path) {
        return _isFilePathVisible(this._treeData, path);
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        isPathLoaded 
        <a class="anchor" href="#FileTreeViewModel-isPathLoaded" id="FileTreeViewModel-isPathLoaded"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Determines if a given path has been loaded.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>project relative file or directory path</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">boolean</span>
</dt>
    <dd>true if the path has been loaded</dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype.isPathLoaded = function (path) {
        var objectPath = _filePathToObjectPath(this._treeData, path);

        if (!objectPath) {
            return false;
        }

        &#x2F;&#x2F; If it&#39;s a directory, make sure that its children are loaded
        if (_.last(path) === &quot;&#x2F;&quot;) {
            var directory = this._treeData.getIn(objectPath);
            if (!directory.get(&quot;children&quot;) || directory.get(&quot;notFullyLoaded&quot;)) {
                return false;
            }
        }

        return true;
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        moveMarker 
        <a class="anchor" href="#FileTreeViewModel-moveMarker" id="FileTreeViewModel-moveMarker"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Moves a boolean marker flag from one file path to another.</p>
</div>
    
<dl>
    <dt>
        markerName
        <span class="label label-info">string</span>
    </dt>
    <dd>Name of the flag to set (for example, "selected")</dd>
    <dt>
        oldPath
        <span class="label label-info">string,null</span>
    </dt>
    <dd>Project relative file path with the location of the marker to move, or null if it's not being moved from elsewhere in the tree</dd>
    <dt>
        newPath
        <span class="label label-info">string,null</span>
    </dt>
    <dd>Project relative file path with where to place the marker, or null if the marker is being removed from the tree</dd>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype.moveMarker = function (markerName, oldPath, newPath) {
        var newTreeData = _moveMarker(this._treeData, markerName, oldPath, newPath),
            selectionViewInfo = this._selectionViewInfo;

        if (markerName === &quot;selected&quot;) {
            selectionViewInfo = selectionViewInfo.set(&quot;hasSelection&quot;, !!newPath);
        } else if (markerName === &quot;context&quot;) {
            selectionViewInfo = selectionViewInfo.set(&quot;hasContext&quot;, !!newPath);
        }
        this._commit(newTreeData, selectionViewInfo);
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        openPath 
        <a class="anchor" href="#FileTreeViewModel-openPath" id="FileTreeViewModel-openPath"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Opens the directories along the given path.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>Project-relative path</dd>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype.openPath = function (path) {
        this._commit(_openPath(this._treeData, path));
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        processChanges 
        <a class="anchor" href="#FileTreeViewModel-processChanges" id="FileTreeViewModel-processChanges"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Applies changes to the tree. The <code>changes</code> object can have one or more of the following keys which all
have arrays of project-relative paths as their values:</p>
<ul>
<li><code>changed</code>: entries that have changed in some way that should be re-rendered</li>
<li><code>added</code>: new entries that need to appear in the tree</li>
<li><code>removed</code>: entries that have been deleted from the tree</li>
</ul>
</div>
    
<dl>
    <dt>
        
        <span class="label label-info">{changed: Array.&lt;string&gt;=,added: Array.&lt;string&gt;=,removed: Array.&lt;string&gt;=}</span>
    </dt>
    <dd></dd>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype.processChanges = function (changes) {
        var treeData = this._treeData;

        if (changes.changed) {
            treeData = _markAsChanged(treeData, changes.changed);
        }

        if (changes.added) {
            treeData = _addNewEntries(treeData, changes.added);
        }

        if (changes.removed) {
            changes.removed.forEach(function (path) {
                treeData = _deleteAtPath(treeData, path);
            });
        }

        this._commit(treeData);
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        renameItem 
        <a class="anchor" href="#FileTreeViewModel-renameItem" id="FileTreeViewModel-renameItem"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Changes the name of the item at the <code>currentPath</code> to <code>newName</code>.</p>
</div>
    
<dl>
    <dt>
        currentPath
        <span class="label label-info">string</span>
    </dt>
    <dd>project relative file path to the current item</dd>
    <dt>
        newName
        <span class="label label-info">string</span>
    </dt>
    <dd>Name to give the item</dd>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype.renameItem = function (currentPath, newName) {
        var treeData = this._treeData,
            objectPath = _filePathToObjectPath(treeData, currentPath);

        if (!objectPath) {
            return;
        }

        var originalName = _.last(objectPath),
            currentObject = treeData.getIn(objectPath);

        &#x2F;&#x2F; Back up to the parent directory
        objectPath.pop();

        treeData = treeData.updateIn(objectPath, function (directory) {
            directory = directory.delete(originalName);
            directory = directory.set(newName, currentObject);
            return directory;
        });

        this._commit(treeData);
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        setDirectoryContents 
        <a class="anchor" href="#FileTreeViewModel-setDirectoryContents" id="FileTreeViewModel-setDirectoryContents"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Updates the directory at the given path with the new contents. If the parent directories
of this directory have not been loaded yet, they will be created. This allows directories
to be loaded in any order.</p>
</div>
    
<dl>
    <dt>
        Project
        <span class="label label-info">string</span>
    </dt>
    <dd>relative path to the directory that is being updated.</dd>
    <dt>
        Current
        <span class="label label-info">Array.&lt;FileSystemEntry&gt;</span>
    </dt>
    <dd>contents of the directory</dd>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype.setDirectoryContents = function (path, contents) {
        path = FileUtils.stripTrailingSlash(path);

        var intermediate = _createIntermediateDirectories(this._treeData, path),
            objectPath = intermediate.objectPath,
            treeData = intermediate.treeData;

        if (objectPath === null) {
            return;
        }

        var directory = treeData.getIn(objectPath),
            children = directory;

        &#x2F;&#x2F; The root directory doesn&#39;t need this special handling.
        if (path !== &quot;&quot;) {

            &#x2F;&#x2F; The user of this API passed in a path to a file rather than a directory.
            &#x2F;&#x2F; Perhaps this should be an exception?
            if (isFile(directory)) {
                return;
            }

            &#x2F;&#x2F; If the directory had been created previously as `notFullyLoaded`, we can
            &#x2F;&#x2F; remove that flag now because this is the step that is loading the directory.
            if (directory.get(&quot;notFullyLoaded&quot;)) {
                directory = directory.delete(&quot;notFullyLoaded&quot;);
            }

            if (!directory.get(&quot;children&quot;)) {
                directory = directory.set(&quot;children&quot;, Immutable.Map());
            }

            treeData = _setIn(treeData, objectPath, directory);

            objectPath.push(&quot;children&quot;);
            children = directory.get(&quot;children&quot;);
        }

        children = _mergeContentsIntoChildren(children, contents);
        treeData = _setIn(treeData, objectPath, children);
        this._commit(treeData);
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        setDirectoryOpen 
        <a class="anchor" href="#FileTreeViewModel-setDirectoryOpen" id="FileTreeViewModel-setDirectoryOpen"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Sets the directory at the given path to open or closed. Returns true if the directory
contents need to be loaded.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>Project relative file path to the directory</dd>
    <dt>
        open
        <span class="label label-info">boolean</span>
    </dt>
    <dd>True to open the directory</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">boolean</span>
</dt>
    <dd>true if the directory contents need to be loaded.</dd>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype.setDirectoryOpen = function (path, open) {
        var result = _setDirectoryOpen(this._treeData, path, open);
        if (result &amp;&amp; result.treeData) {
            this._commit(result.treeData);
        }
        return result ? result.needsLoading : false;
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        setSelectionScrollerInfo 
        <a class="anchor" href="#FileTreeViewModel-setSelectionScrollerInfo" id="FileTreeViewModel-setSelectionScrollerInfo"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Sets the scroll position of the file tree to help position the selection bar.
SPECIAL CASE NOTE: this does not trigger a change event because this data is
explicitly set in the rendering process (see ProjectManager._renderTree).</p>
</div>
    
<dl>
    <dt>
        scrollWidth
        <span class="label label-info">int</span>
    </dt>
    <dd>width of the tree content</dd>
    <dt>
        scrollTop
        <span class="label label-info">int</span>
    </dt>
    <dd>Scroll position</dd>
    <dt>
        scrollLeft
        <span class="label label-optional">optional</span>
        <span class="label label-info">int</span>
    </dt>
    <dd>Horizontal scroll position</dd>
    <dt>
        offsetTop
        <span class="label label-optional">optional</span>
        <span class="label label-info">int</span>
    </dt>
    <dd>top of the scroller</dd>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype.setSelectionScrollerInfo = function (scrollWidth, scrollTop, scrollLeft, offsetTop) {
        this._selectionViewInfo = this._selectionViewInfo.set(&quot;scrollWidth&quot;, scrollWidth);
        this._selectionViewInfo = this._selectionViewInfo.set(&quot;scrollTop&quot;, scrollTop);

        if (scrollLeft !== undefined) {
            this._selectionViewInfo = this._selectionViewInfo.set(&quot;scrollLeft&quot;, scrollLeft);
        }

        if (offsetTop !== undefined) {
            this._selectionViewInfo = this._selectionViewInfo.set(&quot;offsetTop&quot;, offsetTop);
        }
        &#x2F;&#x2F; Does not emit change event. See SPECIAL CASE NOTE in docstring above.
    };

    &#x2F;&#x2F; Private API
    exports.EVENT_CHANGE          = EVENT_CHANGE;
    exports._filePathToObjectPath = _filePathToObjectPath;
    exports._isFilePathVisible    = _isFilePathVisible;
    exports._createPlaceholder    = _createPlaceholder;

    &#x2F;&#x2F; Public API
    exports.isFile            = isFile;
    exports.FileTreeViewModel = FileTreeViewModel;
});</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        setSelectionWidth 
        <a class="anchor" href="#FileTreeViewModel-setSelectionWidth" id="FileTreeViewModel-setSelectionWidth"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Sets the width of the selection bar.</p>
</div>
    
<dl>
    <dt>
        width
        <span class="label label-info">int</span>
    </dt>
    <dd>New width</dd>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype.setSelectionWidth = function (width) {
        var selectionViewInfo = this._selectionViewInfo;
        selectionViewInfo = selectionViewInfo.set(&quot;width&quot;, width);
        this._commit(null, selectionViewInfo);
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        setSortDirectoriesFirst 
        <a class="anchor" href="#FileTreeViewModel-setSortDirectoriesFirst" id="FileTreeViewModel-setSortDirectoriesFirst"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Sets the value of the <code>sortDirectoriesFirst</code> flag which tells to view that directories
should be listed before the alphabetical listing of files.</p>
</div>
    
<dl>
    <dt>
        sortDirectoriesFirst
        <span class="label label-info">boolean</span>
    </dt>
    <dd>True if directories should be displayed first</dd>
</dl><dl>
</dl>
<dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    FileTreeViewModel.prototype.setSortDirectoriesFirst = function (sortDirectoriesFirst) {
        if (sortDirectoriesFirst !== this.sortDirectoriesFirst) {
            this.sortDirectoriesFirst = sortDirectoriesFirst;
            this.trigger(EVENT_CHANGE);
        }
    };</code></pre></div>
        </section>

    </div>

</section>
        </div>
      </div>
    </div>

    <script type="text/javascript" src="../../assets/js/prism.js"></script>
  </body>
</html>
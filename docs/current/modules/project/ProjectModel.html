<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ProjectModel - Brackets API</title>
    <link rel="stylesheet" href="../../assets/css/bootstrap.css">
    <link rel="stylesheet" href="../../assets/css/typeahead.js-bootstrap.css">
    <link rel="stylesheet" href="../../assets/css/font-awesome.css">
    <link rel="stylesheet" href="../../assets/css/prism.css">
    <link rel="stylesheet" href="../../assets/css/main.css">
    <!--[if IE 7]>
    <link rel="stylesheet" href="../assets/css/font-awesome-ie7.css">
    <![endif]-->
    <script type="text/javascript" src="../../assets/js/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="../../assets/js/bootstrap.js"></script>
    <script type="text/javascript" src="../../assets/js/typeahead.js"></script>
    <script type="text/javascript" src="../../assets/js/main.js"></script>
    <script src="http://use.edgefonts.net/source-sans-pro:n3,i3,n4,i4;source-code-pro.js"></script>

    <!-- Control the Flash of Unstyled Text (or FOUT) -->
    <style type="text/css">
        .wf-loading h1, .wf-loading h2, .wf-loading h3, .wf-loading h4,
        .wf-loading h5, .wf-loading h6, .wf-loading p, .wf-loading a {
            visibility: hidden;
        }
    </style>
    
    <script>
      window.moduleLevel = "../..";
    </script>
  </head>
  
  <body>
    <div class="row-fluid">
      <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
          <div class="container">
            <a class="brand" href="../../index.html">Brackets API</a>
            <div class="nav-collapse collapse">
              <ul class="nav">
                <li><a href="#dependencies">Dependencies</a></li>
                <li><a href="#variables">Variables</a></li>
                <li><a href="#functions">Functions</a></li>
                <li><a href="#classes">Classes</a></li>
              </ul>
            </div>
            <input class="typeahead" placeholder="Search..." type="text" >
          </div>
        </div>
      </div>    </div>
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">
          <div class="left-section">
            <h2 class="number-of-modules">Modules (188)</h2>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_"><i class="icon-folder-open"></i>[root]</a>
              </li>
            </ul>
            <ul id="package_" class="nav nav-list">
              <li><a href="../../modules/brackets.html">brackets</a></li>
              <li><a href="../../modules/dependencies.html">dependencies</a></li>
              <li><a href="../../modules/main.html">main</a></li>
              <li><a href="../../modules/strings.html">strings</a></li>
              <li><a href="../../modules/xorigin.html">xorigin</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_command"><i class="icon-folder-open"></i>command</a>
              </li>
            </ul>
            <ul id="package_command" class="nav nav-list">
              <li><a href="../../modules/command/CommandManager.html">CommandManager</a></li>
              <li><a href="../../modules/command/Commands.html">Commands</a></li>
              <li><a href="../../modules/command/DefaultMenus.html">DefaultMenus</a></li>
              <li><a href="../../modules/command/KeyBindingManager.html">KeyBindingManager</a></li>
              <li><a href="../../modules/command/Menus.html">Menus</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_document"><i class="icon-folder-open"></i>document</a>
              </li>
            </ul>
            <ul id="package_document" class="nav nav-list">
              <li><a href="../../modules/document/ChangedDocumentTracker.html">ChangedDocumentTracker</a></li>
              <li><a href="../../modules/document/Document.html">Document</a></li>
              <li><a href="../../modules/document/DocumentCommandHandlers.html">DocumentCommandHandlers</a></li>
              <li><a href="../../modules/document/DocumentManager.html">DocumentManager</a></li>
              <li><a href="../../modules/document/InMemoryFile.html">InMemoryFile</a></li>
              <li><a href="../../modules/document/TextRange.html">TextRange</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_editor"><i class="icon-folder-open"></i>editor</a>
              </li>
            </ul>
            <ul id="package_editor" class="nav nav-list">
              <li><a href="../../modules/editor/CodeHintList.html">CodeHintList</a></li>
              <li><a href="../../modules/editor/CodeHintManager.html">CodeHintManager</a></li>
              <li><a href="../../modules/editor/CSSInlineEditor.html">CSSInlineEditor</a></li>
              <li><a href="../../modules/editor/Editor.html">Editor</a></li>
              <li><a href="../../modules/editor/EditorCommandHandlers.html">EditorCommandHandlers</a></li>
              <li><a href="../../modules/editor/EditorManager.html">EditorManager</a></li>
              <li><a href="../../modules/editor/EditorOptionHandlers.html">EditorOptionHandlers</a></li>
              <li><a href="../../modules/editor/EditorStatusBar.html">EditorStatusBar</a></li>
              <li><a href="../../modules/editor/ImageViewer.html">ImageViewer</a></li>
              <li><a href="../../modules/editor/InlineTextEditor.html">InlineTextEditor</a></li>
              <li><a href="../../modules/editor/InlineWidget.html">InlineWidget</a></li>
              <li><a href="../../modules/editor/MultiRangeInlineEditor.html">MultiRangeInlineEditor</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_extensibility"><i class="icon-folder-open"></i>extensibility</a>
              </li>
            </ul>
            <ul id="package_extensibility" class="nav nav-list">
              <li><a href="../../modules/extensibility/ExtensionManager.html">ExtensionManager</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerDialog.html">ExtensionManagerDialog</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerView.html">ExtensionManagerView</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerViewModel.html">ExtensionManagerViewModel</a></li>
              <li><a href="../../modules/extensibility/InstallExtensionDialog.html">InstallExtensionDialog</a></li>
              <li><a href="../../modules/extensibility/Package.html">Package</a></li>
              <li><a href="../../modules/extensibility/registry_utils.html">registry_utils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_file"><i class="icon-folder-open"></i>file</a>
              </li>
            </ul>
            <ul id="package_file" class="nav nav-list">
              <li><a href="../../modules/file/FileUtils.html">FileUtils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem"><i class="icon-folder-open"></i>filesystem</a>
              </li>
            </ul>
            <ul id="package_filesystem" class="nav nav-list">
              <li><a href="../../modules/filesystem/Directory.html">Directory</a></li>
              <li><a href="../../modules/filesystem/File.html">File</a></li>
              <li><a href="../../modules/filesystem/FileIndex.html">FileIndex</a></li>
              <li><a href="../../modules/filesystem/FileSystem.html">FileSystem</a></li>
              <li><a href="../../modules/filesystem/FileSystemEntry.html">FileSystemEntry</a></li>
              <li><a href="../../modules/filesystem/FileSystemError.html">FileSystemError</a></li>
              <li><a href="../../modules/filesystem/FileSystemStats.html">FileSystemStats</a></li>
              <li><a href="../../modules/filesystem/WatchedRoot.html">WatchedRoot</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem_impls_appshell"><i class="icon-folder-open"></i>filesystem&#x2F;impls&#x2F;appshell</a>
              </li>
            </ul>
            <ul id="package_filesystem_impls_appshell" class="nav nav-list">
              <li><a href="../../modules/filesystem/impls/appshell/AppshellFileSystem.html">AppshellFileSystem</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem_impls_appshell_node"><i class="icon-folder-open"></i>filesystem&#x2F;impls&#x2F;appshell&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_filesystem_impls_appshell_node" class="nav nav-list">
              <li><a href="../../modules/filesystem/impls/appshell/node/ChokidarWatcher.html">ChokidarWatcher</a></li>
              <li><a href="../../modules/filesystem/impls/appshell/node/CSharpWatcher.html">CSharpWatcher</a></li>
              <li><a href="../../modules/filesystem/impls/appshell/node/FileWatcherDomain.html">FileWatcherDomain</a></li>
              <li><a href="../../modules/filesystem/impls/appshell/node/FileWatcherManager.html">FileWatcherManager</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_help"><i class="icon-folder-open"></i>help</a>
              </li>
            </ul>
            <ul id="package_help" class="nav nav-list">
              <li><a href="../../modules/help/HelpCommandHandlers.html">HelpCommandHandlers</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_JSUtils"><i class="icon-folder-open"></i>JSUtils</a>
              </li>
            </ul>
            <ul id="package_JSUtils" class="nav nav-list">
              <li><a href="../../modules/JSUtils/HintUtils.html">HintUtils</a></li>
              <li><a href="../../modules/JSUtils/MessageIds.html">MessageIds</a></li>
              <li><a href="../../modules/JSUtils/Preferences.html">Preferences</a></li>
              <li><a href="../../modules/JSUtils/ScopeManager.html">ScopeManager</a></li>
              <li><a href="../../modules/JSUtils/Session.html">Session</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_JSUtils_node"><i class="icon-folder-open"></i>JSUtils&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_JSUtils_node" class="nav nav-list">
              <li><a href="../../modules/JSUtils/node/ExtractFileContent.html">ExtractFileContent</a></li>
              <li><a href="../../modules/JSUtils/node/TernNodeDomain.html">TernNodeDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_language"><i class="icon-folder-open"></i>language</a>
              </li>
            </ul>
            <ul id="package_language" class="nav nav-list">
              <li><a href="../../modules/language/CodeInspection.html">CodeInspection</a></li>
              <li><a href="../../modules/language/CSSUtils.html">CSSUtils</a></li>
              <li><a href="../../modules/language/HTMLDOMDiff.html">HTMLDOMDiff</a></li>
              <li><a href="../../modules/language/HTMLInstrumentation.html">HTMLInstrumentation</a></li>
              <li><a href="../../modules/language/HTMLSimpleDOM.html">HTMLSimpleDOM</a></li>
              <li><a href="../../modules/language/HTMLTokenizer.html">HTMLTokenizer</a></li>
              <li><a href="../../modules/language/HTMLUtils.html">HTMLUtils</a></li>
              <li><a href="../../modules/language/JSONUtils.html">JSONUtils</a></li>
              <li><a href="../../modules/language/JSUtils.html">JSUtils</a></li>
              <li><a href="../../modules/language/LanguageManager.html">LanguageManager</a></li>
              <li><a href="../../modules/language/XMLUtils.html">XMLUtils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Agents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Agents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Agents" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Agents/ConsoleAgent.html">ConsoleAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/CSSAgent.html">CSSAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMAgent.html">DOMAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMHelpers.html">DOMHelpers</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMNode.html">DOMNode</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/EditAgent.html">EditAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/GotoAgent.html">GotoAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/HighlightAgent.html">HighlightAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/NetworkAgent.html">NetworkAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/RemoteAgent.html">RemoteAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/RemoteFunctions.html">RemoteFunctions</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/ScriptAgent.html">ScriptAgent</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Documents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Documents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Documents" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Documents/CSSDocument.html">CSSDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/CSSPreprocessorDocument.html">CSSPreprocessorDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/HTMLDocument.html">HTMLDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/JSDocument.html">JSDocument</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Inspector"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Inspector</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Inspector" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Inspector/Inspector.html">Inspector</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment"><i class="icon-folder-open"></i>LiveDevelopment</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/LiveDevelopment.html">LiveDevelopment</a></li>
              <li><a href="../../modules/LiveDevelopment/LiveDevelopmentUtils.html">LiveDevelopmentUtils</a></li>
              <li><a href="../../modules/LiveDevelopment/LiveDevMultiBrowser.html">LiveDevMultiBrowser</a></li>
              <li><a href="../../modules/LiveDevelopment/LiveDevServerManager.html">LiveDevServerManager</a></li>
              <li><a href="../../modules/LiveDevelopment/main.html">main</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_documents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;documents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_documents" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/documents/LiveCSSDocument.html">LiveCSSDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/documents/LiveDocument.html">LiveDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/documents/LiveHTMLDocument.html">LiveHTMLDocument</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_language"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;language</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_language" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/language/HTMLInstrumentation.html">HTMLInstrumentation</a></li>
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/language/HTMLSimpleDOM.html">HTMLSimpleDOM</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_launchers"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;launchers</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_launchers" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/launchers/Launcher.html">Launcher</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_launchers_node"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;launchers&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_launchers_node" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/launchers/node/LauncherDomain.html">LauncherDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_protocol"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;protocol</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_protocol" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/protocol/LiveDevProtocol.html">LiveDevProtocol</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_protocol_remote"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;protocol&#x2F;remote</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_protocol_remote" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/protocol/remote/DocumentObserver.html">DocumentObserver</a></li>
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/protocol/remote/LiveDevProtocolRemote.html">LiveDevProtocolRemote</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_transports_node"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;transports&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_transports_node" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/transports/node/NodeSocketTransportDomain.html">NodeSocketTransportDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_transports"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;transports</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_transports" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/transports/NodeSocketTransport.html">NodeSocketTransport</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_transports_remote"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;transports&#x2F;remote</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_transports_remote" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/transports/remote/NodeSocketTransportRemote.html">NodeSocketTransportRemote</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Servers"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Servers</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Servers" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Servers/BaseServer.html">BaseServer</a></li>
              <li><a href="../../modules/LiveDevelopment/Servers/FileServer.html">FileServer</a></li>
              <li><a href="../../modules/LiveDevelopment/Servers/UserServer.html">UserServer</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_transports_node"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;transports&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_transports_node" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/transports/node/WebSocketTransportDomain.html">WebSocketTransportDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_transports"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;transports</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_transports" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/transports/WebSocketTransport.html">WebSocketTransport</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_preferences"><i class="icon-folder-open"></i>preferences</a>
              </li>
            </ul>
            <ul id="package_preferences" class="nav nav-list">
              <li><a href="../../modules/preferences/PreferencesBase.html">PreferencesBase</a></li>
              <li><a href="../../modules/preferences/PreferencesDialogs.html">PreferencesDialogs</a></li>
              <li><a href="../../modules/preferences/PreferencesImpl.html">PreferencesImpl</a></li>
              <li><a href="../../modules/preferences/PreferencesManager.html">PreferencesManager</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_project"><i class="icon-folder-open"></i>project</a>
              </li>
            </ul>
            <ul id="package_project" class="nav nav-list">
              <li><a href="../../modules/project/FileSyncManager.html">FileSyncManager</a></li>
              <li><a href="../../modules/project/FileTreeView.html">FileTreeView</a></li>
              <li><a href="../../modules/project/FileTreeViewModel.html">FileTreeViewModel</a></li>
              <li><a href="../../modules/project/FileViewController.html">FileViewController</a></li>
              <li><a href="../../modules/project/ProjectManager.html">ProjectManager</a></li>
              <li><a href="../../modules/project/ProjectModel.html">ProjectModel</a></li>
              <li><a href="../../modules/project/SidebarView.html">SidebarView</a></li>
              <li><a href="../../modules/project/WorkingSetSort.html">WorkingSetSort</a></li>
              <li><a href="../../modules/project/WorkingSetView.html">WorkingSetView</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_search"><i class="icon-folder-open"></i>search</a>
              </li>
            </ul>
            <ul id="package_search" class="nav nav-list">
              <li><a href="../../modules/search/FileFilters.html">FileFilters</a></li>
              <li><a href="../../modules/search/FindBar.html">FindBar</a></li>
              <li><a href="../../modules/search/FindInFiles.html">FindInFiles</a></li>
              <li><a href="../../modules/search/FindInFilesUI.html">FindInFilesUI</a></li>
              <li><a href="../../modules/search/FindReplace.html">FindReplace</a></li>
              <li><a href="../../modules/search/FindUtils.html">FindUtils</a></li>
              <li><a href="../../modules/search/QuickOpen.html">QuickOpen</a></li>
              <li><a href="../../modules/search/QuickOpenHelper.html">QuickOpenHelper</a></li>
              <li><a href="../../modules/search/QuickSearchField.html">QuickSearchField</a></li>
              <li><a href="../../modules/search/ScrollTrackMarkers.html">ScrollTrackMarkers</a></li>
              <li><a href="../../modules/search/SearchModel.html">SearchModel</a></li>
              <li><a href="../../modules/search/SearchResultsView.html">SearchResultsView</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_search_node"><i class="icon-folder-open"></i>search&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_search_node" class="nav nav-list">
              <li><a href="../../modules/search/node/FindInFilesDomain.html">FindInFilesDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_utils"><i class="icon-folder-open"></i>utils</a>
              </li>
            </ul>
            <ul id="package_utils" class="nav nav-list">
              <li><a href="../../modules/utils/AnimationUtils.html">AnimationUtils</a></li>
              <li><a href="../../modules/utils/AppInit.html">AppInit</a></li>
              <li><a href="../../modules/utils/Async.html">Async</a></li>
              <li><a href="../../modules/utils/BuildInfoUtils.html">BuildInfoUtils</a></li>
              <li><a href="../../modules/utils/ColorUtils.html">ColorUtils</a></li>
              <li><a href="../../modules/utils/Compatibility.html">Compatibility</a></li>
              <li><a href="../../modules/utils/DeprecationWarning.html">DeprecationWarning</a></li>
              <li><a href="../../modules/utils/DragAndDrop.html">DragAndDrop</a></li>
              <li><a href="../../modules/utils/DropdownEventHandler.html">DropdownEventHandler</a></li>
              <li><a href="../../modules/utils/EventDispatcher.html">EventDispatcher</a></li>
              <li><a href="../../modules/utils/ExtensionLoader.html">ExtensionLoader</a></li>
              <li><a href="../../modules/utils/ExtensionUtils.html">ExtensionUtils</a></li>
              <li><a href="../../modules/utils/Global.html">Global</a></li>
              <li><a href="../../modules/utils/HealthLogger.html">HealthLogger</a></li>
              <li><a href="../../modules/utils/KeyEvent.html">KeyEvent</a></li>
              <li><a href="../../modules/utils/LocalizationUtils.html">LocalizationUtils</a></li>
              <li><a href="../../modules/utils/NativeApp.html">NativeApp</a></li>
              <li><a href="../../modules/utils/NodeConnection.html">NodeConnection</a></li>
              <li><a href="../../modules/utils/NodeDomain.html">NodeDomain</a></li>
              <li><a href="../../modules/utils/PerfUtils.html">PerfUtils</a></li>
              <li><a href="../../modules/utils/Resizer.html">Resizer</a></li>
              <li><a href="../../modules/utils/ShellAPI.html">ShellAPI</a></li>
              <li><a href="../../modules/utils/StringMatch.html">StringMatch</a></li>
              <li><a href="../../modules/utils/StringUtils.html">StringUtils</a></li>
              <li><a href="../../modules/utils/TokenUtils.html">TokenUtils</a></li>
              <li><a href="../../modules/utils/UpdateNotification.html">UpdateNotification</a></li>
              <li><a href="../../modules/utils/UrlParams.html">UrlParams</a></li>
              <li><a href="../../modules/utils/ValidationUtils.html">ValidationUtils</a></li>
              <li><a href="../../modules/utils/ViewUtils.html">ViewUtils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_view"><i class="icon-folder-open"></i>view</a>
              </li>
            </ul>
            <ul id="package_view" class="nav nav-list">
              <li><a href="../../modules/view/MainViewFactory.html">MainViewFactory</a></li>
              <li><a href="../../modules/view/MainViewManager.html">MainViewManager</a></li>
              <li><a href="../../modules/view/Pane.html">Pane</a></li>
              <li><a href="../../modules/view/ThemeManager.html">ThemeManager</a></li>
              <li><a href="../../modules/view/ThemeSettings.html">ThemeSettings</a></li>
              <li><a href="../../modules/view/ThemeView.html">ThemeView</a></li>
              <li><a href="../../modules/view/ViewCommandHandlers.html">ViewCommandHandlers</a></li>
              <li><a href="../../modules/view/ViewStateManager.html">ViewStateManager</a></li>
              <li><a href="../../modules/view/WorkspaceManager.html">WorkspaceManager</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_widgets"><i class="icon-folder-open"></i>widgets</a>
              </li>
            </ul>
            <ul id="package_widgets" class="nav nav-list">
              <li><a href="../../modules/widgets/bootstrap-alerts.html">bootstrap-alerts</a></li>
              <li><a href="../../modules/widgets/bootstrap-button.html">bootstrap-button</a></li>
              <li><a href="../../modules/widgets/bootstrap-dropdown.html">bootstrap-dropdown</a></li>
              <li><a href="../../modules/widgets/bootstrap-modal.html">bootstrap-modal</a></li>
              <li><a href="../../modules/widgets/bootstrap-popover.html">bootstrap-popover</a></li>
              <li><a href="../../modules/widgets/bootstrap-scrollspy.html">bootstrap-scrollspy</a></li>
              <li><a href="../../modules/widgets/bootstrap-tab.html">bootstrap-tab</a></li>
              <li><a href="../../modules/widgets/bootstrap-tooltip.html">bootstrap-tooltip</a></li>
              <li><a href="../../modules/widgets/bootstrap-twipsy-mod.html">bootstrap-twipsy-mod</a></li>
              <li><a href="../../modules/widgets/DefaultDialogs.html">DefaultDialogs</a></li>
              <li><a href="../../modules/widgets/Dialogs.html">Dialogs</a></li>
              <li><a href="../../modules/widgets/DropdownButton.html">DropdownButton</a></li>
              <li><a href="../../modules/widgets/InlineMenu.html">InlineMenu</a></li>
              <li><a href="../../modules/widgets/ModalBar.html">ModalBar</a></li>
              <li><a href="../../modules/widgets/PopUpManager.html">PopUpManager</a></li>
              <li><a href="../../modules/widgets/StatusBar.html">StatusBar</a></li>
            </ul>
          </div>
        </div>
        <div class="module span9">
<h1>ProjectModel</h1>


<section class="description">
    <h3>Description</h3>
    
    <div><p>Provides the data source for a project and manages the view model for the FileTreeView.</p>
</div>
    
</section>

<section id="dependencies">
    <h3>Dependencies</h3>

    <ul class="nav nav-list">
        <li><a href="..&#x2F;../modules/utils/Async.html">Async</a></li>
        <li><a href="..&#x2F;../modules/utils/EventDispatcher.html">EventDispatcher</a></li>
        <li><a href="..&#x2F;../modules/filesystem/FileSystem.html">FileSystem</a></li>
        <li><a href="..&#x2F;../modules/filesystem/FileSystemError.html">FileSystemError</a></li>
        <li><a href="..&#x2F;../modules/project/FileTreeViewModel.html">FileTreeViewModel</a></li>
        <li><a href="..&#x2F;../modules/file/FileUtils.html">FileUtils</a></li>
        <li><a href="..&#x2F;../modules/document/InMemoryFile.html">InMemoryFile</a></li>
        <li><a href="..&#x2F;../modules/thirdparty/lodash.html">lodash</a></li>
        <li><a href="..&#x2F;../modules/utils/PerfUtils.html">PerfUtils</a></li>
    </ul>

</section>
<section id="variables">
    
    <h3>Variables 
<label class="checkbox">
    <input class="toggle-public" type="checkbox"> Show Private Members
</label>    </h3>

<div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _exclusionListRegEx 
        <a class="anchor" href="#-_exclusionListRegEx" id="-_exclusionListRegEx"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>Type</dt>
    <dd>RegExp</dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _exclusionListRegEx = &#x2F;\.pyc$|^\.git$|^\.gitmodules$|^\.svn$|^\.DS_Store$|^Icon\r|^Thumbs\.db$|^\.hg$|^CVS$|^\.hgtags$|^\.idea$|^\.c9revisions$|^\.SyncArchive$|^\.SyncID$|^\.SyncIgnore$|\~$&#x2F;;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _illegalFilenamesRegEx 
        <a class="anchor" href="#-_illegalFilenamesRegEx" id="-_illegalFilenamesRegEx"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _illegalFilenamesRegEx = &#x2F;((\b(com[0-9]+|lpt[0-9]+|nul|con|prn|aux)\b)|\.+$|\&#x2F;+|\\+|\:)&#x2F;i;</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>
        _invalidChars 
        <a class="anchor" href="#-_invalidChars" id="-_invalidChars"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var _invalidChars = &#x2F;([?\*\|\&lt;\&gt;&quot;]+|\&#x2F;{2,}|\.{2,}|\.$)&#x2F;i;</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        defaultIgnoreGlobs 
        <a class="anchor" href="#-defaultIgnoreGlobs" id="-defaultIgnoreGlobs"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Glob definition of files and folders that should be excluded directly
inside node domain watching with chokidar</p>
</div>
    
<dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    var defaultIgnoreGlobs = [
        &quot;**&#x2F;(.pyc|.git|.gitmodules|.svn|.DS_Store|Thumbs.db|.hg|CVS|.hgtags|.idea|.c9revisions|.SyncArchive|.SyncID|.SyncIgnore)&quot;,
        &quot;**&#x2F;bower_components&quot;,
        &quot;**&#x2F;node_modules&quot;
    ];</code></pre></div>
</section>

<section id="functions">

    <h3>Functions 
<label class="checkbox">
    <input class="toggle-public" type="checkbox"> Show Private Members
</label>    </h3>

<div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>
        _addWelcomeProjectPath 
        <a class="anchor" href="#-_addWelcomeProjectPath" id="-_addWelcomeProjectPath"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>Path to possibly add</dd>
    <dt>
        currentProjects
        <span class="label label-optional">optional</span>
        <span class="label label-info">Array.&lt;string&gt;</span>
    </dt>
    <dd>Array of current welcome projects</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">Array.&lt;string&gt;</span></dt>
    <dd>New array of welcome projects with the additional project added</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _addWelcomeProjectPath(path, currentProjects) {
        var pathNoSlash = FileUtils.stripTrailingSlash(path);  &#x2F;&#x2F; &quot;welcomeProjects&quot; pref has standardized on no trailing &quot;&#x2F;&quot;

        var newProjects;

        if (currentProjects) {
            newProjects = _.clone(currentProjects);
        } else {
            newProjects = [];
        }

        if (newProjects.indexOf(pathNoSlash) === -1) {
            newProjects.push(pathNoSlash);
        }
        return newProjects;
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>
        _ensureTrailingSlash 
        <a class="anchor" href="#-_ensureTrailingSlash" id="-_ensureTrailingSlash"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Although Brackets is generally standardized on folder paths with a trailing &quot;/&quot;, some APIs here
receive project paths without &quot;/&quot; due to legacy preference storage formats, etc.</p>
</div>
    
<dl>
    <dt>
        fullPath
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">string</span>
    </dt>
    <dd>Path that may or may not end in "/"</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">!string</span></dt>
    <dd>Path that ends in "/"</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _ensureTrailingSlash(fullPath) {
        if (_pathIsFile(fullPath)) {
            return fullPath + &quot;&#x2F;&quot;;
        }
        return fullPath;
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _getFSObject 
        <a class="anchor" href="#-_getFSObject" id="-_getFSObject"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>Path to retrieve</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _getFSObject(path) {
        if (!path) {
            return path;
        } else if (_pathIsFile(path)) {
            return FileSystem.getFileForPath(path);
        }
        return FileSystem.getDirectoryForPath(path);
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _getPathFromFSObject 
        <a class="anchor" href="#-_getPathFromFSObject" id="-_getPathFromFSObject"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        fsobj
        <span class="label label-info">FileSystemEntry</span>
    </dt>
    <dd>Object from which the path should be extracted</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _getPathFromFSObject(fsobj) {
        if (fsobj &amp;&amp; fsobj.fullPath) {
            return fsobj.fullPath;
        }
        return fsobj;
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>
        _getWelcomeProjectPath 
        <a class="anchor" href="#-_getWelcomeProjectPath" id="-_getWelcomeProjectPath"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        sampleUrl
        <span class="label label-info">string</span>
    </dt>
    <dd>URL for getting started project</dd>
    <dt>
        initialPath
        <span class="label label-info">string</span>
    </dt>
    <dd>Path to Brackets directory (see <a href="../../modules/file/FileUtils.html#-getNativeBracketsDirectoryPath">FileUtils.getNativeBracketsDirectoryPath</a>)</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">!string</span></dt>
    <dd>fullPath reference</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _getWelcomeProjectPath(sampleUrl, initialPath) {
        if (sampleUrl) {
            &#x2F;&#x2F; Back up one more folder. The samples folder is assumed to be at the same level as
            &#x2F;&#x2F; the src folder, and the sampleUrl is relative to the samples folder.
            initialPath = initialPath.substr(0, initialPath.lastIndexOf(&quot;&#x2F;&quot;)) + &quot;&#x2F;samples&#x2F;&quot; + sampleUrl;
        }

        return _ensureTrailingSlash(initialPath); &#x2F;&#x2F; paths above weren&#39;t canonical
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>
        _isWelcomeProjectPath 
        <a class="anchor" href="#-_isWelcomeProjectPath" id="-_isWelcomeProjectPath"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Returns true if the given path is the same as one of the welcome projects we&#39;ve previously opened,
or the one for the current build.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>Path to check to see if it's a welcome project</dd>
    <dt>
        welcomeProjectPath
        <span class="label label-info">string</span>
    </dt>
    <dd>Current welcome project path</dd>
    <dt>
        welcomeProjects
        <span class="label label-optional">optional</span>
        <span class="label label-info">Array.&lt;string&gt;</span>
    </dt>
    <dd>All known welcome projects</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _isWelcomeProjectPath(path, welcomeProjectPath, welcomeProjects) {
        if (path === welcomeProjectPath) {
            return true;
        }

        &#x2F;&#x2F; No match on the current path, and it&#39;s not a match if there are no previously known projects
        if (!welcomeProjects) {
            return false;
        }

        var pathNoSlash = FileUtils.stripTrailingSlash(path);  &#x2F;&#x2F; &quot;welcomeProjects&quot; pref has standardized on no trailing &quot;&#x2F;&quot;
        return welcomeProjects.indexOf(pathNoSlash) !== -1;
    }

    exports._getWelcomeProjectPath  = _getWelcomeProjectPath;
    exports._addWelcomeProjectPath  = _addWelcomeProjectPath;
    exports._isWelcomeProjectPath   = _isWelcomeProjectPath;
    exports._ensureTrailingSlash    = _ensureTrailingSlash;
    exports._shouldShowName         = _shouldShowName;
    exports._invalidChars           = &quot;? * | : &#x2F; &lt; &gt; \\ | \&quot; ..&quot;;

    exports.shouldShow              = shouldShow;
    exports.defaultIgnoreGlobs      = defaultIgnoreGlobs;
    exports.isValidFilename         = isValidFilename;
    exports.isValidPath             = isValidPath;
    exports.EVENT_CHANGE            = EVENT_CHANGE;
    exports.EVENT_SHOULD_SELECT     = EVENT_SHOULD_SELECT;
    exports.EVENT_SHOULD_FOCUS      = EVENT_SHOULD_FOCUS;
    exports.ERROR_CREATION          = ERROR_CREATION;
    exports.ERROR_INVALID_FILENAME  = ERROR_INVALID_FILENAME;
    exports.ERROR_NOT_IN_PROJECT    = ERROR_NOT_IN_PROJECT;
    exports.FILE_RENAMING           = FILE_RENAMING;
    exports.FILE_CREATING           = FILE_CREATING;
    exports.RENAME_CANCELLED        = RENAME_CANCELLED;
    exports.doCreate                = doCreate;
    exports.ProjectModel            = ProjectModel;
});</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _pathIsFile 
        <a class="anchor" href="#-_pathIsFile" id="-_pathIsFile"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>Path to test.</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _pathIsFile(path) {
        return _.last(path) !== &quot;&#x2F;&quot;;
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _renameItem 
        <a class="anchor" href="#-_renameItem" id="-_renameItem"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Rename a file/folder. This will update the project tree data structures
and send notifications about the rename.</p>
</div>
    
<dl>
    <dt>
        oldPath
        <span class="label label-info">string</span>
    </dt>
    <dd>Old name of the item with the path</dd>
    <dt>
        newPath
        <span class="label label-info">string</span>
    </dt>
    <dd>New name of the item with the path</dd>
    <dt>
        newName
        <span class="label label-info">string</span>
    </dt>
    <dd>New name of the item</dd>
    <dt>
        isFolder
        <span class="label label-info">boolean</span>
    </dt>
    <dd>True if item is a folder; False if it is a file.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>A promise object that will be resolved or rejected when the rename is finished.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _renameItem(oldPath, newPath, newName, isFolder) {
        var result = new $.Deferred();

        if (oldPath === newPath) {
            result.resolve();
        } else if (!isValidFilename(newName)) {
            result.reject(ERROR_INVALID_FILENAME);
        } else {
            var entry = isFolder ? FileSystem.getDirectoryForPath(oldPath) : FileSystem.getFileForPath(oldPath);
            entry.rename(newPath, function (err) {
                if (err) {
                    result.reject(err);
                } else {
                    result.resolve();
                }
            });
        }

        return result.promise();
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>
        _shouldShowName 
        <a class="anchor" href="#-_shouldShowName" id="-_shouldShowName"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
</dl><dl>
    <dt>See</dt>
    <dd><a href="#-shouldShow">shouldShow</a></dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _shouldShowName(name) {
        return !_exclusionListRegEx.test(name);
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        doCreate 
        <a class="anchor" href="#-doCreate" id="-doCreate"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Creates a new file or folder at the given path. The returned promise is rejected if the filename
is invalid, the new path already exists or some other filesystem error comes up.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>path to create</dd>
    <dt>
        isFolder
        <span class="label label-info">boolean</span>
    </dt>
    <dd>true if the new entry is a folder</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>resolved when the file or directory has been created.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function doCreate(path, isFolder) {
        var d = new $.Deferred();
        var filename = FileUtils.getBaseName(path);

        &#x2F;&#x2F; Check if filename
        if (!isValidFilename(filename)){
            return d.reject(ERROR_INVALID_FILENAME).promise();
        }

        &#x2F;&#x2F; Check if fullpath with filename is valid
        &#x2F;&#x2F; This check is used to circumvent directory jumps (Like ..&#x2F;..)
        if (!isValidPath(path)) {
            return d.reject(ERROR_INVALID_FILENAME).promise();
        }

        FileSystem.resolve(path, function (err) {
            if (!err) {
                &#x2F;&#x2F; Item already exists, fail with error
                d.reject(FileSystemError.ALREADY_EXISTS);
            } else {
                if (isFolder) {
                    var directory = FileSystem.getDirectoryForPath(path);

                    directory.create(function (err) {
                        if (err) {
                            d.reject(err);
                        } else {
                            d.resolve(directory);
                        }
                    });
                } else {
                    &#x2F;&#x2F; Create an empty file
                    var file = FileSystem.getFileForPath(path);

                    FileUtils.writeText(file, &quot;&quot;).then(function () {
                        d.resolve(file);
                    }, d.reject);
                }
            }
        });

        return d.promise();
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        isValidFilename 
        <a class="anchor" href="#-isValidFilename" id="-isValidFilename"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Returns true if this matches valid filename specifications.
See <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx">http://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx</a></p>
<p>TODO: This likely belongs in FileUtils.</p>
</div>
    
<dl>
    <dt>
        filename
        <span class="label label-info">string</span>
    </dt>
    <dd>to check</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">boolean</span></dt>
    <dd>true if the filename is valid</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function isValidFilename(filename) {
        &#x2F;&#x2F; Fix issue adobe#13099
        &#x2F;&#x2F; See https:&#x2F;&#x2F;github.com&#x2F;adobe&#x2F;brackets&#x2F;issues&#x2F;13099
        return !(
            filename.match(_invalidChars)|| filename.match(_illegalFilenamesRegEx)
        );
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        isValidPath 
        <a class="anchor" href="#-isValidPath" id="-isValidPath"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Returns true if given path is valid.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>to check</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">boolean</span></dt>
    <dd>true if the filename is valid</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function isValidPath(path) {
        &#x2F;&#x2F; Fix issue adobe#13099
        &#x2F;&#x2F; See https:&#x2F;&#x2F;github.com&#x2F;adobe&#x2F;brackets&#x2F;issues&#x2F;13099
        return !(path.match(_invalidChars));
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        shouldShow 
        <a class="anchor" href="#-shouldShow" id="-shouldShow"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Returns false for files and directories that are not commonly useful to display.</p>
</div>
    
<dl>
    <dt>
        entry
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">FileSystemEntry</span>
    </dt>
    <dd>File or directory to filter</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">boolean</span></dt>
    <dd>true if the file should be displayed</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function shouldShow(entry) {
        return _shouldShowName(entry.name);
    }

    &#x2F;&#x2F; Constants used by the ProjectModel

    var FILE_RENAMING     = 0,
        FILE_CREATING     = 1,
        RENAME_CANCELLED  = 2;</code></pre></div>
</section>

<section id="classes">
    
    <h2>Classes</h2>

    <div class="well">
        <div class="member public">
            
            <span class="pull-right scope">Constructor</span>
            
            <h4>
                ProjectModel
                
            </h4>
            
            <em></em>
            
            <dl>
            </dl>
          
<dl>
</dl>

            <button class="btn btn-small show-code">Show code</button>
            <pre class="code language-javascript"><code class="language-javascript">    function ProjectModel(initial) {
        initial = initial || {};
        if (initial.projectRoot) {
            this.projectRoot = initial.projectRoot;
        }

        if (initial.focused !== undefined) {
            this._focused = initial.focused;
        }
        this._viewModel = new FileTreeViewModel.FileTreeViewModel();
        this._viewModel.on(FileTreeViewModel.EVENT_CHANGE, function () {
            this.trigger(EVENT_CHANGE);
        }.bind(this));
        this._selections = {};
    }
    EventDispatcher.makeEventDispatcher(ProjectModel.prototype);</code></pre>
        </div>
        
        <section class="properties ">

            <h3>Properties 
<label class="checkbox">
    <input class="toggle-public" type="checkbox"> Show Private Members
</label>            </h3>

<div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _allFilesCachePromise 
        <a class="anchor" href="#ProjectModel-_allFilesCachePromise" id="ProjectModel-_allFilesCachePromise"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>Type</dt>
    <dd>?$.Promise.&lt;Array&lt;File&gt;&gt;</dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype._allFilesCachePromise = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _currentPath 
        <a class="anchor" href="#ProjectModel-_currentPath" id="ProjectModel-_currentPath"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>Type</dt>
    <dd>string</dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype._currentPath = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _focused 
        <a class="anchor" href="#ProjectModel-_focused" id="ProjectModel-_focused"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>Type</dt>
    <dd>boolean</dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype._focused = true;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _projectBaseUrl 
        <a class="anchor" href="#ProjectModel-_projectBaseUrl" id="ProjectModel-_projectBaseUrl"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>Type</dt>
    <dd>string</dd>
    <dt>See</dt>
    <dd><a href="../../modules/project/ProjectModel.html#ProjectModel-getBaseUrl">ProjectModel.getBaseUrl</a>, <a href="../../modules/project/ProjectModel.html#ProjectModel-setBaseUrl">ProjectModel.setBaseUrl</a></dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype._projectBaseUrl = &quot;&quot;;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _selections 
        <a class="anchor" href="#ProjectModel-_selections" id="ProjectModel-_selections"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>Type</dt>
    <dd>{selected: ?string, context: ?string, previousContext: ?string, rename: ?Object}</dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype._selections = null;</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _viewModel 
        <a class="anchor" href="#ProjectModel-_viewModel" id="ProjectModel-_viewModel"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>Type</dt>
    <dd>FileTreeViewModel</dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype._viewModel = null;</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        projectRoot 
        <a class="anchor" href="#ProjectModel-projectRoot" id="ProjectModel-projectRoot"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>Type</dt>
    <dd>Directory</dd>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.projectRoot = null;</code></pre></div>
        </section>

        <section class="methods">

            <h3>Methods 
<label class="checkbox">
    <input class="toggle-public" type="checkbox"> Show Private Members
</label>            </h3>

<div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _cancelCreating 
        <a class="anchor" href="#ProjectModel-_cancelCreating" id="ProjectModel-_cancelCreating"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Cancels the creation process that is underway. The original promise returned will be resolved with the
RENAME_CANCELLED value. The temporary entry added to the file tree will be deleted.</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype._cancelCreating = function () {
        var renameInfo = this._selections.rename;
        if (!renameInfo || renameInfo.type !== FILE_CREATING) {
            return;
        }
        this._viewModel.deleteAtPath(this.makeProjectRelativeIfPossible(renameInfo.path));
        renameInfo.deferred.resolve(RENAME_CANCELLED);
        delete this._selections.rename;
        this.setContext(null);
    };</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _getAllFilesCache 
        <a class="anchor" href="#ProjectModel-_getAllFilesCache" id="ProjectModel-_getAllFilesCache"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        true
        <span class="label label-info">boolean</span>
    </dt>
    <dd>to sort files by their paths</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise.&lt;Array.&lt;File&gt;&gt;</span></dt>
    <dd></dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype._getAllFilesCache = function _getAllFilesCache(sort) {
        if (!this._allFilesCachePromise) {
            var deferred = new $.Deferred(),
                allFiles = [],
                allFilesVisitor = function (entry) {
                    if (shouldShow(entry)) {
                        if (entry.isFile) {
                            allFiles.push(entry);
                        }
                        return true;
                    }
                    return false;
                };

            this._allFilesCachePromise = deferred.promise();

            var projectIndexTimer = PerfUtils.markStart(&quot;Creating project files cache: &quot; +
                                                        this.projectRoot.fullPath),
                options = {
                    sortList : sort
                };

            this.projectRoot.visit(allFilesVisitor, options, function (err) {
                if (err) {
                    PerfUtils.finalizeMeasurement(projectIndexTimer);
                    deferred.reject(err);
                } else {
                    PerfUtils.addMeasurement(projectIndexTimer);
                    deferred.resolve(allFiles);
                }
            }.bind(this));
        }

        return this._allFilesCachePromise;
    };</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _getDirectoryContents 
        <a class="anchor" href="#ProjectModel-_getDirectoryContents" id="ProjectModel-_getDirectoryContents"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>path to retrieve</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>Resolved with the directory contents.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype._getDirectoryContents = function (path) {
        var d = new $.Deferred();
        FileSystem.getDirectoryForPath(path).getContents(function (err, contents) {
            if (err) {
                d.reject(err);
            } else {
                d.resolve(contents);
            }
        });
        return d.promise();
    };</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _renameItem 
        <a class="anchor" href="#ProjectModel-_renameItem" id="ProjectModel-_renameItem"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        oldPath
        <span class="label label-info">string</span>
    </dt>
    <dd>full path to the current location of file or directory (should include trailing slash for directory)</dd>
    <dt>
        newPath
        <span class="label label-info">string</span>
    </dt>
    <dd>full path to the new location of the file or directory</dd>
    <dt>
        newName
        <span class="label label-info">string</span>
    </dt>
    <dd>new name for the file or directory</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype._renameItem = function (oldPath, newPath, newName) {
        return _renameItem(oldPath, newPath, newName, !_pathIsFile(oldPath));
    };</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _resetCache 
        <a class="anchor" href="#ProjectModel-_resetCache" id="ProjectModel-_resetCache"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype._resetCache = function _resetCache() {
        this._allFilesCachePromise = null;
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        cancelRename 
        <a class="anchor" href="#ProjectModel-cancelRename" id="ProjectModel-cancelRename"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Cancels the rename operation that is in progress. This resolves the original promise with
a RENAME_CANCELLED value.</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.cancelRename = function () {
        var renameInfo = this._selections.rename;
        if (!renameInfo) {
            return;
        }

        &#x2F;&#x2F; File creation is a special case.
        if (renameInfo.type === FILE_CREATING) {
            this._cancelCreating();
            return;
        }

        this._viewModel.moveMarker(&quot;rename&quot;, this.makeProjectRelativeIfPossible(renameInfo.path), null);
        renameInfo.deferred.resolve(RENAME_CANCELLED);
        delete this._selections.rename;
        this.setContext(null);
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        closeSubtree 
        <a class="anchor" href="#ProjectModel-closeSubtree" id="ProjectModel-closeSubtree"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Closes the directory at path and recursively closes all of its children.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>Path of subtree to close</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.closeSubtree = function (path) {
        this._viewModel.closeSubtree(this.makeProjectRelativeIfPossible(path));
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        createAtPath 
        <a class="anchor" href="#ProjectModel-createAtPath" id="ProjectModel-createAtPath"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Creates a file or folder at the given path. Folder paths should have a trailing slash.</p>
<p>If an error comes up during creation, the ERROR_CREATION event is triggered.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>full path to file or folder to create</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>resolved when creation is complete</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.createAtPath = function (path) {
        var isFolder  = !_pathIsFile(path),
            name      = FileUtils.getBaseName(path),
            self      = this;

        return doCreate(path, isFolder).done(function (entry) {
            if (!isFolder) {
                self.selectInWorkingSet(entry.fullPath);
            }
        }).fail(function (error) {
            self.trigger(ERROR_CREATION, {
                type: error,
                name: name,
                isFolder: isFolder
            });
        });
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getAllFiles 
        <a class="anchor" href="#ProjectModel-getAllFiles" id="ProjectModel-getAllFiles"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Returns an Array of all files for this project, optionally including
files additional files provided. Files are filtered out by shouldShow().</p>
</div>
    
<dl>
    <dt>
        filter
        <span class="label label-optional">optional</span>
        <span class="label label-info">function (File, number):boolean</span>
    </dt>
    <dd>Optional function to filter the file list (does not filter directory traversal). API matches Array.filter().</dd>
    <dt>
        additionalFiles
        <span class="label label-optional">optional</span>
        <span class="label label-info">Array.&lt;File&gt;</span>
    </dt>
    <dd>Additional files to include (for example, the WorkingSet) Only adds files that are *not* under the project root or untitled documents.</dd>
    <dt>
        true
        <span class="label label-info">boolean</span>
    </dt>
    <dd>to sort files by their paths </dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>Promise that is resolved with an Array of File objects.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.getAllFiles = function getAllFiles(filter, additionalFiles, sort) {
        &#x2F;&#x2F; The filter and includeWorkingSet params are both optional.
        &#x2F;&#x2F; Handle the case where filter is omitted but includeWorkingSet is
        &#x2F;&#x2F; specified.
        if (additionalFiles === undefined &amp;&amp; typeof (filter) !== &quot;function&quot;) {
            additionalFiles = filter;
            filter = null;
        }

        var filteredFilesDeferred = new $.Deferred();

        &#x2F;&#x2F; First gather all files in project proper
        &#x2F;&#x2F; Note that with proper promises we may be able to fix this so that we&#39;re not doing this
        &#x2F;&#x2F; anti-pattern of creating a separate deferred rather than just chaining off of the promise
        &#x2F;&#x2F; from _getAllFilesCache
        this._getAllFilesCache(sort).done(function (result) {
            &#x2F;&#x2F; Add working set entries, if requested
            if (additionalFiles) {
                additionalFiles.forEach(function (file) {
                    if (result.indexOf(file) === -1 &amp;&amp; !(file instanceof InMemoryFile)) {
                        result.push(file);
                    }
                });
            }

            &#x2F;&#x2F; Filter list, if requested
            if (filter) {
                result = result.filter(filter);
            }

            &#x2F;&#x2F; If a done handler attached to the returned filtered files promise
            &#x2F;&#x2F; throws an exception that isn&#39;t handled here then it will leave
            &#x2F;&#x2F; _allFilesCachePromise in an inconsistent state such that no
            &#x2F;&#x2F; additional done handlers will ever be called!
            try {
                filteredFilesDeferred.resolve(result);
            } catch (e) {
                console.error(&quot;Unhandled exception in getAllFiles handler: &quot; + e, e.stack);
            }
        }).fail(function (err) {
            try {
                filteredFilesDeferred.reject(err);
            } catch (e) {
                console.error(&quot;Unhandled exception in getAllFiles handler: &quot; + e, e.stack);
            }
        });

        return filteredFilesDeferred.promise();
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getBaseUrl 
        <a class="anchor" href="#ProjectModel-getBaseUrl" id="ProjectModel-getBaseUrl"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Returns the encoded Base URL of the currently loaded project, or empty string if no project
is open (during startup, or running outside of app shell).</p>
</div>
    
<dl>
</dl><dl>
    <dt>Returns: <span class="label label-info">String</span></dt>
    <dd></dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.getBaseUrl = function getBaseUrl() {
        return this._projectBaseUrl;
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getContext 
        <a class="anchor" href="#ProjectModel-getContext" id="ProjectModel-getContext"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Gets the currently selected context.</p>
</div>
    
<dl>
</dl><dl>
    <dt>Returns: <span class="label label-info">FileSystemEntry</span></dt>
    <dd>filesystem object for the context file or directory</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.getContext = function () {
        return _getFSObject(this._selections.context);
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getDirectoryInProject 
        <a class="anchor" href="#ProjectModel-getDirectoryInProject" id="ProjectModel-getDirectoryInProject"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Returns a valid directory within the project, either the path (or Directory object)
provided or the project root.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string,Directory</span>
    </dt>
    <dd>Directory path to verify against the project</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">string</span></dt>
    <dd>A directory path within the project.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.getDirectoryInProject = function (path) {
        if (path &amp;&amp; typeof path === &quot;string&quot;) {
            if (_.last(path) !== &quot;&#x2F;&quot;) {
                path += &quot;&#x2F;&quot;;
            }
        } else if (path &amp;&amp; path.isDirectory) {
            path = path.fullPath;
        } else {
            path = null;
        }

        if (!path || (typeof path !== &quot;string&quot;) || !this.isWithinProject(path)) {
            path = this.projectRoot.fullPath;
        }
        return path;
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getOpenNodes 
        <a class="anchor" href="#ProjectModel-getOpenNodes" id="ProjectModel-getOpenNodes"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Gets an array of arrays where each entry of the top-level array has an array
of paths that are at the same depth in the tree. All of the paths are full paths.</p>
</div>
    
<dl>
</dl><dl>
    <dt>Returns: <span class="label label-info">Array.&lt;Array.&lt;string&gt;&gt;</span></dt>
    <dd>Array of array of full paths, organized by depth in the tree.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.getOpenNodes = function () {
        return this._viewModel.getOpenNodes(this.projectRoot.fullPath);
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getSelected 
        <a class="anchor" href="#ProjectModel-getSelected" id="ProjectModel-getSelected"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Gets the currently selected file or directory.</p>
</div>
    
<dl>
</dl><dl>
    <dt>Returns: <span class="label label-info">FileSystemEntry</span></dt>
    <dd>the filesystem object for the currently selected file</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.getSelected = function () {
        return _getFSObject(this._selections.selected);
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleFSEvent 
        <a class="anchor" href="#ProjectModel-handleFSEvent" id="ProjectModel-handleFSEvent"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Handles filesystem change events and prepares the update for the view model.</p>
</div>
    
<dl>
    <dt>
        entry
        <span class="label label-nullable">nullable</span>
        <span class="label label-info">(File, Directory)</span>
    </dt>
    <dd>File or Directory changed</dd>
    <dt>
        added
        <span class="label label-optional">optional</span>
        <span class="label label-info">Array.&lt;FileSystemEntry&gt;</span>
    </dt>
    <dd>If entry is a Directory, contains zero or more added children</dd>
    <dt>
        removed
        <span class="label label-optional">optional</span>
        <span class="label label-info">Array.&lt;FileSystemEntry&gt;</span>
    </dt>
    <dd>If entry is a Directory, contains zero or more removed</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.handleFSEvent = function (entry, added, removed) {
        this._resetCache();

        if (!entry) {
            this.refresh();
            return;
        }

        if (!this.isWithinProject(entry)) {
            return;
        }

        var changes = {},
            self = this;

        if (entry.isFile) {
            changes.changed = [
                this.makeProjectRelativeIfPossible(entry.fullPath)
            ];
        } else {
            &#x2F;&#x2F; Special case: a directory passed in without added and removed values
            &#x2F;&#x2F; needs to be updated.
            if (!added &amp;&amp; !removed) {
                entry.getContents(function (err, contents) {
                    if (err) {
                        console.error(&quot;Unexpected error refreshing file tree for directory &quot; + entry.fullPath + &quot;: &quot; + err, err.stack);
                        return;
                    }
                    self._viewModel.setDirectoryContents(self.makeProjectRelativeIfPossible(entry.fullPath), contents);
                });

                &#x2F;&#x2F; Exit early because we can&#39;t update the viewModel until we get the directory contents.
                return;
            }
        }

        if (added) {
            changes.added = added.map(function (entry) {
                return self.makeProjectRelativeIfPossible(entry.fullPath);
            });
        }

        if (removed) {
            if (this._selections.selected &amp;&amp;
                    _.find(removed, { fullPath: this._selections.selected })) {
                this.setSelected(null);
            }

            if (this._selections.rename &amp;&amp;
                    _.find(removed, { fullPath: this._selections.rename.path })) {
                this.cancelRename();
            }

            if (this._selections.context &amp;&amp;
                    _.find(removed, { fullPath: this._selections.context })) {
                this.setContext(null);
            }
            changes.removed = removed.map(function (entry) {
                return self.makeProjectRelativeIfPossible(entry.fullPath);
            });
        }

        this._viewModel.processChanges(changes);
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        isWithinProject 
        <a class="anchor" href="#ProjectModel-isWithinProject" id="ProjectModel-isWithinProject"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Returns true if absPath lies within the project, false otherwise.
Does not support paths containing &quot;..&quot;</p>
</div>
    
<dl>
    <dt>
        absPathOrEntry
        <span class="label label-info">string,FileSystemEntry</span>
    </dt>
    <dd></dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">boolean</span></dt>
    <dd></dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.isWithinProject = function isWithinProject(absPathOrEntry) {
        var absPath = absPathOrEntry.fullPath || absPathOrEntry;
        return (this.projectRoot &amp;&amp; absPath.indexOf(this.projectRoot.fullPath) === 0);
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        makeProjectRelativeIfPossible 
        <a class="anchor" href="#ProjectModel-makeProjectRelativeIfPossible" id="ProjectModel-makeProjectRelativeIfPossible"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>If absPath lies within the project, returns a project-relative path. Else returns absPath
unmodified.
Does not support paths containing &quot;..&quot;</p>
</div>
    
<dl>
    <dt>
        absPath
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">string</span>
    </dt>
    <dd></dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">!string</span></dt>
    <dd></dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.makeProjectRelativeIfPossible = function makeProjectRelativeIfPossible(absPath) {
        if (absPath &amp;&amp; this.isWithinProject(absPath)) {
            return absPath.slice(this.projectRoot.fullPath.length);
        }
        return absPath;
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        performRename 
        <a class="anchor" href="#ProjectModel-performRename" id="ProjectModel-performRename"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Completes the rename operation that is in progress.</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.performRename = function () {
        var renameInfo = this._selections.rename;
        if (!renameInfo) {
            return;
        }
        var oldPath         = renameInfo.path,
            isFolder        = renameInfo.isFolder || !_pathIsFile(oldPath),
            oldProjectPath  = this.makeProjectRelativeIfPossible(oldPath),

            &#x2F;&#x2F; To get the parent directory, we need to strip off the trailing slash on a directory name
            parentDirectory = FileUtils.getDirectoryPath(isFolder ? FileUtils.stripTrailingSlash(oldPath) : oldPath),
            oldName         = FileUtils.getBaseName(oldPath),
            newPath         = renameInfo.newPath,
            newName         = FileUtils.getBaseName(newPath),
            viewModel       = this._viewModel,
            self            = this;

        if (renameInfo.type !== FILE_CREATING &amp;&amp; oldPath === newPath) {
            this.cancelRename();
            return;
        }

        if (isFolder &amp;&amp; _.last(newPath) !== &quot;&#x2F;&quot;) {
            newPath += &quot;&#x2F;&quot;;
        }

        delete this._selections.rename;
        delete this._selections.context;

        viewModel.moveMarker(&quot;rename&quot;, oldProjectPath, null);
        viewModel.moveMarker(&quot;context&quot;, oldProjectPath, null);
        viewModel.moveMarker(&quot;creating&quot;, oldProjectPath, null);

        function finalizeRename() {
            viewModel.renameItem(oldProjectPath, self.makeProjectRelativeIfPossible(newPath));
            if (self._selections.selected &amp;&amp; self._selections.selected.indexOf(oldPath) === 0) {
                self._selections.selected = newPath + self._selections.selected.slice(oldPath.length);
                self.setCurrentFile(newPath);
            }
        }

        if (renameInfo.type === FILE_CREATING) {
            this.createAtPath(newPath).done(function (entry) {
                finalizeRename();
                renameInfo.deferred.resolve(entry);
            }).fail(function (error) {
                self._viewModel.deleteAtPath(self.makeProjectRelativeIfPossible(renameInfo.path));
                renameInfo.deferred.reject(error);
            });
        } else {
            this._renameItem(oldPath, newPath, newName).then(function () {
                finalizeRename();
                renameInfo.deferred.resolve({
                    newPath: newPath
                });
            }).fail(function (errorType) {
                var errorInfo = {
                    type: errorType,
                    isFolder: isFolder,
                    fullPath: oldPath
                };
                renameInfo.deferred.reject(errorInfo);
            });
        }
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        refresh 
        <a class="anchor" href="#ProjectModel-refresh" id="ProjectModel-refresh"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Clears caches and refreshes the contents of the tree.</p>
</div>
    
<dl>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>resolved when the tree has been refreshed</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.refresh = function () {
        var projectRoot = this.projectRoot,
            openNodes   = this.getOpenNodes(),
            self        = this,
            selections  = this._selections,
            viewModel   = this._viewModel,
            deferred    = new $.Deferred();

        this.setProjectRoot(projectRoot).then(function () {
            self.reopenNodes(openNodes).then(function () {
                if (selections.selected) {
                    viewModel.moveMarker(&quot;selected&quot;, null, self.makeProjectRelativeIfPossible(selections.selected));
                }

                if (selections.context) {
                    viewModel.moveMarker(&quot;context&quot;, null, self.makeProjectRelativeIfPossible(selections.context));
                }

                if (selections.rename) {
                    viewModel.moveMarker(&quot;rename&quot;, null, self.makeProjectRelativeIfPossible(selections.rename));
                }

                deferred.resolve();
            });
        });

        return deferred.promise();
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        reopenNodes 
        <a class="anchor" href="#ProjectModel-reopenNodes" id="ProjectModel-reopenNodes"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Reopens a set of nodes in the tree by full path.</p>
</div>
    
<dl>
    <dt>
        nodesByDepth
        <span class="label label-info">Array.&lt;Array.&lt;string&gt;&gt;</span>
    </dt>
    <dd>An array of arrays of node ids to reopen. The ids within each sub-array are reopened in parallel, and the sub-arrays are reopened in order, so they should be sorted by depth within the tree.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Deferred</span></dt>
    <dd>A promise that will be resolved when all nodes have been fully reopened.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.reopenNodes = function (nodesByDepth) {
        var deferred = new $.Deferred();

        if (!nodesByDepth || nodesByDepth.length === 0) {
            &#x2F;&#x2F; All paths are opened and fully rendered.
            return deferred.resolve().promise();
        } else {
            var self = this;
            return Async.doSequentially(nodesByDepth, function (toOpenPaths) {
                return Async.doInParallel(
                    toOpenPaths,
                    function (path) {
                        return self._getDirectoryContents(path).then(function (contents) {
                            var relative = self.makeProjectRelativeIfPossible(path);
                            self._viewModel.setDirectoryContents(relative, contents);
                            self._viewModel.setDirectoryOpen(relative, true);
                        });
                    },
                    false
                );
            });
        }
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        restoreContext 
        <a class="anchor" href="#ProjectModel-restoreContext" id="ProjectModel-restoreContext"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Restores the context to the last non-null context. This is specifically here to handle
the sequence of messages that we get from the project context menu.</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.restoreContext = function () {
        if (this._selections.previousContext) {
            this.setContext(this._selections.previousContext);
        }
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        selectInWorkingSet 
        <a class="anchor" href="#ProjectModel-selectInWorkingSet" id="ProjectModel-selectInWorkingSet"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Adds the file at the given path to the Working Set and selects it there.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>full path of file to open in Working Set</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.selectInWorkingSet = function (path) {
        this.performRename();
        this.trigger(EVENT_SHOULD_SELECT, {
            path: path,
            add: true
        });
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        setBaseUrl 
        <a class="anchor" href="#ProjectModel-setBaseUrl" id="ProjectModel-setBaseUrl"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Sets the encoded Base URL of the currently loaded project.</p>
</div>
    
<dl>
    <dt>
        
        <span class="label label-info">String</span>
    </dt>
    <dd></dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.setBaseUrl = function setBaseUrl(projectBaseUrl) {
        &#x2F;&#x2F; Ensure trailing slash to be consistent with projectRoot.fullPath
        &#x2F;&#x2F; so they&#39;re interchangable (i.e. easy to convert back and forth)
        if (projectBaseUrl.length &gt; 0 &amp;&amp; projectBaseUrl[projectBaseUrl.length - 1] !== &quot;&#x2F;&quot;) {
            projectBaseUrl += &quot;&#x2F;&quot;;
        }

        this._projectBaseUrl = projectBaseUrl;
        return projectBaseUrl;
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        setContext 
        <a class="anchor" href="#ProjectModel-setContext" id="ProjectModel-setContext"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Sets the context (for context menu operations) to the given path. This is independent from the
open/selected file.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>full path of file or directory to which the context should be setBaseUrl</dd>
    <dt>
        _doNotRename
        <span class="label label-info">boolean</span>
    </dt>
    <dd>True if this context change should not cause a rename operation to finish. This is a special case that goes with context menu handling.</dd>
    <dt>
        _saveContext
        <span class="label label-info">boolean</span>
    </dt>
    <dd>True if the current context should be saved (see comment below)</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.setContext = function (path, _doNotRename, _saveContext) {
        &#x2F;&#x2F; This bit is not ideal: when the user right-clicks on an item in the file tree
        &#x2F;&#x2F; and there is already a context menu up, the FileTreeView sends a signal to set the
        &#x2F;&#x2F; context to the new element but the PopupManager follows that with a message that it&#39;s
        &#x2F;&#x2F; closing the context menu (because it closes the previous one and then opens the new
        &#x2F;&#x2F; one.) This timing means that we need to provide some special case handling here.
        if (_saveContext) {
            if (!path) {
                this._selections.previousContext = this._selections.context;
            } else {
                this._selections.previousContext = path;
            }
        } else {
            delete this._selections.previousContext;
        }

        path = _getPathFromFSObject(path);

        if (!_doNotRename) {
            this.performRename();
        }
        var currentContext = this._selections.context;
        this._selections.context = path;
        this._viewModel.moveMarker(&quot;context&quot;, this.makeProjectRelativeIfPossible(currentContext),
                                   this.makeProjectRelativeIfPossible(path));
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        setCurrentFile 
        <a class="anchor" href="#ProjectModel-setCurrentFile" id="ProjectModel-setCurrentFile"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Keeps track of which file is currently being edited.</p>
</div>
    
<dl>
    <dt>
        curFile
        <span class="label label-info">File,string</span>
    </dt>
    <dd>Currently edited file.</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.setCurrentFile = function (curFile) {
        this._currentPath = _getPathFromFSObject(curFile);
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        setDirectoryOpen 
        <a class="anchor" href="#ProjectModel-setDirectoryOpen" id="ProjectModel-setDirectoryOpen"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Opens or closes the given directory in the file tree.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>Path to open</dd>
    <dt>
        open
        <span class="label label-info">boolean</span>
    </dt>
    <dd>`true` to open the path</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>resolved when the path has been opened.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.setDirectoryOpen = function (path, open) {
        var projectRelative = this.makeProjectRelativeIfPossible(path),
            needsLoading    = !this._viewModel.isPathLoaded(projectRelative),
            d               = new $.Deferred(),
            self            = this;

        function onSuccess(contents) {
            &#x2F;&#x2F; Update the view model
            if (contents) {
                self._viewModel.setDirectoryContents(projectRelative, contents);
            }

            if (open) {
                self._viewModel.openPath(projectRelative);
                if (self._focused) {
                    var currentPathInProject = self.makeProjectRelativeIfPossible(self._currentPath);
                    if (self._viewModel.isFilePathVisible(currentPathInProject)) {
                        self.setSelected(self._currentPath, true);
                    } else {
                        self.setSelected(null);
                    }
                }
            } else {
                self._viewModel.setDirectoryOpen(projectRelative, false);
                var selected = self._selections.selected;
                if (selected) {
                    var relativeSelected = self.makeProjectRelativeIfPossible(selected);
                    if (!self._viewModel.isFilePathVisible(relativeSelected)) {
                        self.setSelected(null);
                    }
                }
            }

            d.resolve();
        }

        &#x2F;&#x2F; If the view model doesn&#39;t have the data it needs, we load it now, otherwise we can just
        &#x2F;&#x2F; manage the selection and resovle the promise.
        if (open &amp;&amp; needsLoading) {
            var parentDirectory = FileUtils.getDirectoryPath(FileUtils.stripTrailingSlash(path));
            this.setDirectoryOpen(parentDirectory, true).then(function () {
                self._getDirectoryContents(path).then(onSuccess).fail(function (err) {
                    d.reject(err);
                });
            }, function (err) {
                d.reject(err);
            });
        } else {
            onSuccess();
        }

        return d.promise();
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        setFocused 
        <a class="anchor" href="#ProjectModel-setFocused" id="ProjectModel-setFocused"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Sets whether the file tree is focused or not.</p>
</div>
    
<dl>
    <dt>
        focused
        <span class="label label-info">boolean</span>
    </dt>
    <dd>True if the file tree has the focus.</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.setFocused = function (focused) {
        this._focused = focused;
        if (!focused) {
            this.setSelected(null);
        }
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        setProjectRoot 
        <a class="anchor" href="#ProjectModel-setProjectRoot" id="ProjectModel-setProjectRoot"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Sets the project root (effectively resetting this ProjectModel).</p>
</div>
    
<dl>
    <dt>
        projectRoot
        <span class="label label-info">Directory</span>
    </dt>
    <dd>new project root</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>resolved when the project root has been updated</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.setProjectRoot = function (projectRoot) {
        this.projectRoot = projectRoot;
        this._resetCache();
        this._viewModel._rootChanged();

        var d = new $.Deferred(),
            self = this;

        projectRoot.getContents(function (err, contents) {
            if (err) {
                d.reject(err);
            } else {
                self._viewModel.setDirectoryContents(&quot;&quot;, contents);
                d.resolve();
            }
        });
        return d.promise();
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        setRenameValue 
        <a class="anchor" href="#ProjectModel-setRenameValue" id="ProjectModel-setRenameValue"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Sets the new value for the rename operation that is in progress (started previously with a call
to <code>startRename</code>).</p>
</div>
    
<dl>
    <dt>
        newPath
        <span class="label label-info">string</span>
    </dt>
    <dd>new path for the file or directory being renamed</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.setRenameValue = function (newPath) {
        if (!this._selections.rename) {
            return;
        }
        this._selections.rename.newPath = newPath;
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        setScrollerInfo 
        <a class="anchor" href="#ProjectModel-setScrollerInfo" id="ProjectModel-setScrollerInfo"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Tracks the scroller position.</p>
</div>
    
<dl>
    <dt>
        scrollWidth
        <span class="label label-info">int</span>
    </dt>
    <dd>Width of the tree container</dd>
    <dt>
        scrollTop
        <span class="label label-info">int</span>
    </dt>
    <dd>Top of scroll position</dd>
    <dt>
        scrollLeft
        <span class="label label-info">int</span>
    </dt>
    <dd>Left of scroll position</dd>
    <dt>
        offsetTop
        <span class="label label-info">int</span>
    </dt>
    <dd>Top of scroller element</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.setScrollerInfo = function (scrollWidth, scrollTop, scrollLeft, offsetTop) {
        this._viewModel.setSelectionScrollerInfo(scrollWidth, scrollTop, scrollLeft, offsetTop);
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        setSelected 
        <a class="anchor" href="#ProjectModel-setSelected" id="ProjectModel-setSelected"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Selects the given path in the file tree and opens the file (unless doNotOpen is specified).
Directories will not be selected.</p>
<p>When the selection changes, any rename operation that is currently underway will be completed.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>full path to the file being selected</dd>
    <dt>
        doNotOpen
        <span class="label label-info">boolean</span>
    </dt>
    <dd>`true` if the file should not be opened.</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.setSelected = function (path, doNotOpen) {
        path = _getPathFromFSObject(path);

        &#x2F;&#x2F; Directories are not selectable
        if (!_pathIsFile(path)) {
            return;
        }

        var oldProjectPath = this.makeProjectRelativeIfPossible(this._selections.selected),
            pathInProject = this.makeProjectRelativeIfPossible(path);

        if (path &amp;&amp; !this._viewModel.isFilePathVisible(pathInProject)) {
            path = null;
            pathInProject = null;
        }

        this.performRename();

        this._viewModel.moveMarker(&quot;selected&quot;, oldProjectPath, pathInProject);
        if (this._selections.context) {
            this._viewModel.moveMarker(&quot;context&quot;, this.makeProjectRelativeIfPossible(this._selections.context), null);
            delete this._selections.context;
        }

        var previousSelection = this._selections.selected;
        this._selections.selected = path;

        if (path) {
            if (!doNotOpen) {
                this.trigger(EVENT_SHOULD_SELECT, {
                    path: path,
                    previousPath: previousSelection,
                    hadFocus: this._focused
                });
            }

            this.trigger(EVENT_SHOULD_FOCUS);
        }
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        setSelectionWidth 
        <a class="anchor" href="#ProjectModel-setSelectionWidth" id="ProjectModel-setSelectionWidth"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Sets the width of the selection bar.</p>
</div>
    
<dl>
    <dt>
        width
        <span class="label label-info">int</span>
    </dt>
    <dd>New width</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.setSelectionWidth = function (width) {
        this._viewModel.setSelectionWidth(width);
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        setSortDirectoriesFirst 
        <a class="anchor" href="#ProjectModel-setSortDirectoriesFirst" id="ProjectModel-setSortDirectoriesFirst"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Sets the <code>sortDirectoriesFirst</code> option for the file tree view.</p>
</div>
    
<dl>
    <dt>
        True
        <span class="label label-info">boolean</span>
    </dt>
    <dd>if directories should appear first</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.setSortDirectoriesFirst = function (sortDirectoriesFirst) {
        this._viewModel.setSortDirectoriesFirst(sortDirectoriesFirst);
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        showInTree 
        <a class="anchor" href="#ProjectModel-showInTree" id="ProjectModel-showInTree"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Shows the given path in the tree and selects it if it&#39;s a file. Any intermediate directories
will be opened and a promise is returned to show when the entire operation is complete.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string,File,Directory</span>
    </dt>
    <dd>full path to the file or directory</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>promise resolved when the path is shown</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.showInTree = function (path) {
        var d = new $.Deferred();
        path = _getPathFromFSObject(path);

        if (!this.isWithinProject(path)) {
            return d.resolve().promise();
        }

        var parentDirectory = FileUtils.getDirectoryPath(path),
            self = this;
        this.setDirectoryOpen(parentDirectory, true).then(function () {
            if (_pathIsFile(path)) {
                self.setSelected(path);
            }
            d.resolve();
        }, function (err) {
            d.reject(err);
        });
        return d.promise();
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        startCreating 
        <a class="anchor" href="#ProjectModel-startCreating" id="ProjectModel-startCreating"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Starts creating a file or folder with the given name in the given directory.</p>
<p>The Promise returned is resolved with an object with a <code>newPath</code> property with the renamed path. If the user cancels the operation, the promise is resolved with the value RENAME_CANCELLED.</p>
</div>
    
<dl>
    <dt>
        basedir
        <span class="label label-info">string</span>
    </dt>
    <dd>directory that should contain the new entry</dd>
    <dt>
        newName
        <span class="label label-info">string</span>
    </dt>
    <dd>initial name for the new entry (the user can rename it)</dd>
    <dt>
        isFolder
        <span class="label label-info">boolean</span>
    </dt>
    <dd>`true` if the entry being created is a folder</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>resolved when the user is done creating the entry.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.startCreating = function (basedir, newName, isFolder) {
        this.performRename();
        var d = new $.Deferred(),
            self = this;

        this.setDirectoryOpen(basedir, true).then(function () {
            self._viewModel.createPlaceholder(self.makeProjectRelativeIfPossible(basedir), newName, isFolder);
            var promise = self.startRename(basedir + newName);
            self._selections.rename.type = FILE_CREATING;
            if (isFolder) {
                self._selections.rename.isFolder = isFolder;
            }
            promise.then(d.resolve).fail(d.reject);
        }).fail(function (err) {
            d.reject(err);
        });
        return d.promise();
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        startRename 
        <a class="anchor" href="#ProjectModel-startRename" id="ProjectModel-startRename"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Starts a rename operation for the file or directory at the given path. If the path is
not provided, the current context is used.</p>
<p>If a rename operation is underway, it will be completed automatically.</p>
<p>The Promise returned is resolved with an object with a <code>newPath</code> property with the renamed path. If the user cancels the operation, the promise is resolved with the value RENAME_CANCELLED.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-optional">optional</span>
        <span class="label label-info">string</span>
    </dt>
    <dd>optional path to start renaming</dd>
    <dt>
        isMoved
        <span class="label label-optional">optional</span>
        <span class="label label-info">boolean</span>
    </dt>
    <dd>optional flag which indicates whether the entry is being moved instead of renamed</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>resolved when the operation is complete.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.startRename = function (path, isMoved) {
        var d = new $.Deferred();
        path = _getPathFromFSObject(path);
        if (!path) {
            path = this._selections.context;
            if (!path) {
                return d.resolve().promise();
            }
        }

        if (this._selections.rename &amp;&amp; this._selections.rename.path === path) {
            return d.resolve().promise();
        }

        if (!this.isWithinProject(path)) {
            return d.reject({
                type: ERROR_NOT_IN_PROJECT,
                isFolder: !_pathIsFile(path),
                fullPath: path
            }).promise();
        }

        var projectRelativePath = this.makeProjectRelativeIfPossible(path);

        if (!this._viewModel.isFilePathVisible(projectRelativePath)) {
            this.showInTree(path);
        }

        if (!isMoved) {
            if (path !== this._selections.context) {
                this.setContext(path);
            } else {
                this.performRename();
            }

            this._viewModel.moveMarker(&quot;rename&quot;, null,
                projectRelativePath);
        }
        this._selections.rename = {
            deferred: d,
            type: FILE_RENAMING,
            path: path,
            newPath: path
        };
        return d.promise();
    };</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        toggleSubdirectories 
        <a class="anchor" href="#ProjectModel-toggleSubdirectories" id="ProjectModel-toggleSubdirectories"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Toggle the open state of subdirectories.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">string</span>
    </dt>
    <dd>parent directory</dd>
    <dt>
        openOrClose
        <span class="label label-info">boolean</span>
    </dt>
    <dd>true to open directory, false to close</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">$.Promise</span></dt>
    <dd>promise resolved when the directories are open</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    ProjectModel.prototype.toggleSubdirectories = function (path, openOrClose) {
        var self = this,
            d = new $.Deferred();

        this.setDirectoryOpen(path, true).then(function () {
            var projectRelativePath = self.makeProjectRelativeIfPossible(path),
                childNodes = self._viewModel.getChildDirectories(projectRelativePath);

            Async.doInParallel(childNodes, function (node) {
                return self.setDirectoryOpen(path + node, openOrClose);
            }, true).then(function () {
                d.resolve();
            }, function (err) {
                d.reject(err);
            });
        });

        return d.promise();
    };</code></pre></div>
        </section>

    </div>

</section>
        </div>
      </div>
    </div>

    <script type="text/javascript" src="../../assets/js/prism.js"></script>
  </body>
</html>
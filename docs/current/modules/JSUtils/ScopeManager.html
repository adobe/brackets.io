<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ScopeManager - Brackets API</title>
    <link rel="stylesheet" href="../../assets/css/bootstrap.css">
    <link rel="stylesheet" href="../../assets/css/typeahead.js-bootstrap.css">
    <link rel="stylesheet" href="../../assets/css/font-awesome.css">
    <link rel="stylesheet" href="../../assets/css/prism.css">
    <link rel="stylesheet" href="../../assets/css/main.css">
    <!--[if IE 7]>
    <link rel="stylesheet" href="../assets/css/font-awesome-ie7.css">
    <![endif]-->
    <script type="text/javascript" src="../../assets/js/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="../../assets/js/bootstrap.js"></script>
    <script type="text/javascript" src="../../assets/js/typeahead.js"></script>
    <script type="text/javascript" src="../../assets/js/main.js"></script>
    <script src="http://use.edgefonts.net/source-sans-pro:n3,i3,n4,i4;source-code-pro.js"></script>

    <!-- Control the Flash of Unstyled Text (or FOUT) -->
    <style type="text/css">
        .wf-loading h1, .wf-loading h2, .wf-loading h3, .wf-loading h4,
        .wf-loading h5, .wf-loading h6, .wf-loading p, .wf-loading a {
            visibility: hidden;
        }
    </style>
    
    <script>
      window.moduleLevel = "../..";
    </script>
  </head>
  
  <body>
    <div class="row-fluid">
      <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
          <div class="container">
            <a class="brand" href="../../index.html">Brackets API</a>
            <div class="nav-collapse collapse">
              <ul class="nav">
                <li><a href="#dependencies">Dependencies</a></li>
                <li><a href="#variables">Variables</a></li>
                <li><a href="#functions">Functions</a></li>
                <li><a href="#classes">Classes</a></li>
              </ul>
            </div>
            <input class="typeahead" placeholder="Search..." type="text" >
          </div>
        </div>
      </div>    </div>
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">
          <div class="left-section">
            <h2 class="number-of-modules">Modules (207)</h2>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_"><i class="icon-folder-open"></i>[root]</a>
              </li>
            </ul>
            <ul id="package_" class="nav nav-list">
              <li><a href="../../modules/brackets.html">brackets</a></li>
              <li><a href="../../modules/dependencies.html">dependencies</a></li>
              <li><a href="../../modules/main.html">main</a></li>
              <li><a href="../../modules/strings.html">strings</a></li>
              <li><a href="../../modules/xorigin.html">xorigin</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_command"><i class="icon-folder-open"></i>command</a>
              </li>
            </ul>
            <ul id="package_command" class="nav nav-list">
              <li><a href="../../modules/command/CommandManager.html">CommandManager</a></li>
              <li><a href="../../modules/command/Commands.html">Commands</a></li>
              <li><a href="../../modules/command/DefaultMenus.html">DefaultMenus</a></li>
              <li><a href="../../modules/command/KeyBindingManager.html">KeyBindingManager</a></li>
              <li><a href="../../modules/command/Menus.html">Menus</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_document"><i class="icon-folder-open"></i>document</a>
              </li>
            </ul>
            <ul id="package_document" class="nav nav-list">
              <li><a href="../../modules/document/ChangedDocumentTracker.html">ChangedDocumentTracker</a></li>
              <li><a href="../../modules/document/Document.html">Document</a></li>
              <li><a href="../../modules/document/DocumentCommandHandlers.html">DocumentCommandHandlers</a></li>
              <li><a href="../../modules/document/DocumentManager.html">DocumentManager</a></li>
              <li><a href="../../modules/document/InMemoryFile.html">InMemoryFile</a></li>
              <li><a href="../../modules/document/TextRange.html">TextRange</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_editor"><i class="icon-folder-open"></i>editor</a>
              </li>
            </ul>
            <ul id="package_editor" class="nav nav-list">
              <li><a href="../../modules/editor/CodeHintList.html">CodeHintList</a></li>
              <li><a href="../../modules/editor/CodeHintManager.html">CodeHintManager</a></li>
              <li><a href="../../modules/editor/CSSInlineEditor.html">CSSInlineEditor</a></li>
              <li><a href="../../modules/editor/Editor.html">Editor</a></li>
              <li><a href="../../modules/editor/EditorCommandHandlers.html">EditorCommandHandlers</a></li>
              <li><a href="../../modules/editor/EditorManager.html">EditorManager</a></li>
              <li><a href="../../modules/editor/EditorOptionHandlers.html">EditorOptionHandlers</a></li>
              <li><a href="../../modules/editor/EditorStatusBar.html">EditorStatusBar</a></li>
              <li><a href="../../modules/editor/ImageViewer.html">ImageViewer</a></li>
              <li><a href="../../modules/editor/InlineTextEditor.html">InlineTextEditor</a></li>
              <li><a href="../../modules/editor/InlineWidget.html">InlineWidget</a></li>
              <li><a href="../../modules/editor/MultiRangeInlineEditor.html">MultiRangeInlineEditor</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_extensibility"><i class="icon-folder-open"></i>extensibility</a>
              </li>
            </ul>
            <ul id="package_extensibility" class="nav nav-list">
              <li><a href="../../modules/extensibility/ExtensionManager.html">ExtensionManager</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerDialog.html">ExtensionManagerDialog</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerView.html">ExtensionManagerView</a></li>
              <li><a href="../../modules/extensibility/ExtensionManagerViewModel.html">ExtensionManagerViewModel</a></li>
              <li><a href="../../modules/extensibility/InstallExtensionDialog.html">InstallExtensionDialog</a></li>
              <li><a href="../../modules/extensibility/Package.html">Package</a></li>
              <li><a href="../../modules/extensibility/registry_utils.html">registry_utils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_features"><i class="icon-folder-open"></i>features</a>
              </li>
            </ul>
            <ul id="package_features" class="nav nav-list">
              <li><a href="../../modules/features/FindReferencesManager.html">FindReferencesManager</a></li>
              <li><a href="../../modules/features/JumpToDefManager.html">JumpToDefManager</a></li>
              <li><a href="../../modules/features/ParameterHintsManager.html">ParameterHintsManager</a></li>
              <li><a href="../../modules/features/PriorityBasedRegistration.html">PriorityBasedRegistration</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_file"><i class="icon-folder-open"></i>file</a>
              </li>
            </ul>
            <ul id="package_file" class="nav nav-list">
              <li><a href="../../modules/file/FileUtils.html">FileUtils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem"><i class="icon-folder-open"></i>filesystem</a>
              </li>
            </ul>
            <ul id="package_filesystem" class="nav nav-list">
              <li><a href="../../modules/filesystem/Directory.html">Directory</a></li>
              <li><a href="../../modules/filesystem/File.html">File</a></li>
              <li><a href="../../modules/filesystem/FileIndex.html">FileIndex</a></li>
              <li><a href="../../modules/filesystem/FileSystem.html">FileSystem</a></li>
              <li><a href="../../modules/filesystem/FileSystemEntry.html">FileSystemEntry</a></li>
              <li><a href="../../modules/filesystem/FileSystemError.html">FileSystemError</a></li>
              <li><a href="../../modules/filesystem/FileSystemStats.html">FileSystemStats</a></li>
              <li><a href="../../modules/filesystem/WatchedRoot.html">WatchedRoot</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem_impls_appshell"><i class="icon-folder-open"></i>filesystem&#x2F;impls&#x2F;appshell</a>
              </li>
            </ul>
            <ul id="package_filesystem_impls_appshell" class="nav nav-list">
              <li><a href="../../modules/filesystem/impls/appshell/AppshellFileSystem.html">AppshellFileSystem</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem_impls_appshell_node"><i class="icon-folder-open"></i>filesystem&#x2F;impls&#x2F;appshell&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_filesystem_impls_appshell_node" class="nav nav-list">
              <li><a href="../../modules/filesystem/impls/appshell/node/ChokidarWatcher.html">ChokidarWatcher</a></li>
              <li><a href="../../modules/filesystem/impls/appshell/node/CSharpWatcher.html">CSharpWatcher</a></li>
              <li><a href="../../modules/filesystem/impls/appshell/node/FileWatcherDomain.html">FileWatcherDomain</a></li>
              <li><a href="../../modules/filesystem/impls/appshell/node/FileWatcherManager.html">FileWatcherManager</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_help"><i class="icon-folder-open"></i>help</a>
              </li>
            </ul>
            <ul id="package_help" class="nav nav-list">
              <li><a href="../../modules/help/HelpCommandHandlers.html">HelpCommandHandlers</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_JSUtils"><i class="icon-folder-open"></i>JSUtils</a>
              </li>
            </ul>
            <ul id="package_JSUtils" class="nav nav-list">
              <li><a href="../../modules/JSUtils/HintUtils.html">HintUtils</a></li>
              <li><a href="../../modules/JSUtils/MessageIds.html">MessageIds</a></li>
              <li><a href="../../modules/JSUtils/Preferences.html">Preferences</a></li>
              <li><a href="../../modules/JSUtils/ScopeManager.html">ScopeManager</a></li>
              <li><a href="../../modules/JSUtils/Session.html">Session</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_JSUtils_node"><i class="icon-folder-open"></i>JSUtils&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_JSUtils_node" class="nav nav-list">
              <li><a href="../../modules/JSUtils/node/ExtractFileContent.html">ExtractFileContent</a></li>
              <li><a href="../../modules/JSUtils/node/TernNodeDomain.html">TernNodeDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_language"><i class="icon-folder-open"></i>language</a>
              </li>
            </ul>
            <ul id="package_language" class="nav nav-list">
              <li><a href="../../modules/language/CodeInspection.html">CodeInspection</a></li>
              <li><a href="../../modules/language/CSSUtils.html">CSSUtils</a></li>
              <li><a href="../../modules/language/HTMLDOMDiff.html">HTMLDOMDiff</a></li>
              <li><a href="../../modules/language/HTMLInstrumentation.html">HTMLInstrumentation</a></li>
              <li><a href="../../modules/language/HTMLSimpleDOM.html">HTMLSimpleDOM</a></li>
              <li><a href="../../modules/language/HTMLTokenizer.html">HTMLTokenizer</a></li>
              <li><a href="../../modules/language/HTMLUtils.html">HTMLUtils</a></li>
              <li><a href="../../modules/language/JSONUtils.html">JSONUtils</a></li>
              <li><a href="../../modules/language/JSUtils.html">JSUtils</a></li>
              <li><a href="../../modules/language/LanguageManager.html">LanguageManager</a></li>
              <li><a href="../../modules/language/XMLUtils.html">XMLUtils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_languageTools"><i class="icon-folder-open"></i>languageTools</a>
              </li>
            </ul>
            <ul id="package_languageTools" class="nav nav-list">
              <li><a href="../../modules/languageTools/BracketsToNodeInterface.html">BracketsToNodeInterface</a></li>
              <li><a href="../../modules/languageTools/ClientLoader.html">ClientLoader</a></li>
              <li><a href="../../modules/languageTools/DefaultEventHandlers.html">DefaultEventHandlers</a></li>
              <li><a href="../../modules/languageTools/DefaultProviders.html">DefaultProviders</a></li>
              <li><a href="../../modules/languageTools/LanguageClientWrapper.html">LanguageClientWrapper</a></li>
              <li><a href="../../modules/languageTools/LanguageTools.html">LanguageTools</a></li>
              <li><a href="../../modules/languageTools/PathConverters.html">PathConverters</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_languageTools_LanguageClient"><i class="icon-folder-open"></i>languageTools&#x2F;LanguageClient</a>
              </li>
            </ul>
            <ul id="package_languageTools_LanguageClient" class="nav nav-list">
              <li><a href="../../modules/languageTools/LanguageClient/Connection.html">Connection</a></li>
              <li><a href="../../modules/languageTools/LanguageClient/LanguageClient.html">LanguageClient</a></li>
              <li><a href="../../modules/languageTools/LanguageClient/NodeToBracketsInterface.html">NodeToBracketsInterface</a></li>
              <li><a href="../../modules/languageTools/LanguageClient/ProtocolAdapter.html">ProtocolAdapter</a></li>
              <li><a href="../../modules/languageTools/LanguageClient/ServerUtils.html">ServerUtils</a></li>
              <li><a href="../../modules/languageTools/LanguageClient/Utils.html">Utils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_languageTools_node"><i class="icon-folder-open"></i>languageTools&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_languageTools_node" class="nav nav-list">
              <li><a href="../../modules/languageTools/node/RegisterLanguageClientInfo.html">RegisterLanguageClientInfo</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Agents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Agents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Agents" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Agents/ConsoleAgent.html">ConsoleAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/CSSAgent.html">CSSAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMAgent.html">DOMAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMHelpers.html">DOMHelpers</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/DOMNode.html">DOMNode</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/EditAgent.html">EditAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/GotoAgent.html">GotoAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/HighlightAgent.html">HighlightAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/NetworkAgent.html">NetworkAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/RemoteAgent.html">RemoteAgent</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/RemoteFunctions.html">RemoteFunctions</a></li>
              <li><a href="../../modules/LiveDevelopment/Agents/ScriptAgent.html">ScriptAgent</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Documents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Documents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Documents" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Documents/CSSDocument.html">CSSDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/CSSPreprocessorDocument.html">CSSPreprocessorDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/HTMLDocument.html">HTMLDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/Documents/JSDocument.html">JSDocument</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Inspector"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Inspector</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Inspector" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Inspector/Inspector.html">Inspector</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment"><i class="icon-folder-open"></i>LiveDevelopment</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/LiveDevelopment.html">LiveDevelopment</a></li>
              <li><a href="../../modules/LiveDevelopment/LiveDevelopmentUtils.html">LiveDevelopmentUtils</a></li>
              <li><a href="../../modules/LiveDevelopment/LiveDevMultiBrowser.html">LiveDevMultiBrowser</a></li>
              <li><a href="../../modules/LiveDevelopment/LiveDevServerManager.html">LiveDevServerManager</a></li>
              <li><a href="../../modules/LiveDevelopment/main.html">main</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_documents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;documents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_documents" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/documents/LiveCSSDocument.html">LiveCSSDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/documents/LiveDocument.html">LiveDocument</a></li>
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/documents/LiveHTMLDocument.html">LiveHTMLDocument</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_language"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;language</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_language" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/language/HTMLInstrumentation.html">HTMLInstrumentation</a></li>
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/language/HTMLSimpleDOM.html">HTMLSimpleDOM</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_launchers"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;launchers</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_launchers" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/launchers/Launcher.html">Launcher</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_launchers_node"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;launchers&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_launchers_node" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/launchers/node/LauncherDomain.html">LauncherDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_protocol"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;protocol</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_protocol" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/protocol/LiveDevProtocol.html">LiveDevProtocol</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_protocol_remote"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;protocol&#x2F;remote</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_protocol_remote" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/protocol/remote/DocumentObserver.html">DocumentObserver</a></li>
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/protocol/remote/LiveDevProtocolRemote.html">LiveDevProtocolRemote</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_transports_node"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;transports&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_transports_node" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/transports/node/NodeSocketTransportDomain.html">NodeSocketTransportDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_transports"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;transports</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_transports" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/transports/NodeSocketTransport.html">NodeSocketTransport</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_transports_remote"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;transports&#x2F;remote</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_transports_remote" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/MultiBrowserImpl/transports/remote/NodeSocketTransportRemote.html">NodeSocketTransportRemote</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Servers"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Servers</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Servers" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/Servers/BaseServer.html">BaseServer</a></li>
              <li><a href="../../modules/LiveDevelopment/Servers/FileServer.html">FileServer</a></li>
              <li><a href="../../modules/LiveDevelopment/Servers/UserServer.html">UserServer</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_transports_node"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;transports&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_transports_node" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/transports/node/WebSocketTransportDomain.html">WebSocketTransportDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_transports"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;transports</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_transports" class="nav nav-list">
              <li><a href="../../modules/LiveDevelopment/transports/WebSocketTransport.html">WebSocketTransport</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_preferences"><i class="icon-folder-open"></i>preferences</a>
              </li>
            </ul>
            <ul id="package_preferences" class="nav nav-list">
              <li><a href="../../modules/preferences/PreferencesBase.html">PreferencesBase</a></li>
              <li><a href="../../modules/preferences/PreferencesDialogs.html">PreferencesDialogs</a></li>
              <li><a href="../../modules/preferences/PreferencesImpl.html">PreferencesImpl</a></li>
              <li><a href="../../modules/preferences/PreferencesManager.html">PreferencesManager</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_project"><i class="icon-folder-open"></i>project</a>
              </li>
            </ul>
            <ul id="package_project" class="nav nav-list">
              <li><a href="../../modules/project/FileSyncManager.html">FileSyncManager</a></li>
              <li><a href="../../modules/project/FileTreeView.html">FileTreeView</a></li>
              <li><a href="../../modules/project/FileTreeViewModel.html">FileTreeViewModel</a></li>
              <li><a href="../../modules/project/FileViewController.html">FileViewController</a></li>
              <li><a href="../../modules/project/ProjectManager.html">ProjectManager</a></li>
              <li><a href="../../modules/project/ProjectModel.html">ProjectModel</a></li>
              <li><a href="../../modules/project/SidebarView.html">SidebarView</a></li>
              <li><a href="../../modules/project/WorkingSetSort.html">WorkingSetSort</a></li>
              <li><a href="../../modules/project/WorkingSetView.html">WorkingSetView</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_search"><i class="icon-folder-open"></i>search</a>
              </li>
            </ul>
            <ul id="package_search" class="nav nav-list">
              <li><a href="../../modules/search/FileFilters.html">FileFilters</a></li>
              <li><a href="../../modules/search/FindBar.html">FindBar</a></li>
              <li><a href="../../modules/search/FindInFiles.html">FindInFiles</a></li>
              <li><a href="../../modules/search/FindInFilesUI.html">FindInFilesUI</a></li>
              <li><a href="../../modules/search/FindReplace.html">FindReplace</a></li>
              <li><a href="../../modules/search/FindUtils.html">FindUtils</a></li>
              <li><a href="../../modules/search/QuickOpen.html">QuickOpen</a></li>
              <li><a href="../../modules/search/QuickOpenHelper.html">QuickOpenHelper</a></li>
              <li><a href="../../modules/search/QuickSearchField.html">QuickSearchField</a></li>
              <li><a href="../../modules/search/ScrollTrackMarkers.html">ScrollTrackMarkers</a></li>
              <li><a href="../../modules/search/SearchModel.html">SearchModel</a></li>
              <li><a href="../../modules/search/SearchResultsView.html">SearchResultsView</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_search_node"><i class="icon-folder-open"></i>search&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_search_node" class="nav nav-list">
              <li><a href="../../modules/search/node/FindInFilesDomain.html">FindInFilesDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_utils"><i class="icon-folder-open"></i>utils</a>
              </li>
            </ul>
            <ul id="package_utils" class="nav nav-list">
              <li><a href="../../modules/utils/AnimationUtils.html">AnimationUtils</a></li>
              <li><a href="../../modules/utils/AppInit.html">AppInit</a></li>
              <li><a href="../../modules/utils/Async.html">Async</a></li>
              <li><a href="../../modules/utils/BuildInfoUtils.html">BuildInfoUtils</a></li>
              <li><a href="../../modules/utils/ColorUtils.html">ColorUtils</a></li>
              <li><a href="../../modules/utils/Compatibility.html">Compatibility</a></li>
              <li><a href="../../modules/utils/DeprecationWarning.html">DeprecationWarning</a></li>
              <li><a href="../../modules/utils/DragAndDrop.html">DragAndDrop</a></li>
              <li><a href="../../modules/utils/DropdownEventHandler.html">DropdownEventHandler</a></li>
              <li><a href="../../modules/utils/EventDispatcher.html">EventDispatcher</a></li>
              <li><a href="../../modules/utils/ExtensionLoader.html">ExtensionLoader</a></li>
              <li><a href="../../modules/utils/ExtensionUtils.html">ExtensionUtils</a></li>
              <li><a href="../../modules/utils/Global.html">Global</a></li>
              <li><a href="../../modules/utils/HealthLogger.html">HealthLogger</a></li>
              <li><a href="../../modules/utils/KeyEvent.html">KeyEvent</a></li>
              <li><a href="../../modules/utils/LocalizationUtils.html">LocalizationUtils</a></li>
              <li><a href="../../modules/utils/NativeApp.html">NativeApp</a></li>
              <li><a href="../../modules/utils/NodeConnection.html">NodeConnection</a></li>
              <li><a href="../../modules/utils/NodeDomain.html">NodeDomain</a></li>
              <li><a href="../../modules/utils/PerfUtils.html">PerfUtils</a></li>
              <li><a href="../../modules/utils/Resizer.html">Resizer</a></li>
              <li><a href="../../modules/utils/ShellAPI.html">ShellAPI</a></li>
              <li><a href="../../modules/utils/StringMatch.html">StringMatch</a></li>
              <li><a href="../../modules/utils/StringUtils.html">StringUtils</a></li>
              <li><a href="../../modules/utils/TokenUtils.html">TokenUtils</a></li>
              <li><a href="../../modules/utils/UpdateNotification.html">UpdateNotification</a></li>
              <li><a href="../../modules/utils/UrlParams.html">UrlParams</a></li>
              <li><a href="../../modules/utils/ValidationUtils.html">ValidationUtils</a></li>
              <li><a href="../../modules/utils/ViewUtils.html">ViewUtils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_view"><i class="icon-folder-open"></i>view</a>
              </li>
            </ul>
            <ul id="package_view" class="nav nav-list">
              <li><a href="../../modules/view/MainViewFactory.html">MainViewFactory</a></li>
              <li><a href="../../modules/view/MainViewManager.html">MainViewManager</a></li>
              <li><a href="../../modules/view/Pane.html">Pane</a></li>
              <li><a href="../../modules/view/ThemeManager.html">ThemeManager</a></li>
              <li><a href="../../modules/view/ThemeSettings.html">ThemeSettings</a></li>
              <li><a href="../../modules/view/ThemeView.html">ThemeView</a></li>
              <li><a href="../../modules/view/ViewCommandHandlers.html">ViewCommandHandlers</a></li>
              <li><a href="../../modules/view/ViewStateManager.html">ViewStateManager</a></li>
              <li><a href="../../modules/view/WorkspaceManager.html">WorkspaceManager</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_widgets"><i class="icon-folder-open"></i>widgets</a>
              </li>
            </ul>
            <ul id="package_widgets" class="nav nav-list">
              <li><a href="../../modules/widgets/bootstrap-alerts.html">bootstrap-alerts</a></li>
              <li><a href="../../modules/widgets/bootstrap-button.html">bootstrap-button</a></li>
              <li><a href="../../modules/widgets/bootstrap-dropdown.html">bootstrap-dropdown</a></li>
              <li><a href="../../modules/widgets/bootstrap-modal.html">bootstrap-modal</a></li>
              <li><a href="../../modules/widgets/bootstrap-popover.html">bootstrap-popover</a></li>
              <li><a href="../../modules/widgets/bootstrap-scrollspy.html">bootstrap-scrollspy</a></li>
              <li><a href="../../modules/widgets/bootstrap-tab.html">bootstrap-tab</a></li>
              <li><a href="../../modules/widgets/bootstrap-tooltip.html">bootstrap-tooltip</a></li>
              <li><a href="../../modules/widgets/bootstrap-twipsy-mod.html">bootstrap-twipsy-mod</a></li>
              <li><a href="../../modules/widgets/DefaultDialogs.html">DefaultDialogs</a></li>
              <li><a href="../../modules/widgets/Dialogs.html">Dialogs</a></li>
              <li><a href="../../modules/widgets/DropdownButton.html">DropdownButton</a></li>
              <li><a href="../../modules/widgets/infobar.html">infobar</a></li>
              <li><a href="../../modules/widgets/InlineMenu.html">InlineMenu</a></li>
              <li><a href="../../modules/widgets/ModalBar.html">ModalBar</a></li>
              <li><a href="../../modules/widgets/PopUpManager.html">PopUpManager</a></li>
              <li><a href="../../modules/widgets/StatusBar.html">StatusBar</a></li>
            </ul>
          </div>
        </div>
        <div class="module span9">
<h1>ScopeManager</h1>


<section class="description">
    <h3>Description</h3>
    
    <div></div>
    
</section>

<section id="dependencies">
    <h3>Dependencies</h3>

    <ul class="nav nav-list">
        <li><a href="..&#x2F;../modules/thirdparty/CodeMirror/lib/codemirror.html">codemirror</a></li>
        <li><a href="..&#x2F;../modules/widgets/DefaultDialogs.html">DefaultDialogs</a></li>
        <li><a href="..&#x2F;../modules/widgets/Dialogs.html">Dialogs</a></li>
        <li><a href="..&#x2F;../modules/document/DocumentManager.html">DocumentManager</a></li>
        <li><a href="..&#x2F;../modules/editor/EditorManager.html">EditorManager</a></li>
        <li><a href="..&#x2F;../modules/utils/ExtensionUtils.html">ExtensionUtils</a></li>
        <li><a href="..&#x2F;../modules/filesystem/FileSystem.html">FileSystem</a></li>
        <li><a href="..&#x2F;../modules/file/FileUtils.html">FileUtils</a></li>
        <li><a href="..&#x2F;../modules/./HintUtils.html">HintUtils</a></li>
        <li><a href="..&#x2F;../modules/document/InMemoryFile.html">InMemoryFile</a></li>
        <li><a href="..&#x2F;../modules/language/LanguageManager.html">LanguageManager</a></li>
        <li><a href="..&#x2F;../modules/thirdparty/lodash.html">lodash</a></li>
        <li><a href="..&#x2F;../modules/./MessageIds.html">MessageIds</a></li>
        <li><a href="..&#x2F;../modules/utils/NodeDomain.html">NodeDomain</a></li>
        <li><a href="..&#x2F;../modules/./Preferences.html">Preferences</a></li>
        <li><a href="..&#x2F;../modules/preferences/PreferencesManager.html">PreferencesManager</a></li>
        <li><a href="..&#x2F;../modules/project/ProjectManager.html">ProjectManager</a></li>
        <li><a href="..&#x2F;../modules/strings.html">strings</a></li>
        <li><a href="..&#x2F;../modules/utils/StringUtils.html">StringUtils</a></li>
    </ul>

</section>

<section id="functions">

    <h3>Functions 
<label class="checkbox">
    <input class="toggle-public" type="checkbox"> Show Private Members
</label>    </h3>

<div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        TernModule 
        <a class="anchor" href="#-TernModule" id="-TernModule"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Encapsulate all the logic to talk to the tern module.  This will create
a new instance of a TernModule, which the rest of the hinting code can use to talk
to the tern node domain, without worrying about initialization, priming the pump, etc.</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function TernModule() {
        var ternPromise         = null,
            addFilesPromise     = null,
            rootTernDir         = null,
            projectRoot         = null,
            stopAddingFiles     = false,
            resolvedFiles       = {},       &#x2F;&#x2F; file -&gt; resolved file
            numInitialFiles     = 0,
            numResolvedFiles    = 0,
            numAddedFiles       = 0,
            _ternNodeDomain     = null;</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>
        _maybeReset 
        <a class="anchor" href="#-_maybeReset" id="-_maybeReset"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>reset the tern module, if necessary.  </p>
<p>During debugging, you can turn this automatic resetting behavior off
by running this in the console:
brackets._configureJSCodeHints({ noReset: true })</p>
<p>This function is also used in unit testing with the &quot;force&quot; flag to
reset the module for each test to start with a clean environment.</p>
</div>
    
<dl>
    <dt>
        session
        <span class="label label-info">Session</span>
    </dt>
    <dd></dd>
    <dt>
        document
        <span class="label label-info">Document</span>
    </dt>
    <dd></dd>
    <dt>
        force
        <span class="label label-info">boolean</span>
    </dt>
    <dd>true to force a reset regardless of how long since the last one</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">Promise</span></dt>
    <dd>Promise resolved when the module is ready. The new (or current, if there was no reset) module is passed to the callback.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _maybeReset(session, document, force) {
        var newTernModule;
        &#x2F;&#x2F; if we&#39;re in the middle of a reset, don&#39;t have to check
        &#x2F;&#x2F; the new module will be online soon
        if (!resettingDeferred) {

            &#x2F;&#x2F; We don&#39;t reset if the debugging flag is set
            &#x2F;&#x2F; because it&#39;s easier to debug if the module isn&#39;t
            &#x2F;&#x2F; getting reset all the time.
            if (currentModule.resetForced || force || (!config.noReset &amp;&amp; ++_hintCount &gt; MAX_HINTS)) {
                if (config.debug) {
                    console.debug(&quot;Resetting tern module&quot;);
                }

                resettingDeferred = new $.Deferred();
                newTernModule = new TernModule();
                newTernModule.handleEditorChange(session, document, null);
                newTernModule.whenReady(function () {
                    &#x2F;&#x2F; reset the old module
                    currentModule.resetModule();
                    currentModule = newTernModule;
                    resettingDeferred.resolve(currentModule);
                    &#x2F;&#x2F; all done reseting
                    resettingDeferred = null;
                });
                _hintCount = 0;
            } else {
                var d = new $.Deferred();
                d.resolve(currentModule);
                return d.promise();
            }
        }

        return resettingDeferred.promise();
    }</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _postMessageByPass 
        <a class="anchor" href="#-_postMessageByPass" id="-_postMessageByPass"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Send a message to the tern node domain - this is only for messages that
need to be sent before and while the addFilesPromise is being resolved.</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">        function _postMessageByPass(msg) {
            ternPromise.done(function (ternModule) {
                if (config.debug) {
                    console.debug(&quot;Sending message&quot;, msg);
                }
                _ternNodeDomain.exec(&quot;invokeTernCommand&quot;, msg);
            });
        }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>
        _readyPromise 
        <a class="anchor" href="#-_readyPromise" id="-_readyPromise"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Used to avoid timing bugs in unit tests</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _readyPromise() {
        return deferredPreferences;
    }</code></pre></div><div class="member private public">

<span class="pull-right scope">
    Private
    Public API
</span>
    <h4>
        _setConfig 
        <a class="anchor" href="#-_setConfig" id="-_setConfig"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function _setConfig(configUpdate) {
        config = brackets._configureJSCodeHints.config;
        postMessage({
            type: MessageIds.SET_CONFIG,
            config: configUpdate
        });
    }

    exports._setConfig = _setConfig;
    exports._maybeReset = _maybeReset;
    exports.getBuiltins = getBuiltins;
    exports.getResolvedPath = getResolvedPath;
    exports.getTernHints = getTernHints;
    exports.handleEditorChange = handleEditorChange;
    exports.requestGuesses = requestGuesses;
    exports.handleFileChange = handleFileChange;
    exports.requestHints = requestHints;
    exports.requestJumptoDef = requestJumptoDef;
    exports.requestParameterHint = requestParameterHint;
    exports.handleProjectClose = handleProjectClose;
    exports.handleProjectOpen = handleProjectOpen;
    exports._readyPromise = _readyPromise;
    exports.filterText = filterText;
    exports.postMessage = postMessage;
    exports.addPendingRequest = addPendingRequest;
});</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        addAllFilesAndSubdirectories 
        <a class="anchor" href="#-addAllFilesAndSubdirectories" id="-addAllFilesAndSubdirectories"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Add the files in the directory and subdirectories of a given directory
 to tern.</p>
</div>
    
<dl>
    <dt>
        dir
        <span class="label label-info">string</span>
    </dt>
    <dd>the root directory to add.</dd>
    <dt>
        doneCallback
        <span class="label label-info">function ()</span>
    </dt>
    <dd>called when all files have been added to tern.</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">        function addAllFilesAndSubdirectories(dir, doneCallback) {
            FileSystem.resolve(dir, function (err, directory) {
                function visitor(entry) {
                    if (entry.isFile) {
                        if (!isFileExcluded(entry)) { &#x2F;&#x2F; ignore .dotfiles and non-.js files
                            addFilesToTern([entry.fullPath]);
                        }
                    } else {
                        return !isDirectoryExcluded(entry.fullPath) &amp;&amp;
                            entry.name.indexOf(&quot;.&quot;) !== 0 &amp;&amp;
                            !stopAddingFiles;
                    }
                }

                if (err) {
                    return;
                }

                if (dir === FileSystem.getDirectoryForPath(rootTernDir)) {
                    doneCallback();
                    return;
                }

                directory.visit(visitor, doneCallback);
            });
        }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        addFilesToTern 
        <a class="anchor" href="#-addFilesToTern" id="-addFilesToTern"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Add new files to tern, keeping any previous files.
 The tern server must be initialized before making
 this call.</p>
</div>
    
<dl>
    <dt>
        files
        <span class="label label-info">Array.&lt;string&gt;</span>
    </dt>
    <dd>array of file to add to tern.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">boolean</span></dt>
    <dd>- true if more files may be added, false if maximum has been reached.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">        function addFilesToTern(files) {
            &#x2F;&#x2F; limit the number of files added to tern.
            var maxFileCount = preferences.getMaxFileCount();
            if (numResolvedFiles + numAddedFiles &lt; maxFileCount) {
                var available = maxFileCount - numResolvedFiles - numAddedFiles;

                if (available &lt; files.length) {
                    files = files.slice(0, available);
                }

                numAddedFiles += files.length;
                ternPromise.done(function (ternModule) {
                    var msg = {
                        type        : MessageIds.TERN_ADD_FILES_MSG,
                        files       : files
                    };

                    if (config.debug) {
                        console.debug(&quot;Sending message&quot;, msg);
                    }
                    _ternNodeDomain.exec(&quot;invokeTernCommand&quot;, msg);
                });

            } else {
                stopAddingFiles = true;
            }

            return stopAddingFiles;
        }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        addPendingRequest 
        <a class="anchor" href="#-addPendingRequest" id="-addPendingRequest"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Add a pending request waiting for the tern-module to complete.
If file is a detected exclusion, then reject request.</p>
</div>
    
<dl>
    <dt>
        file
        <span class="label label-info">string</span>
    </dt>
    <dd>the name of the file</dd>
    <dt>
        offset
        <span class="label label-info">{line: number,ch: number}</span>
    </dt>
    <dd>the offset into the file the request is for</dd>
    <dt>
        type
        <span class="label label-info">string</span>
    </dt>
    <dd>the type of request</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">jQuery.Promise</span></dt>
    <dd>- the promise for the request</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function addPendingRequest(file, offset, type) {
        var requests,
            key = file + &quot;@&quot; + offset.line + &quot;@&quot; + offset.ch,
            $deferredRequest;

        &#x2F;&#x2F; Reject detected exclusions
        if (isFileExcludedInternal(file)) {
            return (new $.Deferred()).reject().promise();
        }

        if (_.has(pendingTernRequests, key)) {
            requests = pendingTernRequests[key];
        } else {
            requests = {};
            pendingTernRequests[key] = requests;
        }

        if (_.has(requests, type)) {
            $deferredRequest = requests[type];
        } else {
            requests[type] = $deferredRequest = new $.Deferred();
        }
        return $deferredRequest.promise();
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        canSkipTernInitialization 
        <a class="anchor" href="#-canSkipTernInitialization" id="-canSkipTernInitialization"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>We can skip tern initialization if we are opening a file that has
 already been added to tern.</p>
</div>
    
<dl>
    <dt>
        newFile
        <span class="label label-info">string</span>
    </dt>
    <dd>full path of new file being opened in the editor.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">boolean</span></dt>
    <dd>- true if tern initialization should be skipped, false otherwise.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">        function canSkipTernInitialization(newFile) {
            return resolvedFiles[newFile] !== undefined;
        }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        doEditorChange 
        <a class="anchor" href="#-doEditorChange" id="-doEditorChange"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Do the work to initialize a code hinting session.</p>
</div>
    
<dl>
    <dt>
        session
        <span class="label label-info">Session</span>
    </dt>
    <dd>the active hinting session (TODO: currently unused)</dd>
    <dt>
        document
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">Document</span>
    </dt>
    <dd>the document the editor has changed to</dd>
    <dt>
        previousDocument
        <span class="label label-nullable">nullable</span>
        <span class="label label-info">Document</span>
    </dt>
    <dd>the document the editor has changed from</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">        function doEditorChange(session, document, previousDocument) {
            var file        = document.file,
                path        = file.fullPath,
                dir         = file.parentPath,
                pr;

            var addFilesDeferred = $.Deferred();

            documentChanges = null;
            addFilesPromise = addFilesDeferred.promise();
            pr = ProjectManager.getProjectRoot() ? ProjectManager.getProjectRoot().fullPath : null;

            &#x2F;&#x2F; avoid re-initializing tern if possible.
            if (canSkipTernInitialization(path)) {

                &#x2F;&#x2F; update the previous document in tern to prevent stale files.
                if (isDocumentDirty &amp;&amp; previousDocument) {
                    var updateFilePromise = updateTernFile(previousDocument);
                    updateFilePromise.done(function () {
                        primePump(path, document.isUntitled());
                        addFilesDeferred.resolveWith(null, [_ternNodeDomain]);
                    });
                } else {
                    addFilesDeferred.resolveWith(null, [_ternNodeDomain]);
                }

                isDocumentDirty = false;
                return;
            }
            
            if (previousDocument &amp;&amp; previousDocument.isDirty) {
                updateTernFile(previousDocument);
            }
    
            isDocumentDirty = false;
            resolvedFiles = {};
            projectRoot = pr;

            ensurePreferences();
            deferredPreferences.done(function () {
                if (file instanceof InMemoryFile) {
                    initTernServer(pr, []);
                    var hintsPromise = primePump(path, true);
                    hintsPromise.done(function () {
                        addFilesDeferred.resolveWith(null, [_ternNodeDomain]);
                    });
                    return;
                }

                FileSystem.resolve(dir, function (err, directory) {
                    if (err) {
                        console.error(&quot;Error resolving&quot;, dir);
                        addFilesDeferred.resolveWith(null);
                        return;
                    }

                    directory.getContents(function (err, contents) {
                        if (err) {
                            console.error(&quot;Error getting contents for&quot;, directory);
                            addFilesDeferred.resolveWith(null);
                            return;
                        }

                        var files = contents
                            .filter(function (entry) {
                                return entry.isFile &amp;&amp; !isFileExcluded(entry);
                            })
                            .map(function (entry) {
                                return entry.fullPath;
                            });

                        initTernServer(dir, files);

                        var hintsPromise = primePump(path, false);
                        hintsPromise.done(function () {
                            if (!usingModules()) {
                                &#x2F;&#x2F; Read the subdirectories of the new file&#39;s directory.
                                &#x2F;&#x2F; Read them first in case there are too many files to
                                &#x2F;&#x2F; read in the project.
                                addAllFilesAndSubdirectories(dir, function () {
                                    &#x2F;&#x2F; If the file is in the project root, then read
                                    &#x2F;&#x2F; all the files under the project root.
                                    var currentDir = (dir + &quot;&#x2F;&quot;);
                                    if (projectRoot &amp;&amp; currentDir !== projectRoot &amp;&amp;
                                            currentDir.indexOf(projectRoot) === 0) {
                                        addAllFilesAndSubdirectories(projectRoot, function () {
                                            &#x2F;&#x2F; prime the pump again but this time don&#39;t wait
                                            &#x2F;&#x2F; for completion.
                                            primePump(path, false);
                                            addFilesDeferred.resolveWith(null, [_ternNodeDomain]);
                                        });
                                    } else {
                                        addFilesDeferred.resolveWith(null, [_ternNodeDomain]);
                                    }
                                });
                            } else {
                                addFilesDeferred.resolveWith(null, [_ternNodeDomain]);
                            }
                        });
                    });
                });
            });
        }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        ensurePreferences 
        <a class="anchor" href="#-ensurePreferences" id="-ensurePreferences"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Will initialize preferences only if they do not exist.</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function ensurePreferences() {
        if (!deferredPreferences) {
            initPreferences();
        }
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        filterText 
        <a class="anchor" href="#-filterText" id="-filterText"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>check to see if the text we are sending to Tern is too long.</p>
</div>
    
<dl>
    <dt>
        the
        <span class="label label-info">string</span>
    </dt>
    <dd>text to check</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">string</span></dt>
    <dd>the text, or the empty text if the original was too long</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function filterText(text) {
        var newText = text;
        if (text.length &gt; preferences.getMaxFileSize()) {
            newText = &quot;&quot;;
        }
        return newText;
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        findNameInProject 
        <a class="anchor" href="#-findNameInProject" id="-findNameInProject"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Helper function to find any files in the project that end with the
name we are looking for.  This is so we can find requirejs modules
when the baseUrl is unknown, or when the project root is not the same
as the script root (e.g. if you open the &#39;brackets&#39; dir instead of &#39;brackets/src&#39; dir).</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">            function findNameInProject() {
                &#x2F;&#x2F; check for any files in project that end with the right path.
                var fileName = name.substring(name.lastIndexOf(&quot;&#x2F;&quot;) + 1);

                function _fileFilter(entry) {
                    return entry.name === fileName;
                }

                ProjectManager.getAllFiles(_fileFilter).done(function (files) {
                    var file;
                    files = files.filter(function (file) {
                        var pos = file.fullPath.length - name.length;
                        return pos === file.fullPath.lastIndexOf(name);
                    });

                    if (files.length === 1) {
                        file = files[0];
                    }
                    if (file) {
                        getDocText(file.fullPath).fail(function () {
                            replyWith(name, &quot;&quot;);
                        });
                    } else {
                        replyWith(name, &quot;&quot;);
                    }
                });
            }

            if (!isFileExcludedInternal(name)) {
                getDocText(name).fail(function () {
                    getDocText(rootTernDir + name).fail(function () {
                        &#x2F;&#x2F; check relative to project root
                        getDocText(projectRoot + name)
                            &#x2F;&#x2F; last look for any files that end with the right path
                            &#x2F;&#x2F; in the project
                            .fail(findNameInProject);
                    });
                });
            }
        }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        getBuiltins 
        <a class="anchor" href="#-getBuiltins" id="-getBuiltins"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>An array of library names that contain JavaScript builtins definitions.</p>
</div>
    
<dl>
</dl><dl>
    <dt>Returns: <span class="label label-info">Array.&lt;string&gt;</span></dt>
    <dd>- array of library names.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function getBuiltins() {
        return builtinLibraryNames;
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getDocText 
        <a class="anchor" href="#-getDocText" id="-getDocText"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Helper function to get the text of a given document and send it to tern.
If DocumentManager successfully gets the file&#39;s text then we&#39;ll send it to the tern node domain.
The Promise for getDocumentText() is returned so that custom fail functions can be used.</p>
</div>
    
<dl>
    <dt>
        filePath
        <span class="label label-info">string</span>
    </dt>
    <dd>the path of the file to get the text of</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">jQuery.Promise</span></dt>
    <dd>- the Promise returned from DocumentMangaer.getDocumentText()</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">            function getDocText(filePath) {
                if (!FileSystem.isAbsolutePath(filePath) || &#x2F;&#x2F; don&#39;t handle URLs
                        filePath.slice(0, 2) === &quot;&#x2F;&#x2F;&quot;) { &#x2F;&#x2F; don&#39;t handle protocol-relative URLs like &#x2F;&#x2F;example.com&#x2F;main.js (see #10566)
                    return (new $.Deferred()).reject().promise();
                }

                var file = FileSystem.getFileForPath(filePath),
                    promise = DocumentManager.getDocumentText(file);

                promise.done(function (docText) {
                    resolvedFiles[name] = filePath;
                    numResolvedFiles++;
                    replyWith(name, filterText(docText));
                });
                return promise;
            }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getFileInfo 
        <a class="anchor" href="#-getFileInfo" id="-getFileInfo"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Get an object that describes what tern needs to know about the updated
file to produce a hint. As a side-effect of this calls the document
changes are reset.</p>
</div>
    
<dl>
    <dt>
        session
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">Session</span>
    </dt>
    <dd>the current session</dd>
    <dt>
        preventPartialUpdates
        <span class="label label-optional">optional</span>
        <span class="label label-info">boolean</span>
    </dt>
    <dd>if true, disallow partial updates. Optional, defaults to false.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">{type: string,name: string,offsetLines: number,text: string}</span></dt>
    <dd></dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function getFileInfo(session, preventPartialUpdates) {
        var start = session.getCursor(),
            end = start,
            document = session.editor.document,
            path = document.file.fullPath,
            isHtmlFile = LanguageManager.getLanguageForPath(path).getId() === &quot;html&quot;,
            result;

        if (isHtmlFile) {
            result = {type: MessageIds.TERN_FILE_INFO_TYPE_FULL,
                name: path,
                text: session.getJavascriptText()};
        } else if (!documentChanges) {
            result = {type: MessageIds.TERN_FILE_INFO_TYPE_EMPTY,
                name: path,
                text: &quot;&quot;};
        } else if (!preventPartialUpdates &amp;&amp; session.editor.lineCount() &gt; LARGE_LINE_COUNT &amp;&amp;
                (documentChanges.to - documentChanges.from &lt; LARGE_LINE_CHANGE) &amp;&amp;
                documentChanges.from &lt;= start.line &amp;&amp;
                documentChanges.to &gt; end.line) {
            result = getFragmentAround(session, start);
        } else {
            result = {type: MessageIds.TERN_FILE_INFO_TYPE_FULL,
                name: path,
                text: getTextFromDocument(document)};
        }

        documentChanges = null;
        return result;
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getFragmentAround 
        <a class="anchor" href="#-getFragmentAround" id="-getFragmentAround"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Given a starting and ending position, get a code fragment that is self contained
 enough to be compiled.</p>
</div>
    
<dl>
    <dt>
        session
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">Session</span>
    </dt>
    <dd>the current session</dd>
    <dt>
        start
        <span class="label label-info">{line: number,ch: number}</span>
    </dt>
    <dd>the starting position of the changes</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">{type: string,name: string,offsetLines: number,text: string}</span></dt>
    <dd></dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function getFragmentAround(session, start) {
        var minIndent = null,
            minLine   = null,
            endLine,
            cm        = session.editor._codeMirror,
            tabSize   = cm.getOption(&quot;tabSize&quot;),
            document  = session.editor.document,
            p,
            min,
            indent,
            line;

        &#x2F;&#x2F; expand range backwards
        for (p = start.line - 1, min = Math.max(0, p - 100); p &gt;= min; --p) {
            line = session.getLine(p);
            var fn = line.search(&#x2F;\bfunction\b&#x2F;);

            if (fn &gt;= 0) {
                indent = CodeMirror.countColumn(line, null, tabSize);
                if (minIndent === null || minIndent &gt; indent) {
                    if (session.getToken({line: p, ch: fn + 1}).type === &quot;keyword&quot;) {
                        minIndent = indent;
                        minLine = p;
                    }
                }
            }
        }

        if (minIndent === null) {
            minIndent = 0;
        }

        if (minLine === null) {
            minLine = min;
        }

        var max = Math.min(cm.lastLine(), start.line + 100),
            endCh = 0;

        for (endLine = start.line + 1; endLine &lt; max; ++endLine) {
            line = cm.getLine(endLine);

            if (line.length &gt; 0) {
                indent = CodeMirror.countColumn(line, null, tabSize);
                if (indent &lt;= minIndent) {
                    endCh = line.length;
                    break;
                }
            }
        }

        var from = {line: minLine, ch: 0},
            to   = {line: endLine, ch: endCh};

        return {type: MessageIds.TERN_FILE_INFO_TYPE_PART,
            name: document.file.fullPath,
            offsetLines: from.line,
            text: document.getRange(from, to)};
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getJumptoDef 
        <a class="anchor" href="#-getJumptoDef" id="-getJumptoDef"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Get a Promise for the definition from TernJS, for the file &amp; offset passed in.</p>
</div>
    
<dl>
    <dt>
        fileInfo
        <span class="label label-info">{type: string,name: string,offsetLines: number,text: string}</span>
    </dt>
    <dd>type of update, name of file, and the text of the update. For "full" updates, the whole text of the file is present. For "part" updates, the changed portion of the text. For "empty" updates, the file has not been modified and the text is empty.</dd>
    <dt>
        offset
        <span class="label label-info">{line: number,ch: number}</span>
    </dt>
    <dd>the offset in the file the hints should be calculate at</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">jQuery.Promise</span></dt>
    <dd>- a promise that will resolve to definition when it is done</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function getJumptoDef(fileInfo, offset) {
        postMessage({
            type: MessageIds.TERN_JUMPTODEF_MSG,
            fileInfo: fileInfo,
            offset: offset
        });

        return addPendingRequest(fileInfo.name, offset, MessageIds.TERN_JUMPTODEF_MSG);
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getOffset 
        <a class="anchor" href="#-getOffset" id="-getOffset"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Get the current offset. The offset is adjusted for &quot;part&quot; updates.</p>
</div>
    
<dl>
    <dt>
        session
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">Session</span>
    </dt>
    <dd>the current session</dd>
    <dt>
        fileInfo
        <span class="label label-info">{type: string,name: string,offsetLines: number,text: string}</span>
    </dt>
    <dd>type of update, name of file, and the text of the update. For "full" updates, the whole text of the file is present. For "part" updates, the changed portion of the text. For "empty" updates, the file has not been modified and the text is empty.</dd>
    <dt>
        offset
        <span class="label label-optional">optional</span>
        <span class="label label-info">{line: number, ch: number}</span>
    </dt>
    <dd>the default offset (optional). Will use the cursor if not provided.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">{line: number,ch: number}</span></dt>
    <dd></dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function getOffset(session, fileInfo, offset) {
        var newOffset;

        if (offset) {
            newOffset = {line: offset.line, ch: offset.ch};
        } else {
            newOffset = session.getCursor();
        }

        if (fileInfo.type === MessageIds.TERN_FILE_INFO_TYPE_PART) {
            newOffset.line = Math.max(0, newOffset.line - fileInfo.offsetLines);
        }

        return newOffset;
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getPendingRequest 
        <a class="anchor" href="#-getPendingRequest" id="-getPendingRequest"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Get any pending $.Deferred object waiting on the specified file and request type</p>
</div>
    
<dl>
    <dt>
        file
        <span class="label label-info">string</span>
    </dt>
    <dd>the file</dd>
    <dt>
        offset
        <span class="label label-info">{line: number,ch: number}</span>
    </dt>
    <dd>the offset into the file the request is for</dd>
    <dt>
        type
        <span class="label label-info">string</span>
    </dt>
    <dd>the type of request</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">jQuery.Deferred</span></dt>
    <dd>- the $.Deferred for the request</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function getPendingRequest(file, offset, type) {
        var key = file + &quot;@&quot; + offset.line + &quot;@&quot; + offset.ch;
        if (_.has(pendingTernRequests, key)) {
            var requests = pendingTernRequests[key],
                requestType = requests[type];

            delete pendingTernRequests[key][type];

            if (!Object.keys(requests).length) {
                delete pendingTernRequests[key];
            }

            return requestType;
        }
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        getResolvedPath 
        <a class="anchor" href="#-getResolvedPath" id="-getResolvedPath"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        file
        <span class="label label-info">string</span>
    </dt>
    <dd>a relative path</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">string</span></dt>
    <dd>returns the path we resolved when we tried to parse the file, or undefined</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function getResolvedPath(file) {
        return currentModule.getResolvedPath(file);
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        getResolvedPath 
        <a class="anchor" href="#-getResolvedPath" id="-getResolvedPath"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"></div>
    
<dl>
    <dt>
        file
        <span class="label label-info">string</span>
    </dt>
    <dd>a relative path</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">string</span></dt>
    <dd>returns the path we resolved when we tried to parse the file, or undefined</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">        function getResolvedPath(file) {
            return resolvedFiles[file];
        }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getTernFunctionType 
        <a class="anchor" href="#-getTernFunctionType" id="-getTernFunctionType"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Get a Promise for the function type from TernJS.</p>
</div>
    
<dl>
    <dt>
        fileInfo
        <span class="label label-info">{type: string,name: string,offsetLines: number,text: string}</span>
    </dt>
    <dd>type of update, name of file, and the text of the update. For "full" updates, the whole text of the file is present. For "part" updates, the changed portion of the text. For "empty" updates, the file has not been modified and the text is empty.</dd>
    <dt>
        offset
        <span class="label label-info">{line:number,ch:number}</span>
    </dt>
    <dd>the line, column info for what we want the function type of.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">jQuery.Promise</span></dt>
    <dd>- a promise that will resolve to the function type of the function being called.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function getTernFunctionType(fileInfo, offset) {
        postMessage({
            type: MessageIds.TERN_CALLED_FUNC_TYPE_MSG,
            fileInfo: fileInfo,
            offset: offset
        });

        return addPendingRequest(fileInfo.name, offset, MessageIds.TERN_CALLED_FUNC_TYPE_MSG);
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        getTernHints 
        <a class="anchor" href="#-getTernHints" id="-getTernHints"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Get a Promise for the completions from TernJS, for the file &amp; offset passed in.</p>
</div>
    
<dl>
    <dt>
        fileInfo
        <span class="label label-info">{type: string,name: string,offsetLines: number,text: string}</span>
    </dt>
    <dd>type of update, name of file, and the text of the update. For "full" updates, the whole text of the file is present. For "part" updates, the changed portion of the text. For "empty" updates, the file has not been modified and the text is empty.</dd>
    <dt>
        offset
        <span class="label label-info">{line: number,ch: number}</span>
    </dt>
    <dd>the offset in the file the hints should be calculate at</dd>
    <dt>
        isProperty
        <span class="label label-info">boolean</span>
    </dt>
    <dd>true if getting a property hint, otherwise getting an identifier hint.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">jQuery.Promise</span></dt>
    <dd>- a promise that will resolve to an array of completions when it is done</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function getTernHints(fileInfo, offset, isProperty) {</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getTextFromDocument 
        <a class="anchor" href="#-getTextFromDocument" id="-getTextFromDocument"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Get the text of a document, applying any size restrictions
if necessary</p>
</div>
    
<dl>
    <dt>
        document
        <span class="label label-info">Document</span>
    </dt>
    <dd>the document to get the text from</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">string</span></dt>
    <dd>the text, or the empty text if the original was too long</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function getTextFromDocument(document) {
        var text = document.getText();
        text = filterText(text);
        return text;
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        handleEditorChange 
        <a class="anchor" href="#-handleEditorChange" id="-handleEditorChange"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Called each time a new editor becomes active.</p>
</div>
    
<dl>
    <dt>
        session
        <span class="label label-info">Session</span>
    </dt>
    <dd>the active hinting session (TODO: currently unused by doEditorChange())</dd>
    <dt>
        document
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">Document</span>
    </dt>
    <dd>the document of the editor that has changed</dd>
    <dt>
        previousDocument
        <span class="label label-nullable">nullable</span>
        <span class="label label-info">Document</span>
    </dt>
    <dd>the document of the editor is changing from</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">        function handleEditorChange(session, document, previousDocument) {
            if (addFilesPromise === null) {
                doEditorChange(session, document, previousDocument);
            } else {
                addFilesPromise.done(function () {
                    doEditorChange(session, document, previousDocument);
                });
            }
        }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        handleEditorChange 
        <a class="anchor" href="#-handleEditorChange" id="-handleEditorChange"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Called each time a new editor becomes active.</p>
</div>
    
<dl>
    <dt>
        session
        <span class="label label-info">Session</span>
    </dt>
    <dd>the active hinting session</dd>
    <dt>
        document
        <span class="label label-info">Document</span>
    </dt>
    <dd>the document of the editor that has changed</dd>
    <dt>
        previousDocument
        <span class="label label-nullable">nullable</span>
        <span class="label label-info">Document</span>
    </dt>
    <dd>the document of the editor is changing from</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleEditorChange(session, document, previousDocument) {

        if (!currentModule) {
            currentModule = new TernModule();
        }
        
        return currentModule.handleEditorChange(session, document, previousDocument);
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        handleFileChange 
        <a class="anchor" href="#-handleFileChange" id="-handleFileChange"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Called each time the file associated with the active editor changes.
Marks the file as being dirty.</p>
</div>
    
<dl>
    <dt>
        
        <span class="label label-info">from: {line:number,ch: number},to: {line:number,ch: number}</span>
    </dt>
    <dd></dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleFileChange(changeList) {
        isDocumentDirty = true;
        trackChange(changeList);
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleGetGuesses 
        <a class="anchor" href="#-handleGetGuesses" id="-handleGetGuesses"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Handle the response from the tern node domain when
it responds to the get guesses message.</p>
</div>
    
<dl>
    <dt>
        response
        <span class="label label-info">{file: string,type: string,offset: {line: number,ch: number},properties: Array.&lt;string&gt;}</span>
    </dt>
    <dd>the response from node domain contains the guesses for a property lookup.</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleGetGuesses(response) {
        var path = response.file,
            type = response.type,
            offset = response.offset,
            $deferredHints = getPendingRequest(path, offset, type);

        if ($deferredHints) {
            $deferredHints.resolveWith(null, [response.properties]);
        }
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleJumptoDef 
        <a class="anchor" href="#-handleJumptoDef" id="-handleJumptoDef"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Handle the response from the tern node domain when
it responds with the definition</p>
</div>
    
<dl>
    <dt>
        -
        <span class="label label-info">response</span>
    </dt>
    <dd>the response from the node domain</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleJumptoDef(response) {

        var file = response.file,
            offset = response.offset;

        var $deferredJump = getPendingRequest(file, offset, MessageIds.TERN_JUMPTODEF_MSG);

        if ($deferredJump) {
            response.fullPath = getResolvedPath(response.resultFile);
            $deferredJump.resolveWith(null, [response]);
        }
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handlePrimePumpCompletion 
        <a class="anchor" href="#-handlePrimePumpCompletion" id="-handlePrimePumpCompletion"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Handle the response from the tern node domain when
it responds to the prime pump message.</p>
</div>
    
<dl>
    <dt>
        response
        <span class="label label-info">{path: string,type: string}</span>
    </dt>
    <dd>the response from node domain</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">        function handlePrimePumpCompletion(response) {

            var path = response.path,
                type = response.type,
                $deferredHints = getPendingRequest(path, OFFSET_ZERO, type);

            if ($deferredHints) {
                $deferredHints.resolve();
            }
        }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        handleProjectClose 
        <a class="anchor" href="#-handleProjectClose" id="-handleProjectClose"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Do some cleanup when a project is closed.
Clean up previous analysis data from the module</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleProjectClose() {
        if (currentModule) {
            currentModule.resetModule();
        }
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        handleProjectOpen 
        <a class="anchor" href="#-handleProjectOpen" id="-handleProjectOpen"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Read in project preferences when a new project is opened.
 Look in the project root directory for a preference file.</p>
<p> @param {string=} projectRootPath - new project root path(optional).
 Only needed for unit tests.</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleProjectOpen(projectRootPath) {
        initPreferences(projectRootPath);
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleRename 
        <a class="anchor" href="#-handleRename" id="-handleRename"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Handle the response from the tern node domain when
it responds with the references</p>
</div>
    
<dl>
    <dt>
        -
        <span class="label label-info">response</span>
    </dt>
    <dd>the response from the node domain</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleRename(response) {

        if (response.error) {
            EditorManager.getActiveEditor().displayErrorMessageAtCursor(response.error);
            return;
        }

        var file = response.file,
            offset = response.offset;

        var $deferredFindRefs = getPendingRequest(file, offset, MessageIds.TERN_REFS);

        if ($deferredFindRefs) {
            $deferredFindRefs.resolveWith(null, [response]);
        }
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleScopeData 
        <a class="anchor" href="#-handleScopeData" id="-handleScopeData"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Handle the response from the tern node domain when
it responds with the scope data</p>
</div>
    
<dl>
    <dt>
        -
        <span class="label label-info">response</span>
    </dt>
    <dd>the response from the node domain</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleScopeData(response) {
        var file = response.file,
            offset = response.offset;

        var $deferredJump = getPendingRequest(file, offset, MessageIds.TERN_SCOPEDATA_MSG);

        if ($deferredJump) {
            $deferredJump.resolveWith(null, [response]);
        }
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleTernCompletions 
        <a class="anchor" href="#-handleTernCompletions" id="-handleTernCompletions"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Handle the response from the tern node domain when
it responds with the list of completions</p>
</div>
    
<dl>
    <dt>
        response
        <span class="label label-info">{file: string,offset: {line: number,ch: number},completions:Array.&lt;string&gt;,properties:Array.&lt;string&gt;}</span>
    </dt>
    <dd>the response from node domain</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleTernCompletions(response) {

        var file = response.file,
            offset = response.offset,
            completions = response.completions,
            properties = response.properties,
            fnType  = response.fnType,
            type = response.type,
            error = response.error,
            $deferredHints = getPendingRequest(file, offset, type);

        if ($deferredHints) {
            if (error) {
                $deferredHints.reject();
            } else if (completions) {
                $deferredHints.resolveWith(null, [{completions: completions}]);
            } else if (properties) {
                $deferredHints.resolveWith(null, [{properties: properties}]);
            } else if (fnType) {
                $deferredHints.resolveWith(null, [fnType]);
            }
        }
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleTernGetFile 
        <a class="anchor" href="#-handleTernGetFile" id="-handleTernGetFile"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Handle a request from the tern node domain for text of a file</p>
</div>
    
<dl>
    <dt>
        request
        <span class="label label-info">{file:string}</span>
    </dt>
    <dd>the request from the tern node domain. Should be an Object containing the name of the file tern wants the contents of</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">        function handleTernGetFile(request) {

            function replyWith(name, txt) {
                _postMessageByPass({
                    type: MessageIds.TERN_GET_FILE_MSG,
                    file: name,
                    text: txt
                });
            }

            var name = request.file;</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleTimedOut 
        <a class="anchor" href="#-handleTimedOut" id="-handleTimedOut"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Handle timed out inference</p>
</div>
    
<dl>
    <dt>
        response
        <span class="label label-info">{path: string,type: string}</span>
    </dt>
    <dd>the response from node domain</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleTimedOut(response) {

        var detectedExclusions  = PreferencesManager.get(&quot;jscodehints.detectedExclusions&quot;) || [],
            filePath            = response.file;

        &#x2F;&#x2F; Don&#39;t exclude the file currently being edited
        if (isFileBeingEdited(filePath)) {
            return;
        }

        &#x2F;&#x2F; Handle file that is already excluded
        if (detectedExclusions.indexOf(filePath) !== -1) {
            console.log(&quot;JavaScriptCodeHints.handleTimedOut: file already in detectedExclusions array timed out: &quot; + filePath);
            return;
        }

        &#x2F;&#x2F; Save detected exclusion in project prefs so no further time is wasted on it
        detectedExclusions.push(filePath);
        PreferencesManager.set(&quot;jscodehints.detectedExclusions&quot;, detectedExclusions, { location: { scope: &quot;project&quot; } });

        &#x2F;&#x2F; Show informational dialog
        Dialogs.showModalDialog(
            DefaultDialogs.DIALOG_ID_INFO,
            Strings.DETECTED_EXCLUSION_TITLE,
            StringUtils.format(
                Strings.DETECTED_EXCLUSION_INFO,
                StringUtils.breakableUrl(filePath)
            ),
            [
                {
                    className : Dialogs.DIALOG_BTN_CLASS_PRIMARY,
                    id        : Dialogs.DIALOG_BTN_OK,
                    text      : Strings.OK
                }
            ]
        );
    }
    
    DocumentManager.on(&quot;dirtyFlagChange&quot;, function (event, changedDoc) {
        if (changedDoc.file.fullPath) {
            postMessage({
                type: MessageIds.TERN_UPDATE_DIRTY_FILE,
                name: changedDoc.file.fullPath,
                action: changedDoc.isDirty
            });
        }
    });

    &#x2F;&#x2F; Clear dirty document list in tern node domain
    ProjectManager.on(&quot;beforeProjectClose&quot;, function () {
        postMessage({
            type: MessageIds.TERN_CLEAR_DIRTY_FILES_LIST
        });
    });</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleUpdateFile 
        <a class="anchor" href="#-handleUpdateFile" id="-handleUpdateFile"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Handle the response from the tern node domain when
it responds to the update file message.</p>
</div>
    
<dl>
    <dt>
        response
        <span class="label label-info">{path: string,type: string}</span>
    </dt>
    <dd>the response from node domain</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function handleUpdateFile(response) {

        var path = response.path,
            type = response.type,
            $deferredHints = getPendingRequest(path, OFFSET_ZERO, type);

        if ($deferredHints) {
            $deferredHints.resolve();
        }
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        initPreferences 
        <a class="anchor" href="#-initPreferences" id="-initPreferences"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Init preferences from a file in the project root or builtin
 defaults if no file is found;</p>
<p> @param {string=} projectRootPath - new project root path. Only needed
 for unit tests.</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function initPreferences(projectRootPath) {

        &#x2F;&#x2F; Reject the old preferences if they have not completed.
        if (deferredPreferences &amp;&amp; deferredPreferences.state() === &quot;pending&quot;) {
            deferredPreferences.reject();
        }

        deferredPreferences = $.Deferred();
        var pr = ProjectManager.getProjectRoot();

        &#x2F;&#x2F; Open preferences relative to the project root
        &#x2F;&#x2F; Normally there is a project root, but for unit tests we need to
        &#x2F;&#x2F; pass in a project root.
        if (pr) {
            projectRootPath = pr.fullPath;
        } else if (!projectRootPath) {
            console.log(&quot;initPreferences: projectRootPath has no value&quot;);
        }

        var path = projectRootPath + Preferences.FILE_NAME;

        FileSystem.resolve(path, function (err, file) {
            if (!err) {
                FileUtils.readAsText(file).done(function (text) {
                    var configObj = null;
                    try {
                        configObj = JSON.parse(text);
                    } catch (e) {
                        &#x2F;&#x2F; continue with null configObj which will result in
                        &#x2F;&#x2F; default settings.
                        console.log(&quot;Error parsing preference file: &quot; + path);
                        if (e instanceof SyntaxError) {
                            console.log(e.message);
                        }
                    }
                    preferences = new Preferences(configObj);
                    deferredPreferences.resolve();
                }).fail(function (error) {
                    preferences = new Preferences();
                    deferredPreferences.resolve();
                });
            } else {
                preferences = new Preferences();
                deferredPreferences.resolve();
            }
        });
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        initTernEnv 
        <a class="anchor" href="#-initTernEnv" id="-initTernEnv"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Read in the json files that have type information for the builtins, dom,etc</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function initTernEnv() {
        var path = [_absoluteModulePath, &quot;node&#x2F;node_modules&#x2F;tern&#x2F;defs&#x2F;&quot;].join(&quot;&#x2F;&quot;),
            files = builtinFiles,
            library;

        files.forEach(function (i) {
            FileSystem.resolve(path + i, function (err, file) {
                if (!err) {
                    FileUtils.readAsText(file).done(function (text) {
                        library = JSON.parse(text);
                        builtinLibraryNames.push(library[&quot;!name&quot;]);
                        ternEnvironment.push(library);
                    }).fail(function (error) {
                        console.log(&quot;failed to read tern config file &quot; + i);
                    });
                } else {
                    console.log(&quot;failed to read tern config file &quot; + i);
                }
            });
        });
    }

    initTernEnv();</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        initTernModule 
        <a class="anchor" href="#-initTernModule" id="-initTernModule"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Init the Tern module that does all the code hinting work.</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">        function initTernModule() {
            var moduleDeferred = $.Deferred();
            ternPromise = moduleDeferred.promise();
            
            function prepareTern() {  
                _ternNodeDomain.exec(&quot;setInterface&quot;, {
                    messageIds : MessageIds
                });

                _ternNodeDomain.exec(&quot;invokeTernCommand&quot;, {
                    type: MessageIds.SET_CONFIG,
                    config: config
                });
                moduleDeferred.resolveWith(null, [_ternNodeDomain]);
            }
            
            if (_ternNodeDomain) {
                _ternNodeDomain.exec(&quot;resetTernServer&quot;);
                moduleDeferred.resolveWith(null, [_ternNodeDomain]);
            } else {
                _ternNodeDomain     = new NodeDomain(&quot;TernNodeDomain&quot;, _domainPath);
                _ternNodeDomain.on(&quot;data&quot;, function (evt, data) {
                    if (config.debug) {
                        console.log(&quot;Message received&quot;, data.type);
                    }

                    var response = data,
                        type = response.type;

                    if (type === MessageIds.TERN_COMPLETIONS_MSG ||
                            type === MessageIds.TERN_CALLED_FUNC_TYPE_MSG) {
                        &#x2F;&#x2F; handle any completions the tern server calculated
                        handleTernCompletions(response);
                    } else if (type === MessageIds.TERN_GET_FILE_MSG) {
                        &#x2F;&#x2F; handle a request for the contents of a file
                        handleTernGetFile(response);
                    } else if (type === MessageIds.TERN_JUMPTODEF_MSG) {
                        handleJumptoDef(response);
                    } else if (type === MessageIds.TERN_SCOPEDATA_MSG) {
                        handleScopeData(response);
                    } else if (type === MessageIds.TERN_REFS) {
                        handleRename(response);
                    } else if (type === MessageIds.TERN_PRIME_PUMP_MSG) {
                        handlePrimePumpCompletion(response);
                    } else if (type === MessageIds.TERN_GET_GUESSES_MSG) {
                        handleGetGuesses(response);
                    } else if (type === MessageIds.TERN_UPDATE_FILE_MSG) {
                        handleUpdateFile(response);
                    } else if (type === MessageIds.TERN_INFERENCE_TIMEDOUT) {
                        handleTimedOut(response);
                    } else if (type === MessageIds.TERN_WORKER_READY) {
                        moduleDeferred.resolveWith(null, [_ternNodeDomain]);
                    } else if (type === &quot;RE_INIT_TERN&quot;) {
                        &#x2F;&#x2F; Ensure the request is because of a node restart
                        if (currentModule) {
                            prepareTern();
                            &#x2F;&#x2F; Mark the module with resetForced, then creation of TernModule will 
                            &#x2F;&#x2F; happen again as part of &#39;_maybeReset&#39; call
                            currentModule.resetForced = true;
                        }
                    } else {
                        console.log(&quot;Tern Module: &quot; + (response.log || response));
                    }
                });
            
                _ternNodeDomain.promise().done(prepareTern);
            }
        }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        initTernServer 
        <a class="anchor" href="#-initTernServer" id="-initTernServer"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Create a new tern server.</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">        function initTernServer(dir, files) {
            initTernModule();
            numResolvedFiles = 0;
            numAddedFiles = 0;
            stopAddingFiles = false;
            numInitialFiles = files.length;

            ternPromise.done(function (ternModule) {
                var msg = {
                    type        : MessageIds.TERN_INIT_MSG,
                    dir         : dir,
                    files       : files,
                    env         : ternEnvironment,
                    timeout     : PreferencesManager.get(&quot;jscodehints.inferenceTimeout&quot;)
                };
                _ternNodeDomain.exec(&quot;invokeTernCommand&quot;, msg);
            });
            rootTernDir = dir + &quot;&#x2F;&quot;;
        }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        isDirectoryExcluded 
        <a class="anchor" href="#-isDirectoryExcluded" id="-isDirectoryExcluded"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Test if the directory should be excluded from analysis.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">string</span>
    </dt>
    <dd>full directory path.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">boolean</span></dt>
    <dd>true if excluded, false otherwise.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function isDirectoryExcluded(path) {
        var excludes = preferences.getExcludedDirectories();

        if (!excludes) {
            return false;
        }

        var testPath = ProjectManager.makeProjectRelativeIfPossible(path);
        testPath = FileUtils.stripTrailingSlash(testPath);

        return excludes.test(testPath);
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        isFileBeingEdited 
        <a class="anchor" href="#-isFileBeingEdited" id="-isFileBeingEdited"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Test if the file path is in current editor</p>
</div>
    
<dl>
    <dt>
        filePath
        <span class="label label-info">string</span>
    </dt>
    <dd>file path to test for exclusion.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">boolean</span></dt>
    <dd>true if in editor, false otherwise.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function isFileBeingEdited(filePath) {
        var currentEditor   = EditorManager.getActiveEditor(),
            currentDoc      = currentEditor &amp;&amp; currentEditor.document;

        return (currentDoc &amp;&amp; currentDoc.file.fullPath === filePath);
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        isFileExcluded 
        <a class="anchor" href="#-isFileExcluded" id="-isFileExcluded"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Test if the file should be excluded from analysis.</p>
</div>
    
<dl>
    <dt>
        file
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">File</span>
    </dt>
    <dd>file to test for exclusion.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">boolean</span></dt>
    <dd>true if excluded, false otherwise.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function isFileExcluded(file) {
        if (file.name[0] === &quot;.&quot;) {
            return true;
        }

        var languageID = LanguageManager.getLanguageForPath(file.fullPath).getId();
        if (languageID !== HintUtils.LANGUAGE_ID) {
            return true;
        }

        var excludes = preferences.getExcludedFiles();
        if (excludes &amp;&amp; excludes.test(file.name)) {
            return true;
        }

        if (isFileExcludedInternal(file.fullPath)) {
            return true;
        }

        return false;
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        isFileExcludedInternal 
        <a class="anchor" href="#-isFileExcludedInternal" id="-isFileExcludedInternal"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Test if the file path is an internal exclusion.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>file path to test for exclusion.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">boolean</span></dt>
    <dd>true if excluded, false otherwise.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function isFileExcludedInternal(path) {
        &#x2F;&#x2F; The detectedExclusions are files detected to be troublesome with current versions of Tern.
        &#x2F;&#x2F; detectedExclusions is an array of full paths.
        var detectedExclusions = PreferencesManager.get(&quot;jscodehints.detectedExclusions&quot;) || [];
        if (detectedExclusions &amp;&amp; detectedExclusions.indexOf(path) !== -1) {
            return true;
        }

        return false;
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        postMessage 
        <a class="anchor" href="#-postMessage" id="-postMessage"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Send a message to the tern module - if the module is being initialized,
the message will not be posted until initialization is complete</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function postMessage(msg) {
        if (currentModule) {
            currentModule.postMessage(msg);
        }
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        postMessage 
        <a class="anchor" href="#-postMessage" id="-postMessage"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Send a message to the tern node domain - if the module is being initialized,
the message will not be posted until initialization is complete</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">        function postMessage(msg) {
            addFilesPromise.done(function (ternModule) {
                &#x2F;&#x2F; If an error came up during file handling, bail out now
                if (!_ternNodeDomain) {
                    return;
                }

                if (config.debug) {
                    console.debug(&quot;Sending message&quot;, msg);
                }
                _ternNodeDomain.exec(&quot;invokeTernCommand&quot;, msg);
            });
        }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        primePump 
        <a class="anchor" href="#-primePump" id="-primePump"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Prime the pump for a fast first lookup.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>full path of file</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">jQuery.Promise</span></dt>
    <dd>- the promise for the request</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">        function primePump(path, isUntitledDoc) {
            _postMessageByPass({
                type            : MessageIds.TERN_PRIME_PUMP_MSG,
                path            : path,
                isUntitledDoc   : isUntitledDoc
            });

            return addPendingRequest(path, OFFSET_ZERO, MessageIds.TERN_PRIME_PUMP_MSG);
        }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        requestGuesses 
        <a class="anchor" href="#-requestGuesses" id="-requestGuesses"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Get a Promise for all of the known properties from TernJS, for the directory and file.
The properties will be used as guesses in tern.</p>
</div>
    
<dl>
    <dt>
        session
        <span class="label label-info">Session</span>
    </dt>
    <dd>the active hinting session</dd>
    <dt>
        document
        <span class="label label-info">Document</span>
    </dt>
    <dd>the document for which scope info is desired</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">jQuery.Promise</span></dt>
    <dd>- The promise will not complete until the tern request has completed.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function requestGuesses(session, document) {
        var $deferred = $.Deferred(),
            fileInfo = getFileInfo(session),
            offset = getOffset(session, fileInfo);

        postMessage({
            type: MessageIds.TERN_GET_GUESSES_MSG,
            fileInfo: fileInfo,
            offset: offset
        });

        var promise = addPendingRequest(fileInfo.name, offset, MessageIds.TERN_GET_GUESSES_MSG);
        promise.done(function (guesses) {
            session.setGuesses(guesses);
            $deferred.resolve();
        }).fail(function () {
            $deferred.reject();
        });

        return $deferred.promise();
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        requestHints 
        <a class="anchor" href="#-requestHints" id="-requestHints"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Request hints from Tern.</p>
<p>Note that successive calls to getScope may return the same objects, so
clients that wish to modify those objects (e.g., by annotating them based
on some temporary context) should copy them first. See, e.g.,
Session.getHints().</p>
</div>
    
<dl>
    <dt>
        session
        <span class="label label-info">Session</span>
    </dt>
    <dd>the active hinting session</dd>
    <dt>
        document
        <span class="label label-info">Document</span>
    </dt>
    <dd>the document for which scope info is desired</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">jQuery.Promise</span></dt>
    <dd>- The promise will not complete until the tern hints have completed.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function requestHints(session, document) {
        var $deferredHints = $.Deferred(),
            hintPromise,
            sessionType = session.getType(),
            fileInfo = getFileInfo(session),
            offset = getOffset(session, fileInfo, null);

        _maybeReset(session, document);

        hintPromise = getTernHints(fileInfo, offset, sessionType.property);

        $.when(hintPromise).done(
            function (completions, fnType) {
                if (completions.completions) {
                    session.setTernHints(completions.completions);
                    session.setGuesses(null);
                } else {
                    session.setTernHints([]);
                    session.setGuesses(completions.properties);
                }

                $deferredHints.resolveWith(null);
            }
        ).fail(function () {
            $deferredHints.reject();
        });

        return $deferredHints.promise();
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        requestJumptoDef 
        <a class="anchor" href="#-requestJumptoDef" id="-requestJumptoDef"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Request Jump-To-Definition from Tern.</p>
</div>
    
<dl>
    <dt>
        session
        <span class="label label-info">session</span>
    </dt>
    <dd>the session</dd>
    <dt>
        document
        <span class="label label-info">Document</span>
    </dt>
    <dd>the document</dd>
    <dt>
        offset
        <span class="label label-info">{line: number,ch: number}</span>
    </dt>
    <dd>the offset into the document</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">jQuery.Promise</span></dt>
    <dd>- The promise will not complete until tern has completed.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function requestJumptoDef(session, document, offset) {
        var path    = document.file.fullPath,
            fileInfo = {
                type: MessageIds.TERN_FILE_INFO_TYPE_FULL,
                name: path,
                offsetLines: 0,
                text: filterText(session.getJavascriptText())
            };

        var ternPromise = getJumptoDef(fileInfo, offset);

        return {promise: ternPromise};
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        requestParameterHint 
        <a class="anchor" href="#-requestParameterHint" id="-requestParameterHint"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Request a parameter hint from Tern.</p>
</div>
    
<dl>
    <dt>
        session
        <span class="label label-info">Session</span>
    </dt>
    <dd>the active hinting session</dd>
    <dt>
        functionOffset
        <span class="label label-info">{line: number,ch: number}</span>
    </dt>
    <dd>the offset of the function call.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">jQuery.Promise</span></dt>
    <dd>- The promise will not complete until the hint has completed.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function requestParameterHint(session, functionOffset) {
        var $deferredHints = $.Deferred(),
            fileInfo = getFileInfo(session, true),
            offset = getOffset(session, fileInfo, functionOffset),
            fnTypePromise = getTernFunctionType(fileInfo, offset);

        $.when(fnTypePromise).done(
            function (fnType) {
                session.setFnType(fnType);
                session.setFunctionCallPos(functionOffset);
                $deferredHints.resolveWith(null, [fnType]);
            }
        ).fail(function () {
            $deferredHints.reject();
        });

        return $deferredHints.promise();
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        resetModule 
        <a class="anchor" href="#-resetModule" id="-resetModule"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Do some cleanup when a project is closed.</p>
<p>We can clean up the node tern server we use to calculate hints now, since
we know we will need to re-init it in any new project that is opened.</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">        function resetModule() {
            function resetTernServer() {
                if (_ternNodeDomain.ready()) {
                    _ternNodeDomain.exec(&#39;resetTernServer&#39;);
                }
            }
            
            if (_ternNodeDomain) {
                if (addFilesPromise) {
                    &#x2F;&#x2F; If we&#39;re in the middle of added files, don&#39;t reset 
                    &#x2F;&#x2F; until we&#39;re done
                    addFilesPromise.done(resetTernServer).fail(resetTernServer);
                } else {
                    resetTernServer();
                }
            }
        }

        function whenReady(func) {
            addFilesPromise.done(func);
        }
        
        this.resetModule = resetModule;
        this.handleEditorChange = handleEditorChange;
        this.postMessage = postMessage;
        this.getResolvedPath = getResolvedPath;
        this.whenReady = whenReady;

        return this;
    }

    var resettingDeferred = null;</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        trackChange 
        <a class="anchor" href="#-trackChange" id="-trackChange"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Track the update area of the current document so we can tell if we can send
 partial updates to tern or not.</p>
</div>
    
<dl>
    <dt>
        changeList
        <span class="label label-info">Array.&lt;{from: {line:number,ch: number},to: {line:number,ch: number},text: Array&lt;string&gt;}&gt;</span>
    </dt>
    <dd>the document changes from the current change event</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function trackChange(changeList) {
        var changed = documentChanges, i;
        if (changed === null) {
            documentChanges = changed = {from: changeList[0].from.line, to: changeList[0].from.line};
            if (config.debug) {
                console.debug(&quot;ScopeManager: document has changed&quot;);
            }
        }

        for (i = 0; i &lt; changeList.length; i++) {
            var thisChange = changeList[i],
                end = thisChange.from.line + (thisChange.text.length - 1);
            if (thisChange.from.line &lt; changed.to) {
                changed.to = changed.to - (thisChange.to.line - end);
            }

            if (end &gt;= changed.to) {
                changed.to = end + 1;
            }

            if (changed.from &gt; thisChange.from.line) {
                changed.from = thisChange.from.line;
            }
        }
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        updateTernFile 
        <a class="anchor" href="#-updateTernFile" id="-updateTernFile"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Update tern with the new contents of a given file.</p>
</div>
    
<dl>
    <dt>
        document
        <span class="label label-info">Document</span>
    </dt>
    <dd>the document to update</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">jQuery.Promise</span></dt>
    <dd>- the promise for the request</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">        function updateTernFile(document) {
            var path  = document.file.fullPath;

            _postMessageByPass({
                type       : MessageIds.TERN_UPDATE_FILE_MSG,
                path       : path,
                text       : getTextFromDocument(document)
            });

            return addPendingRequest(path, OFFSET_ZERO, MessageIds.TERN_UPDATE_FILE_MSG);
        }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        usingModules 
        <a class="anchor" href="#-usingModules" id="-usingModules"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Determine whether the current set of files are using modules to pull in
 additional files.</p>
</div>
    
<dl>
</dl><dl>
    <dt>Returns: <span class="label label-info">boolean</span></dt>
    <dd>- true if more files than the current directory have been read in.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">        function usingModules() {
            return numInitialFiles !== numResolvedFiles;
        }</code></pre></div>
</section>

        </div>
      </div>
    </div>

    <script type="text/javascript" src="../../assets/js/prism.js"></script>
  </body>
</html>
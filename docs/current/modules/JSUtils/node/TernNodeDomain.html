<!DOCTYPE html>
<html lang="en">
  <head>
    <title>TernNodeDomain - Brackets API</title>
    <link rel="stylesheet" href="../../../assets/css/bootstrap.css">
    <link rel="stylesheet" href="../../../assets/css/typeahead.js-bootstrap.css">
    <link rel="stylesheet" href="../../../assets/css/font-awesome.css">
    <link rel="stylesheet" href="../../../assets/css/prism.css">
    <link rel="stylesheet" href="../../../assets/css/main.css">
    <!--[if IE 7]>
    <link rel="stylesheet" href="../assets/css/font-awesome-ie7.css">
    <![endif]-->
    <script type="text/javascript" src="../../../assets/js/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="../../../assets/js/bootstrap.js"></script>
    <script type="text/javascript" src="../../../assets/js/typeahead.js"></script>
    <script type="text/javascript" src="../../../assets/js/main.js"></script>
    <script src="http://use.edgefonts.net/source-sans-pro:n3,i3,n4,i4;source-code-pro.js"></script>

    <!-- Control the Flash of Unstyled Text (or FOUT) -->
    <style type="text/css">
        .wf-loading h1, .wf-loading h2, .wf-loading h3, .wf-loading h4,
        .wf-loading h5, .wf-loading h6, .wf-loading p, .wf-loading a {
            visibility: hidden;
        }
    </style>
    
    <script>
      window.moduleLevel = "../../..";
    </script>
  </head>
  
  <body>
    <div class="row-fluid">
      <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
          <div class="container">
            <a class="brand" href="../../../index.html">Brackets API</a>
            <div class="nav-collapse collapse">
              <ul class="nav">
                <li><a href="#dependencies">Dependencies</a></li>
                <li><a href="#variables">Variables</a></li>
                <li><a href="#functions">Functions</a></li>
                <li><a href="#classes">Classes</a></li>
              </ul>
            </div>
            <input class="typeahead" placeholder="Search..." type="text" >
          </div>
        </div>
      </div>    </div>
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">
          <div class="left-section">
            <h2 class="number-of-modules">Modules (188)</h2>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_"><i class="icon-folder-open"></i>[root]</a>
              </li>
            </ul>
            <ul id="package_" class="nav nav-list">
              <li><a href="../../../modules/brackets.html">brackets</a></li>
              <li><a href="../../../modules/dependencies.html">dependencies</a></li>
              <li><a href="../../../modules/main.html">main</a></li>
              <li><a href="../../../modules/strings.html">strings</a></li>
              <li><a href="../../../modules/xorigin.html">xorigin</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_command"><i class="icon-folder-open"></i>command</a>
              </li>
            </ul>
            <ul id="package_command" class="nav nav-list">
              <li><a href="../../../modules/command/CommandManager.html">CommandManager</a></li>
              <li><a href="../../../modules/command/Commands.html">Commands</a></li>
              <li><a href="../../../modules/command/DefaultMenus.html">DefaultMenus</a></li>
              <li><a href="../../../modules/command/KeyBindingManager.html">KeyBindingManager</a></li>
              <li><a href="../../../modules/command/Menus.html">Menus</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_document"><i class="icon-folder-open"></i>document</a>
              </li>
            </ul>
            <ul id="package_document" class="nav nav-list">
              <li><a href="../../../modules/document/ChangedDocumentTracker.html">ChangedDocumentTracker</a></li>
              <li><a href="../../../modules/document/Document.html">Document</a></li>
              <li><a href="../../../modules/document/DocumentCommandHandlers.html">DocumentCommandHandlers</a></li>
              <li><a href="../../../modules/document/DocumentManager.html">DocumentManager</a></li>
              <li><a href="../../../modules/document/InMemoryFile.html">InMemoryFile</a></li>
              <li><a href="../../../modules/document/TextRange.html">TextRange</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_editor"><i class="icon-folder-open"></i>editor</a>
              </li>
            </ul>
            <ul id="package_editor" class="nav nav-list">
              <li><a href="../../../modules/editor/CodeHintList.html">CodeHintList</a></li>
              <li><a href="../../../modules/editor/CodeHintManager.html">CodeHintManager</a></li>
              <li><a href="../../../modules/editor/CSSInlineEditor.html">CSSInlineEditor</a></li>
              <li><a href="../../../modules/editor/Editor.html">Editor</a></li>
              <li><a href="../../../modules/editor/EditorCommandHandlers.html">EditorCommandHandlers</a></li>
              <li><a href="../../../modules/editor/EditorManager.html">EditorManager</a></li>
              <li><a href="../../../modules/editor/EditorOptionHandlers.html">EditorOptionHandlers</a></li>
              <li><a href="../../../modules/editor/EditorStatusBar.html">EditorStatusBar</a></li>
              <li><a href="../../../modules/editor/ImageViewer.html">ImageViewer</a></li>
              <li><a href="../../../modules/editor/InlineTextEditor.html">InlineTextEditor</a></li>
              <li><a href="../../../modules/editor/InlineWidget.html">InlineWidget</a></li>
              <li><a href="../../../modules/editor/MultiRangeInlineEditor.html">MultiRangeInlineEditor</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_extensibility"><i class="icon-folder-open"></i>extensibility</a>
              </li>
            </ul>
            <ul id="package_extensibility" class="nav nav-list">
              <li><a href="../../../modules/extensibility/ExtensionManager.html">ExtensionManager</a></li>
              <li><a href="../../../modules/extensibility/ExtensionManagerDialog.html">ExtensionManagerDialog</a></li>
              <li><a href="../../../modules/extensibility/ExtensionManagerView.html">ExtensionManagerView</a></li>
              <li><a href="../../../modules/extensibility/ExtensionManagerViewModel.html">ExtensionManagerViewModel</a></li>
              <li><a href="../../../modules/extensibility/InstallExtensionDialog.html">InstallExtensionDialog</a></li>
              <li><a href="../../../modules/extensibility/Package.html">Package</a></li>
              <li><a href="../../../modules/extensibility/registry_utils.html">registry_utils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_file"><i class="icon-folder-open"></i>file</a>
              </li>
            </ul>
            <ul id="package_file" class="nav nav-list">
              <li><a href="../../../modules/file/FileUtils.html">FileUtils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem"><i class="icon-folder-open"></i>filesystem</a>
              </li>
            </ul>
            <ul id="package_filesystem" class="nav nav-list">
              <li><a href="../../../modules/filesystem/Directory.html">Directory</a></li>
              <li><a href="../../../modules/filesystem/File.html">File</a></li>
              <li><a href="../../../modules/filesystem/FileIndex.html">FileIndex</a></li>
              <li><a href="../../../modules/filesystem/FileSystem.html">FileSystem</a></li>
              <li><a href="../../../modules/filesystem/FileSystemEntry.html">FileSystemEntry</a></li>
              <li><a href="../../../modules/filesystem/FileSystemError.html">FileSystemError</a></li>
              <li><a href="../../../modules/filesystem/FileSystemStats.html">FileSystemStats</a></li>
              <li><a href="../../../modules/filesystem/WatchedRoot.html">WatchedRoot</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem_impls_appshell"><i class="icon-folder-open"></i>filesystem&#x2F;impls&#x2F;appshell</a>
              </li>
            </ul>
            <ul id="package_filesystem_impls_appshell" class="nav nav-list">
              <li><a href="../../../modules/filesystem/impls/appshell/AppshellFileSystem.html">AppshellFileSystem</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_filesystem_impls_appshell_node"><i class="icon-folder-open"></i>filesystem&#x2F;impls&#x2F;appshell&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_filesystem_impls_appshell_node" class="nav nav-list">
              <li><a href="../../../modules/filesystem/impls/appshell/node/ChokidarWatcher.html">ChokidarWatcher</a></li>
              <li><a href="../../../modules/filesystem/impls/appshell/node/CSharpWatcher.html">CSharpWatcher</a></li>
              <li><a href="../../../modules/filesystem/impls/appshell/node/FileWatcherDomain.html">FileWatcherDomain</a></li>
              <li><a href="../../../modules/filesystem/impls/appshell/node/FileWatcherManager.html">FileWatcherManager</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_help"><i class="icon-folder-open"></i>help</a>
              </li>
            </ul>
            <ul id="package_help" class="nav nav-list">
              <li><a href="../../../modules/help/HelpCommandHandlers.html">HelpCommandHandlers</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_JSUtils"><i class="icon-folder-open"></i>JSUtils</a>
              </li>
            </ul>
            <ul id="package_JSUtils" class="nav nav-list">
              <li><a href="../../../modules/JSUtils/HintUtils.html">HintUtils</a></li>
              <li><a href="../../../modules/JSUtils/MessageIds.html">MessageIds</a></li>
              <li><a href="../../../modules/JSUtils/Preferences.html">Preferences</a></li>
              <li><a href="../../../modules/JSUtils/ScopeManager.html">ScopeManager</a></li>
              <li><a href="../../../modules/JSUtils/Session.html">Session</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_JSUtils_node"><i class="icon-folder-open"></i>JSUtils&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_JSUtils_node" class="nav nav-list">
              <li><a href="../../../modules/JSUtils/node/ExtractFileContent.html">ExtractFileContent</a></li>
              <li><a href="../../../modules/JSUtils/node/TernNodeDomain.html">TernNodeDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_language"><i class="icon-folder-open"></i>language</a>
              </li>
            </ul>
            <ul id="package_language" class="nav nav-list">
              <li><a href="../../../modules/language/CodeInspection.html">CodeInspection</a></li>
              <li><a href="../../../modules/language/CSSUtils.html">CSSUtils</a></li>
              <li><a href="../../../modules/language/HTMLDOMDiff.html">HTMLDOMDiff</a></li>
              <li><a href="../../../modules/language/HTMLInstrumentation.html">HTMLInstrumentation</a></li>
              <li><a href="../../../modules/language/HTMLSimpleDOM.html">HTMLSimpleDOM</a></li>
              <li><a href="../../../modules/language/HTMLTokenizer.html">HTMLTokenizer</a></li>
              <li><a href="../../../modules/language/HTMLUtils.html">HTMLUtils</a></li>
              <li><a href="../../../modules/language/JSONUtils.html">JSONUtils</a></li>
              <li><a href="../../../modules/language/JSUtils.html">JSUtils</a></li>
              <li><a href="../../../modules/language/LanguageManager.html">LanguageManager</a></li>
              <li><a href="../../../modules/language/XMLUtils.html">XMLUtils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Agents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Agents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Agents" class="nav nav-list">
              <li><a href="../../../modules/LiveDevelopment/Agents/ConsoleAgent.html">ConsoleAgent</a></li>
              <li><a href="../../../modules/LiveDevelopment/Agents/CSSAgent.html">CSSAgent</a></li>
              <li><a href="../../../modules/LiveDevelopment/Agents/DOMAgent.html">DOMAgent</a></li>
              <li><a href="../../../modules/LiveDevelopment/Agents/DOMHelpers.html">DOMHelpers</a></li>
              <li><a href="../../../modules/LiveDevelopment/Agents/DOMNode.html">DOMNode</a></li>
              <li><a href="../../../modules/LiveDevelopment/Agents/EditAgent.html">EditAgent</a></li>
              <li><a href="../../../modules/LiveDevelopment/Agents/GotoAgent.html">GotoAgent</a></li>
              <li><a href="../../../modules/LiveDevelopment/Agents/HighlightAgent.html">HighlightAgent</a></li>
              <li><a href="../../../modules/LiveDevelopment/Agents/NetworkAgent.html">NetworkAgent</a></li>
              <li><a href="../../../modules/LiveDevelopment/Agents/RemoteAgent.html">RemoteAgent</a></li>
              <li><a href="../../../modules/LiveDevelopment/Agents/RemoteFunctions.html">RemoteFunctions</a></li>
              <li><a href="../../../modules/LiveDevelopment/Agents/ScriptAgent.html">ScriptAgent</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Documents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Documents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Documents" class="nav nav-list">
              <li><a href="../../../modules/LiveDevelopment/Documents/CSSDocument.html">CSSDocument</a></li>
              <li><a href="../../../modules/LiveDevelopment/Documents/CSSPreprocessorDocument.html">CSSPreprocessorDocument</a></li>
              <li><a href="../../../modules/LiveDevelopment/Documents/HTMLDocument.html">HTMLDocument</a></li>
              <li><a href="../../../modules/LiveDevelopment/Documents/JSDocument.html">JSDocument</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Inspector"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Inspector</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Inspector" class="nav nav-list">
              <li><a href="../../../modules/LiveDevelopment/Inspector/Inspector.html">Inspector</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment"><i class="icon-folder-open"></i>LiveDevelopment</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment" class="nav nav-list">
              <li><a href="../../../modules/LiveDevelopment/LiveDevelopment.html">LiveDevelopment</a></li>
              <li><a href="../../../modules/LiveDevelopment/LiveDevelopmentUtils.html">LiveDevelopmentUtils</a></li>
              <li><a href="../../../modules/LiveDevelopment/LiveDevMultiBrowser.html">LiveDevMultiBrowser</a></li>
              <li><a href="../../../modules/LiveDevelopment/LiveDevServerManager.html">LiveDevServerManager</a></li>
              <li><a href="../../../modules/LiveDevelopment/main.html">main</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_documents"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;documents</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_documents" class="nav nav-list">
              <li><a href="../../../modules/LiveDevelopment/MultiBrowserImpl/documents/LiveCSSDocument.html">LiveCSSDocument</a></li>
              <li><a href="../../../modules/LiveDevelopment/MultiBrowserImpl/documents/LiveDocument.html">LiveDocument</a></li>
              <li><a href="../../../modules/LiveDevelopment/MultiBrowserImpl/documents/LiveHTMLDocument.html">LiveHTMLDocument</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_language"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;language</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_language" class="nav nav-list">
              <li><a href="../../../modules/LiveDevelopment/MultiBrowserImpl/language/HTMLInstrumentation.html">HTMLInstrumentation</a></li>
              <li><a href="../../../modules/LiveDevelopment/MultiBrowserImpl/language/HTMLSimpleDOM.html">HTMLSimpleDOM</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_launchers"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;launchers</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_launchers" class="nav nav-list">
              <li><a href="../../../modules/LiveDevelopment/MultiBrowserImpl/launchers/Launcher.html">Launcher</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_launchers_node"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;launchers&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_launchers_node" class="nav nav-list">
              <li><a href="../../../modules/LiveDevelopment/MultiBrowserImpl/launchers/node/LauncherDomain.html">LauncherDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_protocol"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;protocol</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_protocol" class="nav nav-list">
              <li><a href="../../../modules/LiveDevelopment/MultiBrowserImpl/protocol/LiveDevProtocol.html">LiveDevProtocol</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_protocol_remote"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;protocol&#x2F;remote</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_protocol_remote" class="nav nav-list">
              <li><a href="../../../modules/LiveDevelopment/MultiBrowserImpl/protocol/remote/DocumentObserver.html">DocumentObserver</a></li>
              <li><a href="../../../modules/LiveDevelopment/MultiBrowserImpl/protocol/remote/LiveDevProtocolRemote.html">LiveDevProtocolRemote</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_transports_node"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;transports&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_transports_node" class="nav nav-list">
              <li><a href="../../../modules/LiveDevelopment/MultiBrowserImpl/transports/node/NodeSocketTransportDomain.html">NodeSocketTransportDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_transports"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;transports</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_transports" class="nav nav-list">
              <li><a href="../../../modules/LiveDevelopment/MultiBrowserImpl/transports/NodeSocketTransport.html">NodeSocketTransport</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_MultiBrowserImpl_transports_remote"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;MultiBrowserImpl&#x2F;transports&#x2F;remote</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_MultiBrowserImpl_transports_remote" class="nav nav-list">
              <li><a href="../../../modules/LiveDevelopment/MultiBrowserImpl/transports/remote/NodeSocketTransportRemote.html">NodeSocketTransportRemote</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_Servers"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;Servers</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_Servers" class="nav nav-list">
              <li><a href="../../../modules/LiveDevelopment/Servers/BaseServer.html">BaseServer</a></li>
              <li><a href="../../../modules/LiveDevelopment/Servers/FileServer.html">FileServer</a></li>
              <li><a href="../../../modules/LiveDevelopment/Servers/UserServer.html">UserServer</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_transports_node"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;transports&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_transports_node" class="nav nav-list">
              <li><a href="../../../modules/LiveDevelopment/transports/node/WebSocketTransportDomain.html">WebSocketTransportDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_LiveDevelopment_transports"><i class="icon-folder-open"></i>LiveDevelopment&#x2F;transports</a>
              </li>
            </ul>
            <ul id="package_LiveDevelopment_transports" class="nav nav-list">
              <li><a href="../../../modules/LiveDevelopment/transports/WebSocketTransport.html">WebSocketTransport</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_preferences"><i class="icon-folder-open"></i>preferences</a>
              </li>
            </ul>
            <ul id="package_preferences" class="nav nav-list">
              <li><a href="../../../modules/preferences/PreferencesBase.html">PreferencesBase</a></li>
              <li><a href="../../../modules/preferences/PreferencesDialogs.html">PreferencesDialogs</a></li>
              <li><a href="../../../modules/preferences/PreferencesImpl.html">PreferencesImpl</a></li>
              <li><a href="../../../modules/preferences/PreferencesManager.html">PreferencesManager</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_project"><i class="icon-folder-open"></i>project</a>
              </li>
            </ul>
            <ul id="package_project" class="nav nav-list">
              <li><a href="../../../modules/project/FileSyncManager.html">FileSyncManager</a></li>
              <li><a href="../../../modules/project/FileTreeView.html">FileTreeView</a></li>
              <li><a href="../../../modules/project/FileTreeViewModel.html">FileTreeViewModel</a></li>
              <li><a href="../../../modules/project/FileViewController.html">FileViewController</a></li>
              <li><a href="../../../modules/project/ProjectManager.html">ProjectManager</a></li>
              <li><a href="../../../modules/project/ProjectModel.html">ProjectModel</a></li>
              <li><a href="../../../modules/project/SidebarView.html">SidebarView</a></li>
              <li><a href="../../../modules/project/WorkingSetSort.html">WorkingSetSort</a></li>
              <li><a href="../../../modules/project/WorkingSetView.html">WorkingSetView</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_search"><i class="icon-folder-open"></i>search</a>
              </li>
            </ul>
            <ul id="package_search" class="nav nav-list">
              <li><a href="../../../modules/search/FileFilters.html">FileFilters</a></li>
              <li><a href="../../../modules/search/FindBar.html">FindBar</a></li>
              <li><a href="../../../modules/search/FindInFiles.html">FindInFiles</a></li>
              <li><a href="../../../modules/search/FindInFilesUI.html">FindInFilesUI</a></li>
              <li><a href="../../../modules/search/FindReplace.html">FindReplace</a></li>
              <li><a href="../../../modules/search/FindUtils.html">FindUtils</a></li>
              <li><a href="../../../modules/search/QuickOpen.html">QuickOpen</a></li>
              <li><a href="../../../modules/search/QuickOpenHelper.html">QuickOpenHelper</a></li>
              <li><a href="../../../modules/search/QuickSearchField.html">QuickSearchField</a></li>
              <li><a href="../../../modules/search/ScrollTrackMarkers.html">ScrollTrackMarkers</a></li>
              <li><a href="../../../modules/search/SearchModel.html">SearchModel</a></li>
              <li><a href="../../../modules/search/SearchResultsView.html">SearchResultsView</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_search_node"><i class="icon-folder-open"></i>search&#x2F;node</a>
              </li>
            </ul>
            <ul id="package_search_node" class="nav nav-list">
              <li><a href="../../../modules/search/node/FindInFilesDomain.html">FindInFilesDomain</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_utils"><i class="icon-folder-open"></i>utils</a>
              </li>
            </ul>
            <ul id="package_utils" class="nav nav-list">
              <li><a href="../../../modules/utils/AnimationUtils.html">AnimationUtils</a></li>
              <li><a href="../../../modules/utils/AppInit.html">AppInit</a></li>
              <li><a href="../../../modules/utils/Async.html">Async</a></li>
              <li><a href="../../../modules/utils/BuildInfoUtils.html">BuildInfoUtils</a></li>
              <li><a href="../../../modules/utils/ColorUtils.html">ColorUtils</a></li>
              <li><a href="../../../modules/utils/Compatibility.html">Compatibility</a></li>
              <li><a href="../../../modules/utils/DeprecationWarning.html">DeprecationWarning</a></li>
              <li><a href="../../../modules/utils/DragAndDrop.html">DragAndDrop</a></li>
              <li><a href="../../../modules/utils/DropdownEventHandler.html">DropdownEventHandler</a></li>
              <li><a href="../../../modules/utils/EventDispatcher.html">EventDispatcher</a></li>
              <li><a href="../../../modules/utils/ExtensionLoader.html">ExtensionLoader</a></li>
              <li><a href="../../../modules/utils/ExtensionUtils.html">ExtensionUtils</a></li>
              <li><a href="../../../modules/utils/Global.html">Global</a></li>
              <li><a href="../../../modules/utils/HealthLogger.html">HealthLogger</a></li>
              <li><a href="../../../modules/utils/KeyEvent.html">KeyEvent</a></li>
              <li><a href="../../../modules/utils/LocalizationUtils.html">LocalizationUtils</a></li>
              <li><a href="../../../modules/utils/NativeApp.html">NativeApp</a></li>
              <li><a href="../../../modules/utils/NodeConnection.html">NodeConnection</a></li>
              <li><a href="../../../modules/utils/NodeDomain.html">NodeDomain</a></li>
              <li><a href="../../../modules/utils/PerfUtils.html">PerfUtils</a></li>
              <li><a href="../../../modules/utils/Resizer.html">Resizer</a></li>
              <li><a href="../../../modules/utils/ShellAPI.html">ShellAPI</a></li>
              <li><a href="../../../modules/utils/StringMatch.html">StringMatch</a></li>
              <li><a href="../../../modules/utils/StringUtils.html">StringUtils</a></li>
              <li><a href="../../../modules/utils/TokenUtils.html">TokenUtils</a></li>
              <li><a href="../../../modules/utils/UpdateNotification.html">UpdateNotification</a></li>
              <li><a href="../../../modules/utils/UrlParams.html">UrlParams</a></li>
              <li><a href="../../../modules/utils/ValidationUtils.html">ValidationUtils</a></li>
              <li><a href="../../../modules/utils/ViewUtils.html">ViewUtils</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_view"><i class="icon-folder-open"></i>view</a>
              </li>
            </ul>
            <ul id="package_view" class="nav nav-list">
              <li><a href="../../../modules/view/MainViewFactory.html">MainViewFactory</a></li>
              <li><a href="../../../modules/view/MainViewManager.html">MainViewManager</a></li>
              <li><a href="../../../modules/view/Pane.html">Pane</a></li>
              <li><a href="../../../modules/view/ThemeManager.html">ThemeManager</a></li>
              <li><a href="../../../modules/view/ThemeSettings.html">ThemeSettings</a></li>
              <li><a href="../../../modules/view/ThemeView.html">ThemeView</a></li>
              <li><a href="../../../modules/view/ViewCommandHandlers.html">ViewCommandHandlers</a></li>
              <li><a href="../../../modules/view/ViewStateManager.html">ViewStateManager</a></li>
              <li><a href="../../../modules/view/WorkspaceManager.html">WorkspaceManager</a></li>
            </ul>
            <ul class="nav nav-list package-list">
              <li class="nav-header">
                <a href="javascript:;" class="toggle-package" data-package="package_widgets"><i class="icon-folder-open"></i>widgets</a>
              </li>
            </ul>
            <ul id="package_widgets" class="nav nav-list">
              <li><a href="../../../modules/widgets/bootstrap-alerts.html">bootstrap-alerts</a></li>
              <li><a href="../../../modules/widgets/bootstrap-button.html">bootstrap-button</a></li>
              <li><a href="../../../modules/widgets/bootstrap-dropdown.html">bootstrap-dropdown</a></li>
              <li><a href="../../../modules/widgets/bootstrap-modal.html">bootstrap-modal</a></li>
              <li><a href="../../../modules/widgets/bootstrap-popover.html">bootstrap-popover</a></li>
              <li><a href="../../../modules/widgets/bootstrap-scrollspy.html">bootstrap-scrollspy</a></li>
              <li><a href="../../../modules/widgets/bootstrap-tab.html">bootstrap-tab</a></li>
              <li><a href="../../../modules/widgets/bootstrap-tooltip.html">bootstrap-tooltip</a></li>
              <li><a href="../../../modules/widgets/bootstrap-twipsy-mod.html">bootstrap-twipsy-mod</a></li>
              <li><a href="../../../modules/widgets/DefaultDialogs.html">DefaultDialogs</a></li>
              <li><a href="../../../modules/widgets/Dialogs.html">Dialogs</a></li>
              <li><a href="../../../modules/widgets/DropdownButton.html">DropdownButton</a></li>
              <li><a href="../../../modules/widgets/InlineMenu.html">InlineMenu</a></li>
              <li><a href="../../../modules/widgets/ModalBar.html">ModalBar</a></li>
              <li><a href="../../../modules/widgets/PopUpManager.html">PopUpManager</a></li>
              <li><a href="../../../modules/widgets/StatusBar.html">StatusBar</a></li>
            </ul>
          </div>
        </div>
        <div class="module span9">
<h1>TernNodeDomain</h1>


<section class="description">
    <h3>Description</h3>
    
    <div></div>
    
</section>

<section id="dependencies">
    <h3>Dependencies</h3>

    <ul class="nav nav-list">
        <li><a href="..&#x2F;..&#x2F;../modules/tern/plugin/angular.html">angular</a></li>
        <li><a href="..&#x2F;..&#x2F;../modules/tern/plugin/doc_comment.html">doc_comment</a></li>
        <li><a href="..&#x2F;..&#x2F;../modules/./ExtractFileContent.html">ExtractFileContent</a></li>
        <li><a href="..&#x2F;..&#x2F;../modules/tern/lib/infer.html">infer</a></li>
        <li><a href="..&#x2F;..&#x2F;../modules/tern/plugin/requirejs.html">requirejs</a></li>
        <li><a href="..&#x2F;..&#x2F;../modules/tern.html">tern</a></li>
    </ul>

</section>

<section id="functions">

    <h3>Functions 
<label class="checkbox">
    <input class="toggle-public" type="checkbox"> Show Private Members
</label>    </h3>

<div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _log 
        <a class="anchor" href="#-_log" id="-_log"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Send a log message back from the node to the main thread</p>
</div>
    
<dl>
    <dt>
        msg
        <span class="label label-info">string</span>
    </dt>
    <dd>the log message</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">function _log(msg) {
    console.log(msg);
}</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _reportError 
        <a class="anchor" href="#-_reportError" id="-_reportError"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Report exception</p>
</div>
    
<dl>
    <dt>
        e
        <span class="label label-info">Error</span>
    </dt>
    <dd>the error object</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">function _reportError(e, file) {
    if (e instanceof Infer.TimedOut) {
        &#x2F;&#x2F; Post a message back to the main thread with timedout info
        self.postMessage({
            type: MessageIds.TERN_INFERENCE_TIMEDOUT,
            file: file
        });
    } else {
        _log(&quot;Error thrown in tern_node domain:&quot; + e.message + &quot;\n&quot; + e.stack);
    }
}</code></pre></div><div class="member private">

<span class="pull-right scope">
    Private
    
</span>
    <h4>
        _requestFileContent 
        <a class="anchor" href="#-_requestFileContent" id="-_requestFileContent"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Callback handle to request contents of a file from the main thread</p>
</div>
    
<dl>
    <dt>
        file
        <span class="label label-info">string</span>
    </dt>
    <dd>the name of the file</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">function _requestFileContent(name) {
    self.postMessage({
        type: MessageIds.TERN_GET_FILE_MSG,
        file: name
    });
}</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        buildRequest 
        <a class="anchor" href="#-buildRequest" id="-buildRequest"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Build an object that can be used as a request to tern.</p>
</div>
    
<dl>
    <dt>
        fileInfo
        <span class="label label-info">{type: string,name: string,offsetLines: number,text: string}</span>
    </dt>
    <dd>type of update, name of file, and the text of the update. For "full" updates, the whole text of the file is present. For "part" updates, the changed portion of the text. For "empty" updates, the file has not been modified and the text is empty.</dd>
    <dt>
        query
        <span class="label label-info">string</span>
    </dt>
    <dd>the type of request being made</dd>
    <dt>
        offset
        <span class="label label-info">{line: number,ch: number}</span>
    </dt>
    <dd></dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">function buildRequest(fileInfo, query, offset) {
    query = {type: query};
    query.start = offset;
    query.end = offset;
    query.file = (fileInfo.type === MessageIds.TERN_FILE_INFO_TYPE_PART) ? &quot;#0&quot; : fileInfo.name;
    query.filter = false;
    query.sort = false;
    query.depths = true;
    query.guess = true;
    query.origins = true;
    query.types = true;
    query.expandWordForward = false;
    query.lineCharPositions = true;
    query.docs = true;
    query.urls = true;

    var request = {query: query, files: [], offset: offset, timeout: inferenceTimeout};
    if (fileInfo.type !== MessageIds.TERN_FILE_INFO_TYPE_EMPTY) {
        &#x2F;&#x2F; Create a copy to mutate ahead
        var fileInfoCopy = JSON.parse(JSON.stringify(fileInfo));
        request.files.push(fileInfoCopy);
    }

    return request;
}</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        createEmptyUpdate 
        <a class="anchor" href="#-createEmptyUpdate" id="-createEmptyUpdate"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Create a &quot;empty&quot; update object.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>full path of the file.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">{type: string,name: string,offsetLines: number,text: string}</span></dt>
    <dd>- "empty" update.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">function createEmptyUpdate(path) {
    return {type: MessageIds.TERN_FILE_INFO_TYPE_EMPTY,
        name: path,
        offsetLines: 0,
        text: &quot;&quot;};
}</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        formatParameterHint 
        <a class="anchor" href="#-formatParameterHint" id="-formatParameterHint"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Format the given parameter array. Handles separators between
parameters, syntax for optional parameters, and the order of the
parameter type and parameter name.</p>
</div>
    
<dl>
    <dt>
        params
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">Array.&lt;{name: string, type: string, isOptional: boolean}&gt;</span>
    </dt>
    <dd>array of parameter descriptors</dd>
    <dt>
        appendSeparators
        <span class="label label-optional">optional</span>
        <span class="label label-info">function(string)</span>
    </dt>
    <dd>callback function to append separators. The separator is passed to the callback.</dd>
    <dt>
        appendParameter
        <span class="label label-optional">optional</span>
        <span class="label label-info">function(string, number)</span>
    </dt>
    <dd>callback function to append parameter. The formatted parameter type and name is passed to the callback along with the current index of the parameter.</dd>
    <dt>
        typesOnly
        <span class="label label-optional">optional</span>
        <span class="label label-info">boolean</span>
    </dt>
    <dd>only show parameter types. The default behavior is to include both parameter names and types.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">string</span></dt>
    <dd>- formatted parameter hint</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function formatParameterHint(params, appendSeparators, appendParameter, typesOnly) {
        var result = &quot;&quot;,
            pendingOptional = false;

        params.forEach(function (value, i) {
            var param = value.type,
                separators = &quot;&quot;;

            if (value.isOptional) {
                &#x2F;&#x2F; if an optional param is following by an optional parameter, then
                &#x2F;&#x2F; terminate the bracket. Otherwise enclose a required parameter
                &#x2F;&#x2F; in the same bracket.
                if (pendingOptional) {
                    separators += &quot;]&quot;;
                }

                pendingOptional = true;
            }

            if (i &gt; 0) {
                separators += &quot;, &quot;;
            }

            if (value.isOptional) {
                separators += &quot;[&quot;;
            }

            if (appendSeparators) {
                appendSeparators(separators);
            }

            result += separators;

            if (!typesOnly) {
                param += &quot; &quot; + value.name;
            }

            if (appendParameter) {
                appendParameter(param, i);
            }

            result += param;

        });

        if (pendingOptional) {
            if (appendSeparators) {
                appendSeparators(&quot;]&quot;);
            }

            result += &quot;]&quot;;
        }

        return result;
    }</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getFile 
        <a class="anchor" href="#-getFile" id="-getFile"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Provide the contents of the requested file to tern</p>
</div>
    
<dl>
    <dt>
        name
        <span class="label label-info">string</span>
    </dt>
    <dd>the name of the file</dd>
    <dt>
        next
        <span class="label label-info">Function</span>
    </dt>
    <dd>the function to call with the text of the file once it has been read in.</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">function getFile(name, next) {
    &#x2F;&#x2F; save the callback
    fileCallBacks[name] = next;

    setImmediate(function () {
        try {
            ExtractContent.extractContent(name, handleGetFile, _requestFileContent);
        } catch (error) {
            console.log(error);
        }
    });
}</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getJumptoDef 
        <a class="anchor" href="#-getJumptoDef" id="-getJumptoDef"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Get definition location</p>
</div>
    
<dl>
    <dt>
        fileInfo
        <span class="label label-info">{type: string,name: string,offsetLines: number,text: string}</span>
    </dt>
    <dd>type of update, name of file, and the text of the update. For "full" updates, the whole text of the file is present. For "part" updates, the changed portion of the text. For "empty" updates, the file has not been modified and the text is empty.</dd>
    <dt>
        offset
        <span class="label label-info">{line: number,ch: number}</span>
    </dt>
    <dd>the offset into the file for cursor</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">function getJumptoDef(fileInfo, offset) {
    var request = buildRequest(fileInfo, &quot;definition&quot;, offset);
    &#x2F;&#x2F; request.query.typeOnly = true;       &#x2F;&#x2F; FIXME: tern doesn&#39;t work exactly right yet.

    try {
        ternServer.request(request, function (error, data) {
            if (error) {
                _log(&quot;Error returned from Tern &#39;definition&#39; request: &quot; + error);
                self.postMessage({type: MessageIds.TERN_JUMPTODEF_MSG, file: fileInfo.name, offset: offset});
                return;
            }
            var response = {
                type: MessageIds.TERN_JUMPTODEF_MSG,
                file: _getNormalizedFilename(fileInfo.name),
                resultFile: data.file,
                offset: offset,
                start: data.start,
                end: data.end
            };

            request = buildRequest(fileInfo, &quot;type&quot;, offset);
            &#x2F;&#x2F; See if we can tell if the reference is to a Function type
            ternServer.request(request, function (error, data) {
                if (!error) {
                    response.isFunction = data.type.length &gt; 2 &amp;&amp; data.type.substring(0, 2) === &quot;fn&quot;;
                }

                &#x2F;&#x2F; Post a message back to the main thread with the definition
                self.postMessage(response);
            });

        });
    } catch (e) {
        _reportError(e, fileInfo.name);
    }
}</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getParameters 
        <a class="anchor" href="#-getParameters" id="-getParameters"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Given a Tern type object, convert it to an array of Objects, where each object describes
 a parameter.</p>
</div>
    
<dl>
    <dt>
        inferFnType
        <span class="label label-non-nullable">non-nullable</span>
        <span class="label label-info">Infer.Fn</span>
    </dt>
    <dd>type to convert.</dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">Array&lt;{name: string,type: string,isOptional: boolean}&gt;</span></dt>
    <dd>where each entry in the array is a parameter.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">function getParameters(inferFnType) {

    &#x2F;&#x2F; work around define functions before use warning.
    var recordTypeToString, inferTypeToString, processInferFnTypeParameters, inferFnTypeToString;</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getRefs 
        <a class="anchor" href="#-getRefs" id="-getRefs"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Get all References location</p>
</div>
    
<dl>
    <dt>
        fileInfo
        <span class="label label-info">{type: string,name: string,offsetLines: number,text: string}</span>
    </dt>
    <dd>type of update, name of file, and the text of the update. For "full" updates, the whole text of the file is present. For "part" updates, the changed portion of the text. For "empty" updates, the file has not been modified and the text is empty.</dd>
    <dt>
        offset
        <span class="label label-info">{line: number,ch: number}</span>
    </dt>
    <dd>the offset into the file for cursor</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript"> function getRefs(fileInfo, offset) {
    var request = buildRequest(fileInfo, &quot;refs&quot;, offset);
    try {
        ternServer.request(request, function (error, data) {
            if (error) {
                _log(&quot;Error returned from Tern &#39;refs&#39; request: &quot; + error);
                var response = {
                    type: MessageIds.TERN_REFS,
                    error: error.message
                };
                self.postMessage(response);
                return;
            }
            var response = {
                type: MessageIds.TERN_REFS,
                file: fileInfo.name,
                offset: offset,
                references: data
            };
            &#x2F;&#x2F; Post a message back to the main thread with the results
            self.postMessage(response);
        });
    } catch (e) {
        _reportError(e, fileInfo.name);
    }
}</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getScopeData 
        <a class="anchor" href="#-getScopeData" id="-getScopeData"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Get scope at the offset in the file</p>
</div>
    
<dl>
    <dt>
        fileInfo
        <span class="label label-info">{type: string,name: string,offsetLines: number,text: string}</span>
    </dt>
    <dd>type of update, name of file, and the text of the update. For "full" updates, the whole text of the file is present. For "part" updates, the changed portion of the text. For "empty" updates, the file has not been modified and the text is empty.</dd>
    <dt>
        offset
        <span class="label label-info">{line: number,ch: number}</span>
    </dt>
    <dd>the offset into the file for cursor</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">function getScopeData(fileInfo, offset) {
    &#x2F;&#x2F; Create a new tern Server
    &#x2F;&#x2F; Existing tern server resolves all the required modules which might take time
    &#x2F;&#x2F; We only need to analyze single file for getting the scope
    ternOptions.plugins = {};
    var ternServer = new Tern.Server(ternOptions);
    ternServer.addFile(fileInfo.name, fileInfo.text);

    var error;
    var request = buildRequest(fileInfo, &quot;completions&quot;, offset); &#x2F;&#x2F; for primepump

    try {
        &#x2F;&#x2F; primepump
        ternServer.request(request, function (ternError, data) {
            if (ternError) {
                _log(&quot;Error for Tern request: \n&quot; + JSON.stringify(request) + &quot;\n&quot; + ternError);
                error = ternError.toString();
            } else {
                var file = ternServer.findFile(fileInfo.name);
                var scope = Infer.scopeAt(file.ast, Tern.resolvePos(file, offset), file.scope);

                if (scope) {
                    &#x2F;&#x2F; Remove unwanted properties to remove cycles in the object
                    scope = JSON.parse(JSON.stringify(scope, function(key, value) {
                        if ([&quot;proto&quot;, &quot;propertyOf&quot;, &quot;onNewProp&quot;, &quot;sourceFile&quot;, &quot;maybeProps&quot;].includes(key)) {
                            return undefined;
                        }
                        else if (key === &quot;fnType&quot;) {
                             return value.name || &quot;FunctionExpression&quot;;
                        }
                        else if (key === &quot;props&quot;) {
                            for (var key in value) {
                                value[key] = value[key].propertyName;
                            }
                            return value;
                        } else if (key === &quot;originNode&quot;) {
                            return value &amp;&amp; {
                                start: value.start,
                                end: value.end,
                                type: value.type,
                                body: {
                                    start: value.body.start,
                                    end: value.body.end
                                }
                            };
                        }

                        return value;
                    }));
                }

                self.postMessage({
                    type: MessageIds.TERN_SCOPEDATA_MSG,
                    file: _getNormalizedFilename(fileInfo.name),
                    offset: offset,
                    scope: scope
                });
            }
        });
    } catch (e) {
        _reportError(e, fileInfo.name);
    } finally {
        ternServer.reset();
        Infer.resetGuessing();
    }
}</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getTernHints 
        <a class="anchor" href="#-getTernHints" id="-getTernHints"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Get the completions for the given offset</p>
</div>
    
<dl>
    <dt>
        fileInfo
        <span class="label label-info">{type: string,name: string,offsetLines: number,text: string}</span>
    </dt>
    <dd>type of update, name of file, and the text of the update. For "full" updates, the whole text of the file is present. For "part" updates, the changed portion of the text. For "empty" updates, the file has not been modified and the text is empty.</dd>
    <dt>
        offset
        <span class="label label-info">{line: number,ch: number}</span>
    </dt>
    <dd>the offset into the file where we want completions for</dd>
    <dt>
        isProperty
        <span class="label label-info">boolean</span>
    </dt>
    <dd>true if getting a property hint, otherwise getting an identifier hint.</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">function getTernHints(fileInfo, offset, isProperty) {
    var request = buildRequest(fileInfo, &quot;completions&quot;, offset),
        i;
    &#x2F;&#x2F;_log(&quot;request &quot; + dir + &quot; &quot; + file + &quot; &quot; + offset &#x2F;*+ &quot; &quot; + text *&#x2F;);
    try {
        ternServer.request(request, function (error, data) {
            var completions = [];
            if (error) {
                _log(&quot;Error returned from Tern &#39;completions&#39; request: &quot; + error);
            } else {
                &#x2F;&#x2F;_log(&quot;found &quot; + data.completions + &quot; for &quot; + file + &quot;@&quot; + offset);
                completions = data.completions.map(function (completion) {
                    return {value: completion.name, type: completion.type, depth: completion.depth,
                        guess: completion.guess, origin: completion.origin, doc: completion.doc, url: completion.url};
                });
            }

            if (completions.length &gt; 0 || !isProperty) {
                &#x2F;&#x2F; Post a message back to the main thread with the completions
                self.postMessage({type: MessageIds.TERN_COMPLETIONS_MSG,
                    file: _getNormalizedFilename(fileInfo.name),
                    offset: offset,
                    completions: completions
                    });
            } else {
                &#x2F;&#x2F; if there are no completions, then get all the properties
                getTernProperties(fileInfo, offset, MessageIds.TERN_COMPLETIONS_MSG);
            }
        });
    } catch (e) {
        _reportError(e, fileInfo.name);
    }
}</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        getTernProperties 
        <a class="anchor" href="#-getTernProperties" id="-getTernProperties"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Get all the known properties for guessing.</p>
</div>
    
<dl>
    <dt>
        fileInfo
        <span class="label label-info">{type: string,name: string,offsetLines: number,text: string}</span>
    </dt>
    <dd>type of update, name of file, and the text of the update. For "full" updates, the whole text of the file is present. For "part" updates, the changed portion of the text. For "empty" updates, the file has not been modified and the text is empty.</dd>
    <dt>
        offset
        <span class="label label-info">{line: number,ch: number}</span>
    </dt>
    <dd>the offset into the file where we want completions for</dd>
    <dt>
        type
        <span class="label label-info">string</span>
    </dt>
    <dd>the type of the message to reply with.</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">function getTernProperties(fileInfo, offset, type) {

    var request = buildRequest(fileInfo, &quot;properties&quot;, offset),
        i;
    &#x2F;&#x2F;_log(&quot;tern properties: request &quot; + request.type + dir + &quot; &quot; + file);
    try {
        ternServer.request(request, function (error, data) {
            var properties = [];
            if (error) {
                _log(&quot;Error returned from Tern &#39;properties&#39; request: &quot; + error);
            } else {
                &#x2F;&#x2F;_log(&quot;tern properties: completions = &quot; + data.completions.length);
                properties = data.completions.map(function (completion) {
                    return {value: completion, type: completion.type, guess: true};
                });
            }
            &#x2F;&#x2F; Post a message back to the main thread with the completions
            self.postMessage({type: type,
                              file: _getNormalizedFilename(fileInfo.name),
                              offset: offset,
                              properties: properties
                });
        });
    } catch (e) {
        _reportError(e, fileInfo.name);
    }
}</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleAddFiles 
        <a class="anchor" href="#-handleAddFiles" id="-handleAddFiles"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Add an array of files to tern.</p>
</div>
    
<dl>
    <dt>
        files
        <span class="label label-info">Array.&lt;string&gt;</span>
    </dt>
    <dd>each string in the array is the full path of a file.</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">function handleAddFiles(files) {
    files.forEach(function (file) {
        ternServer.addFile(file);
    });
}</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleFunctionType 
        <a class="anchor" href="#-handleFunctionType" id="-handleFunctionType"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Get the function type for the given offset</p>
</div>
    
<dl>
    <dt>
        fileInfo
        <span class="label label-info">{type: string,name: string,offsetLines: number,text: string}</span>
    </dt>
    <dd>type of update, name of file, and the text of the update. For "full" updates, the whole text of the file is present. For "part" updates, the changed portion of the text. For "empty" updates, the file has not been modified and the text is empty.</dd>
    <dt>
        offset
        <span class="label label-info">{line: number,ch: number}</span>
    </dt>
    <dd>the offset into the file where we want completions for</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">function handleFunctionType(fileInfo, offset) {
    var request = buildRequest(fileInfo, &quot;type&quot;, offset),
        error;

    request.query.preferFunction = true;

    var fnType = &quot;&quot;;
    try {
        ternServer.request(request, function (ternError, data) {

            if (ternError) {
                _log(&quot;Error for Tern request: \n&quot; + JSON.stringify(request) + &quot;\n&quot; + ternError);
                error = ternError.toString();
            } else {
                var file = ternServer.findFile(fileInfo.name);

                &#x2F;&#x2F; convert query from partial to full offsets
                var newOffset = offset;
                if (fileInfo.type === MessageIds.TERN_FILE_INFO_TYPE_PART) {
                    newOffset = {line: offset.line + fileInfo.offsetLines, ch: offset.ch};
                }

                request = buildRequest(createEmptyUpdate(fileInfo.name), &quot;type&quot;, newOffset);

                var expr = Tern.findQueryExpr(file, request.query);
                Infer.resetGuessing();
                var type = Infer.expressionType(expr);
                type = type.getFunctionType() || type.getType();

                if (type) {
                    fnType = getParameters(type);
                } else {
                    ternError = &quot;No parameter type found&quot;;
                    _log(ternError);
                }
            }
        });
    } catch (e) {
        _reportError(e, fileInfo.name);
    }

    &#x2F;&#x2F; Post a message back to the main thread with the completions
    self.postMessage({type: MessageIds.TERN_CALLED_FUNC_TYPE_MSG,
        file: _getNormalizedFilename(fileInfo.name),
        offset: offset,
        fnType: fnType,
        error: error
        });
}</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleGetFile 
        <a class="anchor" href="#-handleGetFile" id="-handleGetFile"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Handle a response from the main thread providing the contents of a file</p>
</div>
    
<dl>
    <dt>
        file
        <span class="label label-info">string</span>
    </dt>
    <dd>the name of the file</dd>
    <dt>
        text
        <span class="label label-info">string</span>
    </dt>
    <dd>the contents of the file</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">function handleGetFile(file, text) {
    var next = fileCallBacks[file];
    if (next) {
        try {
            next(null, text);
        } catch (e) {
            _reportError(e, file);
        }
    }
    delete fileCallBacks[file];
}

function _getNormalizedFilename(fileName) {
    if (!isUntitledDoc &amp;&amp; ternServer.projectDir &amp;&amp; fileName.indexOf(ternServer.projectDir) === -1) {
        fileName = ternServer.projectDir + fileName;
    }
    return fileName;
}

function _getDenormalizedFilename(fileName) {
    if (!isUntitledDoc &amp;&amp; ternServer.projectDir &amp;&amp; fileName.indexOf(ternServer.projectDir) === 0) {
        fileName = fileName.slice(ternServer.projectDir.length);
    }
    return fileName;
}</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handlePrimePump 
        <a class="anchor" href="#-handlePrimePump" id="-handlePrimePump"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Make a completions request to tern to force tern to resolve files
 and create a fast first lookup for the user.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>the path of the file</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">function handlePrimePump(path) {
    var fileName = _getDenormalizedFilename(path);
    var fileInfo = createEmptyUpdate(fileName),
        request = buildRequest(fileInfo, &quot;completions&quot;, {line: 0, ch: 0});

    try {
        ternServer.request(request, function (error, data) {
            &#x2F;&#x2F; Post a message back to the main thread
            self.postMessage({type: MessageIds.TERN_PRIME_PUMP_MSG,
                path: _getNormalizedFilename(path)
                });
        });
    } catch (e) {
        _reportError(e, path);
    }
}</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        handleUpdateFile 
        <a class="anchor" href="#-handleUpdateFile" id="-handleUpdateFile"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Update the context of a file in tern.</p>
</div>
    
<dl>
    <dt>
        path
        <span class="label label-info">string</span>
    </dt>
    <dd>full path of file.</dd>
    <dt>
        text
        <span class="label label-info">string</span>
    </dt>
    <dd>content of the file.</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">function handleUpdateFile(path, text) {

    ternServer.addFile(path, text);

    self.postMessage({type: MessageIds.TERN_UPDATE_FILE_MSG,
        path: path
        });

    &#x2F;&#x2F; reset to get the best hints with the updated file.
    ternServer.reset();
    Infer.resetGuessing();
}</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        inferArrTypeToString 
        <a class="anchor" href="#-inferArrTypeToString" id="-inferArrTypeToString"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Convert an infer array type to a string.</p>
<p> Formatted using google closure style. For example:</p>
<p> &quot;Array.&lt;string, number&gt;&quot;</p>
</div>
    
<dl>
    <dt>
        inferArrType
        <span class="label label-info">Infer.Arr</span>
    </dt>
    <dd></dd>
</dl><dl>
    <dt>Returns: <span class="label label-info">string</span></dt>
    <dd>- array formatted in google closure style.</dd>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">    function inferArrTypeToString(inferArrType) {
        var result = &quot;Array.&lt;&quot;;

        result += inferArrType.props[&quot;&lt;i&gt;&quot;].types.map(inferTypeToString).join(&quot;, &quot;);

        &#x2F;&#x2F; workaround case where types is zero length
        if (inferArrType.props[&quot;&lt;i&gt;&quot;].types.length === 0) {
            result += &quot;Object&quot;;
        }
        result += &quot;&gt;&quot;;

        return result;
    }</code></pre></div><div class="member public">

<span class="pull-right scope">
    
    Public API
</span>
    <h4>
        init 
        <a class="anchor" href="#-init" id="-init"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Initialize the test domain with commands and events related to find in files.</p>
</div>
    
<dl>
    <dt>
        domainManager
        <span class="label label-info">DomainManager</span>
    </dt>
    <dd>The DomainManager for the TernNodeDomain</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">function init(domainManager) {
    if (!domainManager.hasDomain(&quot;TernNodeDomain&quot;)) {
        domainManager.registerDomain(&quot;TernNodeDomain&quot;, {major: 0, minor: 1});
    }

    _domainManager = domainManager;

    domainManager.registerCommand(
        &quot;TernNodeDomain&quot;,       &#x2F;&#x2F; domain name
        &quot;invokeTernCommand&quot;,    &#x2F;&#x2F; command name
        invokeTernCommand,   &#x2F;&#x2F; command handler function
        false,          &#x2F;&#x2F; this command is synchronous in Node
        &quot;Invokes a tern command on node&quot;,
        [{name: &quot;commandConfig&quot;, &#x2F;&#x2F; parameters
            type: &quot;object&quot;,
            description: &quot;Object containing tern command configuration&quot;}]
    );

    domainManager.registerCommand(
        &quot;TernNodeDomain&quot;,       &#x2F;&#x2F; domain name
        &quot;setInterface&quot;,    &#x2F;&#x2F; command name
        setInterface,   &#x2F;&#x2F; command handler function
        false,          &#x2F;&#x2F; this command is synchronous in Node
        &quot;Sets the shared message interface&quot;,
        [{name: &quot;msgInterface&quot;, &#x2F;&#x2F; parameters
            type: &quot;object&quot;,
            description: &quot;Object containing messageId enums&quot;}]
    );

    domainManager.registerCommand(
        &quot;TernNodeDomain&quot;,       &#x2F;&#x2F; domain name
        &quot;resetTernServer&quot;,    &#x2F;&#x2F; command name
        resetTernServer,   &#x2F;&#x2F; command handler function
        true,          &#x2F;&#x2F; this command is synchronous in Node
        &quot;Resets an existing tern server&quot;
    );

    domainManager.registerEvent(
        &quot;TernNodeDomain&quot;,     &#x2F;&#x2F; domain name
        &quot;data&quot;,   &#x2F;&#x2F; event name
        [
            {
                name: &quot;data&quot;,
                type: &quot;Object&quot;,
                description: &quot;data to be returned to main thread&quot;
            }
        ]
    );
    setTimeout(checkInterfaceAndReInit, 1000);
}

exports.init = init;</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        initTernServer 
        <a class="anchor" href="#-initTernServer" id="-initTernServer"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Create a new tern server.</p>
</div>
    
<dl>
    <dt>
        env
        <span class="label label-info">Object</span>
    </dt>
    <dd>an Object with the environment, as read in from the json files in thirdparty/tern/defs</dd>
    <dt>
        files
        <span class="label label-info">Array.&lt;string&gt;</span>
    </dt>
    <dd>a list of filenames tern should be aware of</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">function initTernServer(env, files) {
    ternOptions = {
        defs: env,
        async: true,
        getFile: getFile,
        plugins: {requirejs: {}, doc_comment: true, angular: true},
        ecmaVersion: 9
    };

    &#x2F;&#x2F; If a server is already created just reset the analysis data before marking it for GC
    if (ternServer) {
        ternServer.reset();
        Infer.resetGuessing();
    }
        
    ternServer = new Tern.Server(ternOptions);

    files.forEach(function (file) {
        ternServer.addFile(file);
    });

}</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        resetTernServer 
        <a class="anchor" href="#-resetTernServer" id="-resetTernServer"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Resets an existing tern server.</p>
</div>
    
<dl>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">function resetTernServer() {
    &#x2F;&#x2F; If a server is already created just reset the analysis data 
    if (ternServer) {
        ternServer.reset();
        Infer.resetGuessing();
        &#x2F;&#x2F; tell the main thread we&#39;re ready to start processing again
        self.postMessage({type: MessageIds.TERN_WORKER_READY});
    }
}</code></pre></div><div class="member">

<span class="pull-right scope">
    
    
</span>
    <h4>
        setConfig 
        <a class="anchor" href="#-setConfig" id="-setConfig"><span class="icon-link"></span></a>
    </h4>

    
    <div class="description"><p>Updates the configuration, typically for debugging purposes.</p>
</div>
    
<dl>
    <dt>
        configUpdate
        <span class="label label-info">Object</span>
    </dt>
    <dd>new configuration</dd>
</dl><dl>
</dl><dl>
</dl><dl>
<dl><button class="btn btn-small show-code">Show code</button>
<pre class="code language-javascript"><code class="language-javascript">function setConfig(configUpdate) {
    config = configUpdate;
}

function _requestTernServer(commandConfig) {
    var file, text, offset,
        request = commandConfig,
        type = request.type;
    if (config.debug) {
        _log(&quot;Message received &quot; + type);
    }

    if (type === MessageIds.TERN_INIT_MSG) {
        var env     = request.env,
            files   = request.files;
        inferenceTimeout = request.timeout;
        initTernServer(env, files);
    } else if (type === MessageIds.TERN_COMPLETIONS_MSG) {
        offset  = request.offset;
        getTernHints(request.fileInfo, offset, request.isProperty);
    } else if (type === MessageIds.TERN_GET_FILE_MSG) {
        file = request.file;
        text = request.text;
        handleGetFile(file, text);
    } else if (type === MessageIds.TERN_CALLED_FUNC_TYPE_MSG) {
        offset  = request.offset;
        handleFunctionType(request.fileInfo, offset);
    } else if (type === MessageIds.TERN_JUMPTODEF_MSG) {
        offset  = request.offset;
        getJumptoDef(request.fileInfo, offset);
    } else if (type === MessageIds.TERN_SCOPEDATA_MSG) {
        offset  = request.offset;
        getScopeData(request.fileInfo, offset);
    } else if (type === MessageIds.TERN_REFS) {
        offset  = request.offset;
        getRefs(request.fileInfo, offset);
    } else if (type === MessageIds.TERN_ADD_FILES_MSG) {
        handleAddFiles(request.files);
    } else if (type === MessageIds.TERN_PRIME_PUMP_MSG) {
        isUntitledDoc = request.isUntitledDoc;
        handlePrimePump(request.path);
    } else if (type === MessageIds.TERN_GET_GUESSES_MSG) {
        offset  = request.offset;
        getTernProperties(request.fileInfo, offset, MessageIds.TERN_GET_GUESSES_MSG);
    } else if (type === MessageIds.TERN_UPDATE_FILE_MSG) {
        handleUpdateFile(request.path, request.text);
    } else if (type === MessageIds.SET_CONFIG) {
        setConfig(request.config);
    } else if (type === MessageIds.TERN_UPDATE_DIRTY_FILE) {
        ExtractContent.updateFilesCache(request.name, request.action);
    } else if (type === MessageIds.TERN_CLEAR_DIRTY_FILES_LIST) {
        ExtractContent.clearFilesCache();
    } else {
        _log(&quot;Unknown message: &quot; + JSON.stringify(request));
    }
}

function invokeTernCommand(commandConfig) {
    try {
        _requestTernServer(commandConfig);
    } catch (error) {
        console.warn(error);
    }
}

function setInterface(msgInterface) {
    MessageIds = msgInterface.messageIds;
}

function checkInterfaceAndReInit() {
    if (!MessageIds) {
        &#x2F;&#x2F; WTF - Worse than failure
        &#x2F;&#x2F; We are here as node process got restarted 
        &#x2F;&#x2F; Request for ReInitialization of interface and Tern Server
        self.postMessage({
            type: &quot;RE_INIT_TERN&quot;
        });
    }
}</code></pre></div>
</section>

        </div>
      </div>
    </div>

    <script type="text/javascript" src="../../../assets/js/prism.js"></script>
  </body>
</html>